//15.150.0-es2019 2025-11-13T13:22:07.677Z (5bbaa50c4dadd)
var CS_CONF={"collectionEnabled":true,"projectId":3715,"status":1,"hostnames":["digikey.com","www.digikey.com","digikey.de","digikey.jp","digikey.in","qualtrics.com","digikey.cn","www.digikey.cn","digikey.kr","digikey.co.uk","digikey.fr","digikey.co.il","digikey.com.mx","digikey.com.au"],"crossDomainTracking":0,"crossDomainSingleIframeTracking":0,"consentRequired":0,"allowSubdomains":1,"visitorCookieTimeout":34164000000,"sampleRate":100,"replayRecordingRate":100,"validationRate":10,"lastTrackingDraw":1754653898,"trackerDomain":"c.contentsquare.net","recordingDomain":"r.contentsquare.net","useMalkaPipeline":1,"ed":"l.contentsquare.net/log/web","eMerchandisingEnabled":0,"mouseMoveHeatmapEnabled":1,"autoInsightsEnabled":0,"jsErrorsEnabled":1,"customErrorsEnabled":1,"jsCustomErrorsEnabled":0,"apiErrorsEnabled":1,"customHashIdEnabled":1,"recordingEncryptionEnabled":0,"recordingEncryptionPublicKey":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAucFIZ8aP87TOVppfn1eX\n\nApOr0VVGw2hGZ+OR22eaiwmFSPyOXg3UywPq4Du1LgzwjOaNBkcEeT7yUzTu1ZDo\n\njEVB6KNN22zkNMD8AH/kPSFyIXxZMTeycPR805FEu1dTH0Zqbz8mPkmqG6sRkDlW\n\np3LdiGQfmwm3r60/P/XcOFHbB/BKk66q/yh3iB5ysMitwD1eb9PdgblWdrbc/3is\n\nM1D/RUYz/jxSpdDwbyWGd2j7nB+utrFZhNcb/jwbw0cRH8eyfpYcLzpUb95xNI2V\n\nevA52xC6hmsQdv2Roq8FLsnjDdop8WCc7w/jkWqx8i1Q4AquvwOANKw4/z4uMVJi\n\n+wIDAQAB","recordingEncryptionPublicKeyId":1684,"secureCookiesEnabled":0,"triggerSessionReplayEnabled":0,"triggerSessionReplayRegex":null,"dynamicIdRegex":null,"whitelistedAttributes":[],"replayRecordingUnmaskedUrlRegex":null,"replayRecordingUnmaskedUrlRegexRules":[],"replayRecordingMaskedUrlRegexRules":[],"replayRecordingMaskedUrlRegex":".*\\/MyDigiKey\\/ReviewOrder.*|\\/ordering\\/submit\\?submit=yes","anonymisationMethod":"replayRecordingMaskedUrlRegex","tagDeploymentMode":"CONTENTSQUARE","experimental":null,"iframesTracking":0,"textVisibilityEnabled":1,"cookielessTrackingEnabled":0,"malkaUrlEnabled":0,"malkaEtrEnabled":0,"pathComputationRules":{"reliableSelectors":[],"uniqueAttributes":[],"uniqueCssSelectors":[".jumpLinkCntr"]},"asyncSerializerEnabled":1,"pendingInactivityTimeout":5000,"accessibilityEnabled":0,"uxaDomain":"app.contentsquare.com","webviewsTrackingEnabled":0,"useStaticResourceManager":1,"performanceTimingOptions":{"withNavigation":true,"withResource":true},"replayConsentRequiredForSession":0,"eventsApiEnabled":0,"clickedElementTextEnabled":1,"collectHierarchy":1,"collectSubmit":1,"collectTargetText":1,"apiErrors":{"collectStandardHeaders":1,"collectionRules":[{"bodyAttributePaths":[{"path":"errors[0].message","encrypted":0,"primary":0,"type":"response"}],"collectQueryParam":0,"collectRequestBody":0,"collectResponseBody":0,"customHeaders":[],"url":"graphql","statusCode":200,"bodyContent":"errors\":"},{"bodyAttributePaths":[],"collectQueryParam":0,"collectRequestBody":0,"collectResponseBody":0,"customHeaders":[{"headerName":"cf-cache-status","encrypted":0,"type":"request"},{"headerName":"cf-ray","encrypted":0,"type":"request"},{"headerName":"x-cache-enabled","encrypted":0,"type":"request"},{"headerName":"x-cache","encrypted":0,"type":"request"},{"headerName":"x-amz-cf-id","encrypted":0,"type":"request"},{"headerName":"x-ray","encrypted":0,"type":"request"},{"headerName":"upgrade","encrypted":0,"type":"request"},{"headerName":"X-Request-Id","encrypted":0,"type":"request"},{"headerName":"x-wix-request-id","encrypted":0,"type":"request"},{"headerName":"X-Pass-Why","encrypted":0,"type":"request"},{"headerName":"x-nginx-cache-status","encrypted":0,"type":"request"},{"headerName":"trace-id","encrypted":0,"type":"request"},{"headerName":"traceparent","encrypted":0,"type":"request"},{"headerName":"X-NewRelic-Transaction","encrypted":0,"type":"request"},{"headerName":"X-Datadog-Trace-ID","encrypted":0,"type":"request"}]}]},"customErrors":{"consoleMessageLogLevels":[]},"displayAdOptions":null,"taskSchedulerOptions":{"enabled":1},"malkaQuotaServiceDomain":"q-aus1.contentsquare.net","malkaRecordingDomain":"k-aus1.contentsquare.net","staticResourceManagerDomain":"srm.bf.contentsquare.net","paProxyDomainUri":"api.us.hp.contentsquare.net","voc":{"siteId":null,"enabled":0},"heapEnvironment":{"env_id":"4241014072","heap_tag_status":"cs_crosswrites_heap","heap_storage_location":null},"implementations":[{"template":{"name":"PageEvent","args":{"eventName":"Click - PLP Smart Filters","iterable":null}},"triggers":[{"name":"ElementClick","args":{"selector":".tss-css-1um5f9r-smartInputContainer"}}]}],"anonymizeDigits":null,"dynamicConfDomain":"t.contentsquare.net/settings","identityEncryptionKey":"MIIBojANBgkqhkiG9w0BAQEFAAOCAY8AMIIBigKCAYEAlL8xaiIUlNZLxrm8XMtTLHMbemquLst2omH6itNokm81n/P/KUJdaAJGopwXDj6TL9zrhnJWrxnyVGI6jEbOSw0RMaLahwVVhwtIuTFtcx6VlsKYEZqn+QBTARMiGR46Z0j6/5+w2x439lFueWn+VADuUBWQ7b+wOozD/SBrUTx2lgv0npyv29OLJvLkeCabUWRNBNErx7R+CZ7LUMt74y2xTuYkDR/hEoApBA7O9WGRrCQ97+Jc74NC84Fmh/VkeyBozV8XHKsT7EUxyPFP61cTh6XUP7F+5hPkE+KlprTkwTGx6P3W4aiUQYwD/klFmSJZ0tPYDUNjSYPOuco0sY8rhihf0ZpfvaMog+JMbieuBMG+xG6+wFifZEh9cXwTVbtIuaKMI7unbgiqJrgL15XzHWEeRluWUEcgBPTACVfQbEq8JYyfRyKEzmGyYcsv/cdFx0FegSRI1hdg516pSKpEefWCUcGEvtCAN/V8aTJWam/Jyci9NFfsuNMfd+lNAgMBAAE=","tagVerificationDomain":"tcvsapi.contentsquare.com"};
var CS_INTEGRATIONS_CONF = {"optimizely":{},"qualtrics":{},"cs-get-replay-link":{},"launch-darkly":{},"google-analytics-4":{},"datadog":{"settings":["setReplayLinkToFirstPV"],"vendorSettings":{"domain":"app.datadoghq.com"}}};
/* integration-optimizely 2.9.2 */
(()=>{"use strict";function e(e,n){try{e()}catch(e){window._uxa=window._uxa||[],window._uxa.push(["logSnippetError",n,e]),(window.csqDebuggerEnabled||document.location.href.indexOf("csqDebuggerEnabled=true")>-1)&&(console.log(`%cCSQ INTEGRATION ERROR: [${n}] : ${e.message}`,"color:rgb(228, 25, 45); font-weight: bold"),console.log(e))}}function n(e){window._uxa=window._uxa||[],window._uxa.push(["event",e])}function t(e,n,t){if((t=t||window)&&n&&e){let i=!1,o=t[e];o?n():Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return o},set:function(e){o=e,i||(i=!0,n())}})}}function i(e){return e&&"string"==typeof e?e.replace(/[\W_]+/g,"-"):""}const o=JSON.parse('{"QC":"Optimizely","Mz":"AB_OP_","be":"OP_"}'),a=function(n){let t,i,o,a;if(e(function(){const e=n.name;t=n.version;const c=e.replace("@contentsquare/integration-","");i=c+"-"+t;let r="-contentsquare";a=new RegExp(r+"$").test(c),o=c.replace(/-contentsquare([^-contentsquare]*)$/,"$1"),a||(r="-cap",a=new RegExp(r+"$").test(c),o=c.replace(/-cap([^-cap]*)$/,"$1"))},"Shared-Function-readPackageJSON"),a)return{snippetBuildName:i,parameterName:o,snippetVersion:t}}(JSON.parse('{"name":"@contentsquare/integration-optimizely-contentsquare","version":"2.9.2","scripts":{"build:snippet":"npx webpack"}}')),c=(a.parameterName,a.snippetBuildName),r=a.snippetVersion;e(function(){const a=o.QC,s=o.Mz,l=o.be;var u,p;function d(e,t){!function(e,n){window._uxa=window._uxa||[],window._uxa.push(["trackDynamicVariable",{key:e,value:n}])}(e=s+e,t);const o=t.endsWith(" [Holdback]");var a,r;n(`${o?"HB_":""}${i(e.replace(s,""))}/${o?t.replace(" [Holdback]",""):i(t)}`),n(`${l}${i(e.replace(s,""))}-${i(t)}`),function(e,n,t){(window.csqDebuggerEnabled||document.location.href.indexOf("csqDebuggerEnabled=true")>-1)&&(t?"warn"===t&&console.log(`%cCSQ INTEGRATION: [${e}] : ${n}`,"color:rgb(255, 86, 2); font-weight: bold"):console.log(`%cCSQ INTEGRATION: [${e}] : ${n}`,"color: #2a9d8f; font-weight: bold"))}(c,(a=e,r=t,document.getElementById("csKey")&&document.getElementById("csValue")&&(document.getElementById("csKey").textContent=a,document.getElementById("csValue").textContent=r),`Dynamic variable with ${a} and value ${r} sent`))}u=a,p=r,CS_CONF.integrations=CS_CONF.integrations||[],CS_CONF.integrations.push(u+" - v"+p);let m=!1;const g=[];!function(e,n,i){i=i||window;const o=e.split(".");if(1==o.length)t(e,n,i);else{let e=i,a=0;const c=function(){e=a>0?e[o[a-1]]:window,a++,a>=o.length?t(o[a-1],n,e):t(o[a-1],c,e)};c()}}("optimizely",function(){setTimeout(function(){e(function(){function n(){e(function(){const e=optimizely.get&&optimizely.get("state");if(e&&e.getCampaignStates&&"function"==typeof e.getCampaignStates&&"object"==typeof e.getCampaignStates()){const t=e.getCampaignStates({isActive:!0}),i=Object.keys(t);if(n=i,Array.isArray(n))for(let e=0;e<i.length;e++)if(-1===g.indexOf(i[e])){g.push(i[e]);const n=t[i[e]];if(n.experiment){let e,t;e=n.experiment.name?n.campaignName:n.experiment.id,t=n.experiment.campaignName&&n.experiment.name?n.experiment.name+" - "+n.variation.name:n.variation.name?n.variation.name:n.variation.id,n.isInCampaignHoldback&&(t+=" [Holdback]"),e&&t&&d(e,t)}}}var n},c)}n(),m||(m=!0,window.optimizely=window.optimizely||[],"function"==typeof optimizely.push&&optimizely.push({type:"addListener",filter:{type:"lifecycle",name:"campaignDecided"},handler:n}))},c)},500)})},c)})();
/* integration-qualtrics 3.2.2 */
(()=>{"use strict";function e(e,t){try{e()}catch(e){window._uxa=window._uxa||[],window._uxa.push(["logSnippetError",t,e]),(window.csqDebuggerEnabled||document.location.href.indexOf("csqDebuggerEnabled=true")>-1)&&(console.log(`%cCSQ INTEGRATION ERROR: [${t}] : ${e.message}`,"color:rgb(228, 25, 45); font-weight: bold"),console.log(e))}}function t(e,t){let n=!1;window._uxa=window._uxa||[],window._uxa.push(["afterPageView",function(i){t?n||(e(i),n=!0):e(i)}])}function n(e){const t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let i=n[e];for(;" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return""}function i(){let e=0,t=document.location.host;const n=t.split("."),i="_cs_tld"+(new Date).getTime();for(;e<n.length-1&&-1==document.cookie.indexOf(i+"="+i);)t=n.slice(-1-++e).join("."),document.cookie=i+"="+i+";domain="+t+";SameSite=None;Secure";return document.cookie=i+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+t+";Secure",t}function o(e){return e.toString().replace(/[^\w. ]/gi,function(e){return"&#"+e.charCodeAt(0)+";"})}function c(e){return Array.isArray(e)}function a(e,t){t||(t="="),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&=]"+e+t+"([^&#]*)").exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}const s=JSON.parse('{"QC":"Qualtrics","Mz":"FB_QT_","ir":"cs_qualtrics","X3":"qt"}'),u=function(t){let n,i,o,c;if(e(function(){const e=t.name;n=t.version;const a=e.replace("@contentsquare/integration-","");i=a+"-"+n;let s="-contentsquare";c=new RegExp(s+"$").test(a),o=a.replace(/-contentsquare([^-contentsquare]*)$/,"$1"),c||(s="-cap",c=new RegExp(s+"$").test(a),o=a.replace(/-cap([^-cap]*)$/,"$1"))},"Shared-Function-readPackageJSON"),c)return{snippetBuildName:i,parameterName:o,snippetVersion:n}}(JSON.parse('{"name":"@contentsquare/integration-qualtrics-contentsquare","version":"3.2.2","scripts":{"build:snippet":"npx webpack"}}')),r=u.parameterName,d=u.snippetBuildName,l=u.snippetVersion;e(function(){const u=s.QC,p=s.Mz,f=s.ir,g=s.X3;var _,S;_=u,S=l,CS_CONF.integrations=CS_CONF.integrations||[],CS_CONF.integrations.push(_+" - v"+S);let w=!1;window.self!=window.top&&(w=CS_CONF.iframesTracking);const m=function(e){function t(e){return"object"==typeof e&&null!==e}if(t(window.CS_INTEGRATIONS_CONF)&&t(window.CS_INTEGRATIONS_CONF[e]))return window.CS_INTEGRATIONS_CONF[e].settings}(r),C=c(m)?m:[],I=C.includes("sendArtificialPageviews"),h=C.includes("setReplayLinkToCurrentPV");let y=!1;function D(e,t,n,i){var o,c,a;(function(e,t){window._uxa=window._uxa||[],window._uxa.push(["trackDynamicVariable",{key:e,value:t}])})(e=p+((a=e)?((new DOMParser).parseFromString(a,"text/html").body.textContent||"").trim():""),t),y&&"etr"===n&&function(e){window._uxa=window._uxa||[],window._uxa.push(["trackEventTriggerRecording","@ETS@"+e])}(e),i&&I&&function(e){window._uxa=window._uxa||[],window._uxa.push(["trackPageview",e])}(window.location.pathname+"?"+i),function(e,t,n){(window.csqDebuggerEnabled||document.location.href.indexOf("csqDebuggerEnabled=true")>-1)&&(n?"warn"===n&&console.log(`%cCSQ INTEGRATION: [${e}] : ${t}`,"color:rgb(255, 86, 2); font-weight: bold"):console.log(`%cCSQ INTEGRATION: [${e}] : ${t}`,"color: #2a9d8f; font-weight: bold"))}(d,(o=e,c=t,document.getElementById("csKey")&&document.getElementById("csValue")&&(document.getElementById("csKey").textContent=o,document.getElementById("csValue").textContent=c),`Dynamic variable with ${o} and value ${c} sent`))}function b(){const e={contentsquare_integration:n("_cs_s"),vendor:"qualtrics"};window.opener?window.opener.postMessage(e,"*"):window.self!=window.top&&window.top.postMessage(e,"*")}if(window.Qualtrics&&Qualtrics.SurveyEngine&&"function"==typeof Qualtrics.SurveyEngine.addOnPageSubmit){if(!w){let v;if(window._cs_integration_qualtrics_postmessage_csid||window.ClickTaleSettings&&ClickTaleSettings.PTC&&ClickTaleSettings.PTC.IntegrationHandler&&ClickTaleSettings.PTC.IntegrationHandler.UserValues)window._cs_integration_qualtrics_postmessage_csid?v=_cs_integration_qualtrics_postmessage_csid:ClickTaleSettings.PTC.IntegrationHandler.UserValues&&(v=ClickTaleSettings.PTC.IntegrationHandler.UserValues);else{const x=document.location.search;x.indexOf("CSID=")>-1?v=a("CSID"):CS_CONF.ptcDomain&&x.indexOf("CT_UID=")>-1?v=a("CT_UID"):window._cs_integration_qualtrics_csid&&(v=decodeURIComponent(_cs_integration_qualtrics_csid))}if(v&&"null"!=v){const E=v.split("~"),N=E[0],O=E[1],q=E[2],R=E[3],P=i();N&&O&&q&&(R?document.cookie="_cs_optout="+R+";domain="+P+";path=/;SameSite=None;Secure":(document.cookie="_cs_optout=;domain="+P+";path=/;expires=Thu, 01-Jan-1970 00:00:01 GMT;SameSite=None;Secure",document.cookie="_cs_optout=;path=/;expires=Thu, 01-Jan-1970 00:00:01 GMT;SameSite=None;Secure",document.cookie="_cs_optout=;domain=."+document.location.host+";path=/;expires=Thu, 01-Jan-1970 00:00:01 GMT;SameSite=None;Secure"),document.cookie="_cs_id="+N+";domain="+P+";path=/;SameSite=None;Secure",document.cookie="_cs_s="+O+";domain="+P+";path=/;SameSite=None;Secure",document.cookie="_cs_c="+q+";domain="+P+";path=/;SameSite=None;Secure")}}let T;function k(){if(!w){let t=n("_cs_s");if(t&&t.indexOf(".T.")>-1){const i=setInterval(function(){e(function(){t=n("_cs_s"),t&&-1===t.indexOf(".T.")&&(clearInterval(i),b())},d)},500)}else b()}}if(window.Page?T=!1:window.q&&(T=!0),setTimeout(function(){(function(e,t,n,i){return new Promise(function(o,c){function a(){window._uxa.push(["replay:link:generate",{withTimestamp:n},s])}function s(i){if(i&&i.replayLink&&i.isRecording){let c="https://"+i.replayLink+"&vd="+e;if(!t&&!n){const e=new URLSearchParams(c);e.set("pvid",1);const t=e.toString();c=decodeURIComponent(t)}o(c)}}e||(e="missingFromDynamicSnippet"),n||(n=!1),i?a():(window._uxa=window._uxa||[],window._uxa.push(["onRecordingStateChange",function(e){e&&e.isRecording&&a()}]))})})(g,h,!1,w).then(function(t){e(function(){if(y=!0,t&&Qualtrics.SurveyEngine){const e=Qualtrics.SurveyEngine;let n;CS_CONF.ptcDomain&&(n="ClicktaleSpecificRecording",!0===T&&"function"==typeof e.setJSEmbeddedData?e.setJSEmbeddedData(n,t):!1===T&&"function"==typeof e.setEmbeddedData&&e.setEmbeddedData(n,t)),n="ContentsquareReplayLink",!0===T&&"function"==typeof e.setJSEmbeddedData?e.setJSEmbeddedData(n,t):!1===T&&"function"==typeof e.setEmbeddedData&&e.setEmbeddedData(n,t)}},d)})},500),t(k,!1),window.addEventListener("Contentsquare_QT_Integration_Dispatcher",function(t){e(function(){if(t&&"object"==typeof t.detail&&"string"==typeof t.detail.key&&"string"==typeof t.detail.value){let e=t.detail.key;const n=t.detail.value;"FB_QT_"===e.slice(0,6)&&(e=e.slice(6)),D(e,n)}},d)}),!1===T&&"function"==typeof Page.getSessionId&&Page.runtime&&Page.runtime.ED&&Page.runtime.ED.SurveyID&&Page._questionRenderers&&Qualtrics.SurveyEngine.QuestionInfo){const F=Page.runtime.ED.SurveyID,Q=Page.getSessionId().replace("FS_","R_");D("Feedback Displayed","Survey ID : "+F);let A=!1,V=!1,$=!1;const B=[];function U(){const e=Qualtrics.SurveyEngine.QuestionInfo,t=Object.keys(e);if(c(t))for(let e=0;e<t.length;e++){const n=Qualtrics.SurveyEngine.QuestionInfo[t[e]].Selector;if(n&&"TB"!=n){V=!0;break}}}function J(){e(function(){U(),A||(A=!0,D("Feedback Accepted","Survey ID : "+F,0,f+"=feedback_accepted_"+F)),setTimeout(function(){e(function(){V&&!$&&!1===Page.runtime.FailedValidation&&($=!0,D("Feedback Submitted","Survey ID : "+F,"etr",f+"=feedback_submitted_"+F),D("Feedback Response ID",Q))},d)},2e3);const t=Page._questionRenderers,n=Object.keys(t);if(c(n))for(let e=0;e<n.length;e++){const i=t[n[e]].runtime;if(i&&i.Selector&&i.QuestionText&&i.Displayed){const t=i.QuestionText;if("NPS"===i.Selector&&i.Selected){const o=parseInt(i.Selected);B.includes(n[e]+"~~~"+o)||(B.push(n[e]+"~~~"+o),D("NPS Rating - "+n[e]+" - "+F+" - "+t,o),D("NPS Rating - "+n[e]+" - "+F,o))}if("STAR"===i.Selector){const t=i.Choices,o=Object.keys(t);if(c(o))for(let i=0;i<o.length;i++){const c=t[o[i]].Display;if(t[o[i]].Value){const a=parseInt(t[o[i]].Value);B.includes(n[e]+" ("+(i+1)+")~~~"+a)||(B.push(n[e]+" ("+(i+1)+")~~~"+a),D("Star Rating - "+n[e]+" ("+(i+1)+") - "+F+" - "+c,a),D("Star Rating - "+n[e]+" ("+(i+1)+") - "+F,a))}}}if("SAVR"===i.Selector||"SAHR"===i.Selector){const t=i.Selected;if(t&&i.Choices){const o=i.Choices[t].ID;o&&(B.includes(n[e]+"~~~AID"+o)||(B.push(n[e]+"~~~AID"+o),D(n[e]+" - "+F,"AID"+o)))}}if("MAVR"===i.Selector&&i.Choices){const t=i.Choices,o=Object.keys(t);if(c(o))for(let i=0;i<o.length;i++)if(t[o[i]].Selected){const c=t[o[i]].ID;c&&(B.includes(n[e]+"~~~AID"+c)||(B.push(n[e]+"~~~AID"+c),D(n[e]+" - "+F,"AID"+c)))}}if("Likert"===i.Selector&&i.Choices){const t=i.Choices,o=Object.keys(t);if(c(o))for(let i=0;i<o.length;i++){const c=t[o[i]].Selected;if(c&&!B.includes(n[e]+"~~~"+c)){const a=t[o[i]].ID;a&&(B.push(n[e]+"~~~"+c),D(n[e]+" - "+F+" - AID"+a,c))}}}}}setTimeout(function(){document.getElementById("NextButton")||D("Feedback Completed","Survey ID : "+F,0,f+"=feedback_completed_"+F)},2e3),Qualtrics.SurveyEngine.addOnPageSubmit(J)},d)}U(),Qualtrics.SurveyEngine.addOnPageSubmit(J)}else if(!0===T&&window.q.init&&window.q.init.appData&&window.q.init.appData.setup&&window.q.init.appData.setup.survey&&window.q.init.appData.setup.survey.id&&window.q.init.appData.session&&window.q.init.appData.session.id){const M=window.q.init.appData.setup.survey.id,G=window.q.init.appData.session.id.replace("FS_","R_");D("Feedback Displayed","Survey ID : "+M);let L=!1;function j(){e(function(){L||(L=!0,D("Feedback Submitted","Survey ID : "+M,"etr",f+"=feedback_submitted_"+M),D("Feedback Response ID",G)),setTimeout(function(){e(function(){document.getElementById("next-button")||D("Feedback Completed","Survey ID : "+M,0,f+"=feedback_completed_"+M)},d)},2e3),Qualtrics.SurveyEngine.addOnPageSubmit(j)},d)}Qualtrics.SurveyEngine.addOnPageSubmit(j)}}else if(!w){function H(t){const n=t.data;n&&(n.contentsquare_integration&&"qualtrics"===n.vendor&&e(function(){const e=n.contentsquare_integration,t=e.split("."),c=Number(t[t.length-1]),a=new Date(c).toUTCString();if(window.CS_CONF&&CS_CONF.allowSubdomains){const t=i();document.cookie="_cs_s="+o(e)+";expires="+a+";domain="+t+";path=/;Secure"}else document.cookie="_cs_s="+o(e)+";expires="+a+";path=/;Secure";X()},d),n.message&&"Contentsquare_QT_Integration_Ready"===n.message&&e(function(){const e={message:"Contentsquare_QT_Integration_Launch",user_values:z()};t.source.postMessage(e,"*")},d))}function z(){const e=n("_cs_id"),t=n("_cs_c"),i=n("_cs_optout");return e+"~"+K+"~"+t+"~"+i}let K;function X(){function t(){const e=z();localStorage.setItem("CSID",e),CS_CONF.ptcDomain&&(localStorage.setItem("CT_UID",e),sessionStorage.setItem("CT_UID",e)),sessionStorage.setItem("CSID",e)}if(K=n("_cs_s"),K&&K.indexOf(".T.")>-1){const i=setInterval(function(){e(function(){K=n("_cs_s"),K&&-1===K.indexOf(".T.")&&(clearInterval(i),t())},d)},500)}else t()}window.addEventListener("message",H),t(X,!1)}},d)})();
/* integration-cs-get-replay-link 2.2.0 */
!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=2)}([function(e){e.exports=JSON.parse('{"displayName":"CS Replay Link Generator","replayKey":"csrlg"}')},function(e){e.exports=JSON.parse('{"name":"@contentsquare/integration-cs-get-replay-link-contentsquare","version":"2.2.0","scripts":{"build:snippet":"webpack"}}')},function(e,n,t){"use strict";function r(e,n){try{e()}catch(e){window._uxa=window._uxa||[],window._uxa.push(["logSnippetError",n,e.message]),(window.csqDebuggerEnabled||document.location.href.indexOf("csqDebuggerEnabled=true")>-1)&&console.log(`%cCSQ INTEGRATION ERROR: [${n}] : ${e.message}`,"color:rgb(228, 25, 45); font-weight: bold")}}t.r(n);var o=t(0);const i=function(e){let n,t,o,i;if(r((function(){const r=e.name;n=e.version;const a=r.replace("@contentsquare/integration-","");t=a+"-"+n;let u="-contentsquare";i=new RegExp(u+"$").test(a),o=a.replace(/-contentsquare([^-contentsquare]*)$/,"$1"),i||(u="-cap",i=new RegExp(u+"$").test(a),o=a.replace(/-cap([^-cap]*)$/,"$1"))}),"Shared-Function-readPackageJSON"),i)return{snippetBuildName:t,parameterName:o,snippetVersion:n}}(t(1)),a=(i.parameterName,i.snippetBuildName),u=i.snippetVersion;r((function(){const e=o.displayName,n=o.replayKey;var t,i;t=e,i=u,CS_CONF.integrations=CS_CONF.integrations||[],CS_CONF.integrations.push(t+" - v"+i);let c={},s=!1;function p(){return"undefined"!=typeof performance&&"function"==typeof performance.now&&performance.timing&&performance.timing.navigationStart&&"undefined"!=typeof Math&&"function"==typeof Math.round?performance.timing.navigationStart+Math.round(performance.now()):Date.now()}new Promise((function(e,n){window._uxa=window._uxa||[],window._uxa.push(["onRecordingStateChange",function(n){n&&n.isRecording&&e(!0)}])})).then((function(e){r((function(){e&&(s=!0)}),a)}));!function(e,n){let t=!1;window._uxa=window._uxa||[],window._uxa.push(["afterPageView",function(r){n?t||(e(r),t=!0):e(r)}])}((function(e){r((function(){c=e;const t=p();CS_CONF.integrations_handler=CS_CONF.integrations_handler||{},CS_CONF.integrations_handler.getReplayLink=function(e,r){if(s&&c){isNaN(e)||(r=e);const o=r;isNaN(o)&&(r=0);const i=c.sessionKey.split("."),a=i[0],u=i[1],s=c.projectId,f=c.pageNumber;let l=f-r;r>=f&&(l=f),0===o&&(l=1);let d="";if("no_ts"!=e&&(d="&t="+(p()-parseInt(t))),s&&a&&u&&l){return"https://app.contentsquare.com/quick-playback/index.html?pid="+s+"&uu="+a+"&sn="+u+"&pvid="+l+"&recordingType=cs&vd="+n+d}return null}}}),a)}),!0)}),a)}]);
/* integration-launch-darkly 3.2.0 */
!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=2)}([function(e){e.exports=JSON.parse('{"displayName":"LaunchDarkly","dvarPrefix":"AB_LD_"}')},function(e){e.exports=JSON.parse('{"name":"@contentsquare/integration-launch-darkly-contentsquare","version":"3.2.0","scripts":{"build:snippet":"webpack"}}')},function(e,n,t){"use strict";function r(e,n){try{e()}catch(e){window._uxa=window._uxa||[],window._uxa.push(["logSnippetError",n,e.message]),(window.csqDebuggerEnabled||document.location.href.indexOf("csqDebuggerEnabled=true")>-1)&&console.log(`%cCSQ INTEGRATION ERROR: [${n}] : ${e.message}`,"color:rgb(228, 25, 45); font-weight: bold")}}function o(e,n){!!(window.csqDebuggerEnabled||document.location.href.indexOf("csqDebuggerEnabled=true")>-1)&&console.log(`%cCSQ INTEGRATION: [${e}] : ${n}`,"color: #2a9d8f; font-weight: bold")}t.r(n);var a=t(0);const i=function(e){let n,t,o,a;if(r((function(){const r=e.name;n=e.version;const i=r.replace("@contentsquare/integration-","");t=i+"-"+n;let u="-contentsquare";a=new RegExp(u+"$").test(i),o=i.replace(/-contentsquare([^-contentsquare]*)$/,"$1"),a||(u="-cap",a=new RegExp(u+"$").test(i),o=i.replace(/-cap([^-cap]*)$/,"$1"))}),"Shared-Function-readPackageJSON"),a)return{snippetBuildName:t,parameterName:o,snippetVersion:n}}(t(1)),u=(i.parameterName,i.snippetBuildName),c=i.snippetVersion;r((function(){const e=a.displayName,n=a.dvarPrefix;var t,r;function i(e,t){(function(e,n){window._uxa=window._uxa||[],window._uxa.push(["trackDynamicVariable",{key:e,value:n}])})(e=n+e,t),o(u,`Dynamic variable with ${e} and value ${t} sent`)}if(t=e,r=c,CS_CONF.integrations=CS_CONF.integrations||[],CS_CONF.integrations.push(t+" - v"+r),CS_CONF.integrations_handler=CS_CONF.integrations_handler||{},CS_CONF.integrations_handler.launchdarkly=function(e,n){e&&n&&i(e,n.toString())},"function"==typeof window.CustomEvent){const e=new window.CustomEvent("Contentsquare_LD_Integration_Launch");window.dispatchEvent(e)}}),u)}]);
/* integration-google-analytics-4 0.14.1 */
!function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=2)}([function(e){e.exports=JSON.parse('{"displayName":"Google Analytics 4","dvarPrefix":"AN_GA_"}')},function(e){e.exports=JSON.parse('{"name":"@contentsquare/integration-google-analytics-4-contentsquare","version":"0.14.1","scripts":{"build:snippet":"webpack"}}')},function(e,n,t){"use strict";function o(e,n){try{e()}catch(e){window._uxa=window._uxa||[],window._uxa.push(["logSnippetError",n,e.message]),(window.csqDebuggerEnabled||document.location.href.indexOf("csqDebuggerEnabled=true")>-1)&&console.log(`%cCSQ INTEGRATION ERROR: [${n}] : ${e.message}`,"color:rgb(228, 25, 45); font-weight: bold")}}function r(e,n){function t(e){return"object"==typeof e&&null!==e}if(t(window.CS_INTEGRATIONS_CONF)&&t(window.CS_INTEGRATIONS_CONF[e]))return window.CS_INTEGRATIONS_CONF[e][n]}t.r(n);let i,a=1e3,u=10;function c(e,n,t,o,l,s){var d;n&&t&&(i||(i=r(e,"timingSettings"),"object"==typeof(d=i)&&null!==d&&Object.keys(d).length&&(a=i.doOnlyWhenInterval,u=i.doOnlyWhenTimes)),void 0===(l=l)&&(l=a),void 0===(s=s)&&(s=u),--s<0?"function"==typeof o&&o():t()?n():setTimeout((function(){c(e,n,t,o,l,s)}),l))}function l(e,n){!!(window.csqDebuggerEnabled||document.location.href.indexOf("csqDebuggerEnabled=true")>-1)&&console.log(`%cCSQ INTEGRATION: [${e}] : ${n}`,"color: #2a9d8f; font-weight: bold")}var s=t(0);const d=function(e){let n,t,r,i;if(o((function(){const o=e.name;n=e.version;const a=o.replace("@contentsquare/integration-","");t=a+"-"+n;let u="-contentsquare";i=new RegExp(u+"$").test(a),r=a.replace(/-contentsquare([^-contentsquare]*)$/,"$1"),i||(u="-cap",i=new RegExp(u+"$").test(a),r=a.replace(/-cap([^-cap]*)$/,"$1"))}),"Shared-Function-readPackageJSON"),i)return{snippetBuildName:t,parameterName:r,snippetVersion:n}}(t(1)),f=d.parameterName,p=d.snippetBuildName,g=d.snippetVersion;o((function(){const e=s.displayName,n=s.dvarPrefix;var t,o;t=e,o=g,CS_CONF.integrations=CS_CONF.integrations||[],CS_CONF.integrations.push(t+" - v"+o);const i=r(f,"logSettings");var a;const u=(a=i,Array.isArray(a)?i:[]).includes("enableLogsVID");function d(e,t){(function(e,n){window._uxa=window._uxa||[],window._uxa.push(["trackDynamicVariable",{key:e,value:n}])})(e=n+e,t),l(p,`Dynamic variable with ${e} and value ${t} sent`)}function b(){var e,n;e="gaGlobal.vid doesn't exist",n=p,window._uxa=window._uxa||[],window._uxa.push(["logSnippetError",n,e]),(window.csqDebuggerEnabled||document.location.href.indexOf("csqDebuggerEnabled=true")>-1)&&console.log(`%cCSQ INTEGRATION LOG ERROR: [${n}] : ${e.message}`,"color:rgb(228, 25, 45); font-weight: bold")}c(f,(function(){const e=window.gaGlobal.vid;e?d("ClientID",e):b()}),(function(){return!(!window.gaGlobal||!gaGlobal.vid)}),(function(){u&&b()}))}),p)}]);
/* integration-datadog 3.2.1 */
!function(e){var n={};function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(o,i,function(n){return e[n]}.bind(null,i));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=2)}([function(e){e.exports=JSON.parse('{"displayName":"Datadog","dvarPrefix":"APM_DD_","replayKey":"dd"}')},function(e){e.exports=JSON.parse('{"name":"@contentsquare/integration-datadog-contentsquare","version":"3.2.1","scripts":{"build:snippet":"webpack"}}')},function(e,n,t){"use strict";function o(e,n){try{e()}catch(e){window._uxa=window._uxa||[],window._uxa.push(["logSnippetError",n,e.message]),(window.csqDebuggerEnabled||document.location.href.indexOf("csqDebuggerEnabled=true")>-1)&&console.log(`%cCSQ INTEGRATION ERROR: [${n}] : ${e.message}`,"color:rgb(228, 25, 45); font-weight: bold")}}function i(e,n){function t(e){return"object"==typeof e&&null!==e}if(t(window.CS_INTEGRATIONS_CONF)&&t(window.CS_INTEGRATIONS_CONF[e]))return window.CS_INTEGRATIONS_CONF[e][n]}t.r(n);function r(e,n,t){if((t=t||window)&&n&&e){let o=!1,i=t[e];i?n():Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return i},set:function(e){i=e,o||(o=!0,n())}})}}function a(e,n){!!(window.csqDebuggerEnabled||document.location.href.indexOf("csqDebuggerEnabled=true")>-1)&&console.log(`%cCSQ INTEGRATION: [${e}] : ${n}`,"color: #2a9d8f; font-weight: bold")}var u=t(0);const c=function(e){let n,t,i,r;if(o((function(){const o=e.name;n=e.version;const a=o.replace("@contentsquare/integration-","");t=a+"-"+n;let u="-contentsquare";r=new RegExp(u+"$").test(a),i=a.replace(/-contentsquare([^-contentsquare]*)$/,"$1"),r||(u="-cap",r=new RegExp(u+"$").test(a),i=a.replace(/-cap([^-cap]*)$/,"$1"))}),"Shared-Function-readPackageJSON"),r)return{snippetBuildName:t,parameterName:i,snippetVersion:n}}(t(1)),s=c.parameterName,f=c.snippetBuildName,l=c.snippetVersion;o((function(){const e=u.displayName,n=u.dvarPrefix,t=u.replayKey;var c,d;c=e,d=l,CS_CONF.integrations=CS_CONF.integrations||[],CS_CONF.integrations.push(c+" - v"+d);const p=i(s,"settings");var w;const g=(w=p,Array.isArray(w)?p:[]).includes("setReplayLinkToCurrentPV");function _(e,t){(function(e,n){window._uxa=window._uxa||[],window._uxa.push(["trackDynamicVariable",{key:e,value:n}])})(e=n+e,t),a(f,`Dynamic variable with ${e} and value ${t} sent`)}function y(){setTimeout((function(){o((function(){if("function"==typeof DD_RUM.getInternalContext&&"object"==typeof DD_RUM.getInternalContext()){const n=DD_RUM.getInternalContext().session_id;if(n){const t=i(s,"vendorSettings");let o=("object"==typeof(e=t)&&null!==e?t:{}).domain;if(o){o=o.trim(),o=o.replace("http://",""),o=o.replace("https://",""),o=o.replace("/","");let e=new Date;e.setHours(e.getHours()-2),e=Date.parse(e);let t=new Date;t.setHours(t.getHours()+1),t=Date.parse(t);_("Session Link","https://"+o+"/rum/explorer?query=@session.id:"+n+"&tab=session&from_ts="+e+"&to_ts="+t+"&live=true")}_("SessionID",n)}(function(e,n,t,o){return new Promise((function(i,r){function a(){window._uxa.push(["replay:link:generate",{withTimestamp:t},u])}function u(o){if(o&&o.replayLink&&o.isRecording){let r="https://"+o.replayLink+"&vd="+e;if(!n&&!t){const e=new URLSearchParams(r);e.set("pvid",1);const n=e.toString();r=decodeURIComponent(n)}i(r)}}e||(e="missingFromDynamicSnippet"),t||(t=!1),o?a():(window._uxa=window._uxa||[],window._uxa.push(["onRecordingStateChange",function(e){e&&e.isRecording&&a()}]))}))})(t,g).then((function(e){o((function(){if(e){const n={ContentsquareReplay:e};"function"==typeof DD_RUM.addUserAction?DD_RUM.addUserAction("Contentsquare",n):"function"==typeof DD_RUM.addAction&&DD_RUM.addAction("Contentsquare",n)}}),f)}))}var e}),f)}),500)}!function(e,n){let t=!1;window._uxa=window._uxa||[],window._uxa.push(["afterPageView",function(o){n?t||(e(o),t=!0):e(o)}])}((function(e){o((function(){e&&1===e.pageNumber&&function(e,n,t){t=t||window;const o=e.split(".");if(1==o.length)r(e,n,t);else{let e=t,i=0;const a=function(){e=i>0?e[o[i-1]]:window,i++,i>=o.length?r(o[i-1],n,e):r(o[i-1],a,e)};a()}}("DD_RUM",y)}),f)}),!0)}),f)}]);
(()=>{var fd=Object.defineProperty;var pd=(s,n,t)=>n in s?fd(s,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[n]=t;var Me=(s,n,t)=>pd(s,typeof n!="symbol"?n+"":n,t);var Te={};Te.d=(s,n)=>{for(var t in n)Te.o(n,t)&&!Te.o(s,t)&&Object.defineProperty(s,t,{enumerable:!0,get:n[t]})};Te.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();Te.o=(s,n)=>Object.prototype.hasOwnProperty.call(s,n);Te.r=s=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var Ao={};Te.r(Ao);Te.d(Ao,{getRequestParameters:()=>Tm});function Ls(s,n){let t;return window.Zone&&typeof window.Zone.__symbol__=="function"&&(t=s[window.Zone.__symbol__(n)]),t!=null?t:s[n]}var pt=(()=>{let s;return function(n){n.debug="debug",n.warn="warn",n.implementation="implementation",n.error="error",n.critical="critical"}(s||(s={})),s})();function mt(s){return J(s)&&(typeof s=="number"||s instanceof Number)&&!isNaN(s)}function Ns(s){return s===parseInt(s,10)}function A(s){return J(s)&&(typeof s=="string"||s instanceof csString)}function Ui(s){return typeof s=="boolean"}function Fe(s){return typeof s=="object"}function J(s){return typeof s!="undefined"}function dt(s){return J(s)&&s!==null}function K(s){return typeof s=="object"&&s!==null}function gd(s,n,t){return Ns(s)&&s>=n&&s<=t}function Mn(s){for(let n in s)return!1;return!0}function Ae(s){return typeof s=="function"}function Re(s){return s instanceof Element}function pe(s){return s instanceof Error}function Wn(s){let n=s.length;for(let t=0;t<n;t++)switch(csString.prototype.charCodeAt.call(s,t)){case 9:case 10:case 11:case 12:case 13:case 32:case 160:continue;default:return!1}return!0}var ur={[pt.debug]:0,[pt.warn]:1,[pt.implementation]:1,[pt.error]:2,[pt.critical]:3},et={debug(...s){},warn(...s){},implementation(...s){},error(...s){},critical(...s){},isPerfLoggingActive(){return!1}};function md(s){et=s}var N=s=>(n,t,e)=>{let i=(t==null?void 0:t.toString())||"",r=s||`${n.constructor&&n.constructor.name}.${i}`;if(e){let o=e.value;e.value=function(...c){return ms(r,o.bind(this))(...c)}}};function ms(s,n){return function(...t){try{let e=n.apply(this,t);return J(self.Promise)&&e instanceof self.Promise?e.then(i=>i,i=>et.error(pe(i)?i:new Error(i),s)):e}catch(e){try{et.error(pe(e)?e:new Error(e),s)}catch{}}}}function st(s,n,t,e){var i=arguments.length,r=i<3?n:e===null?e=Object.getOwnPropertyDescriptor(n,t):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(s,n,t,e);else for(var c=s.length-1;c>=0;c--)(o=s[c])&&(r=(i<3?o(r):i>3?o(n,t,r):o(n,t))||r);return i>3&&r&&Object.defineProperty(n,t,r),r}function Yn(s){let n=new ArrayBuffer(s.length),t=new Uint8Array(n);for(let e=0,i=s.length;e<i;e+=1)t[e]=csString.prototype.charCodeAt.call(s,e);return n}function Ma(s){let n=new Uint8Array(s),t="";for(let e=0;e<n.byteLength;e+=1)t+=csString.fromCodePoint(n[e]);return t}function yd(s){return new Promise((n,t)=>{let e=new csFileReader;e.onload=i=>{var r,o;if(typeof((r=i.target)===null||r===void 0?void 0:r.result)!="string")return t("Unexpected output: "+((o=i.target)===null||o===void 0?void 0:o.result));n(csString.prototype.split.call(i.target.result,",")[1])},e.readAsDataURL(new Blob([s]))})}function Ro(s){let n=self.atob(s);return Yn(n)}function Dn(s){let n=csArray.from(new Uint8Array(s));return csArray.prototype.join.call(csArray.prototype.map.call(n,t=>csString.prototype.padStart.call(t.toString(16),2,"0")),"")}function Da(s){let n=csString.prototype.indexOf.call(s,";base64,")!==-1,t=csString.prototype.indexOf.call(s,","),e=n?[csString.prototype.substring.call(s,0,t-7),csString.prototype.substring.call(s,t+1)]:[csString.prototype.substring.call(s,0,t),csString.prototype.substring.call(s,t+1)];if(!n&&/^%3Csvg/i.test(e[1]))try{e[1]=decodeURIComponent(e[1])}catch(o){et.warn(`${o}, calling decodeURIComponent on: ${e[1]}`)}let r=n?Ro(e[1]):Yn(e[1]);return new Blob([r],{type:csString.prototype.replace.call(e[0],"data:","")})}var cl=typeof performance!="undefined"&&!!performance.now,ka=cl?()=>performance.now():()=>csDate.now(),Ed=(()=>{var s,n;return cl?(n=(s=performance.timing)===null||s===void 0?void 0:s.navigationStart)!==null&&n!==void 0?n:Math.floor(performance.timeOrigin):0})(),Co=34164e6,C={now(){return Math.round(ka()+Ed)},elapsed(){return ka()}};function xa(){return Math.floor(C.now()/1e3)}function ll(){return typeof window.Promise=="function"}function Io(){var s;return typeof crypto!="undefined"&&Ae((s=crypto.subtle)===null||s===void 0?void 0:s.digest)}function La(){var s,n;return typeof((s=window.navigation)===null||s===void 0?void 0:s.addEventListener)=="function"&&typeof((n=window.navigation)===null||n===void 0?void 0:n.removeEventListener)=="function"}function It(s,n){return csString.prototype.lastIndexOf.call(s,n,0)===0}function di(s,n){return csString.prototype.indexOf.call(s,n,s.length-n.length)!==-1}async function Ua(s,n){return Dn(await window.crypto.subtle.digest(s,n))}var Sd=Number.MAX_SAFE_INTEGER||9007199254740991,Ms={percentage(){return Math.floor(Math.random()*1e4)/100},boolean(s){return this.percentage()<s},integer(s=Sd){return Math.floor(Math.random()*s)}},qi=typeof window=="undefined";function vd(){return typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof Te.g!="undefined"?Te.g:typeof process!="undefined"?process:Function("return this")()}var rt=vd();function ni(s,n){let t,e,i,r,o,c=null,l=f=>{let u=C.elapsed();if(!f&&c!==null){let y=n-(u-c);if(y>=1){i=rt.csSetTimeout(l,y);return}}let m=u-r;i=null,c=null,r=null,o=s.apply(t,[m,...e])},h=function(){if(t=this,e=arguments,r){c=C.elapsed();return}return r=C.elapsed(),i=rt.csSetTimeout(l,n),o};return h.flushPending=()=>{i&&(rt.csClearTimeout(i),l(!0))},h.cancel=()=>{c=null,r=null,i&&(rt.csClearTimeout(i),i=null)},h}function wd(s=0){return(n,t,e)=>{e.value=ni(e.value,s)}}var Vi=(()=>{class s{static setGlobalService(t){s.globalService=t}constructor(t){this.name=t,this.values={}}reset(){this.values={}}flush(t=""){if(!s.globalService)return!1;let e=this.values,i=Object.keys(e);if(!i.length)return!1;let r=`${t===""?"":`${t}.`}${this.name}`,o=csArray.prototype.map.call(i,c=>({name:r,parameter:c,value:Math.round(e[c])}));return s.globalService.push(o),this.reset(),o.length>0}}return s.globalService=null,st([N()],s.prototype,"flush",null),s})(),kt=(()=>{class s extends Vi{constructor(t,e=100){super(t),this.AE=e,this.values={},e&&(this.debouncedFlush=ni(()=>this.flush(),this.AE))}count(t,e=1){Vi.globalService&&(this.values[t]=(this.values[t]||0)+e,this.debouncedFlush())}}return s})(),Va=(()=>{class s extends Vi{constructor(){super(...arguments),this.values={average:0,count:0,max:0,total:0}}get average(){return this.values.average}get count(){return this.values.count}get max(){return this.values.max}get total(){return this.values.total}flush(t=""){return this.count===0?!1:super.flush(t)}push(t){this.values.count++,this.values.total+=t,this.values.max=Math.max(this.values.max,t),this.values.average=this.values.total/this.values.count}reset(){this.values={count:0,total:0,max:0,average:0}}}return s})(),qs=(()=>{class s extends Vi{constructor(t,e=["max","average","total","count"]){super(t),this.collecting=e}flush(t=""){let e=Object.keys(this.values);return csArray.prototype.forEach.call(csArray.prototype.filter.call(e,i=>!csArray.prototype.some.call(this.collecting,r=>csString.prototype.endsWith.call(i,`.${r}`))),i=>{delete this.values[i]}),super.flush(t)}add(t,e){var i,r,o,c,l,h,f;let u=m=>this.values[`${t}.${m}`];(i=(c=this.values)[l=`${t}.count`])!==null&&i!==void 0||(c[l]=0),(r=(h=this.values)[f=`${t}.total`])!==null&&r!==void 0||(h[f]=0),this.values[`${t}.count`]++,this.values[`${t}.total`]+=e,this.values[`${t}.max`]=Math.max((o=u("max"))!==null&&o!==void 0?o:0,e),this.values[`${t}.average`]=u("total")/u("count")}}return s})(),F={counters:{commandsFromIntegrations:new kt("commands-from-integrations"),commandsFromCSTC:new kt("commands-from-cstc"),commandsFromIframe:new kt("commands-from-iframe"),commandApplied:new kt("command-applied"),commandError:new kt("command-error"),commandMisuse:new kt("command-misuse"),CSTCSnippetUsed:new kt("cstc-snippet-used"),redactedPII:new kt("redacted-pii"),pageAnonymisation:new kt("page-anonymisation"),patchedNativeFunctions:new kt("patched-native-functions"),pureWindowState:new kt("pure-window-state"),sensitiveElements:new kt("sensitive-elements"),cspErrors:new kt("csp-errors"),networkRequests:new kt("network-requests"),webVitalsErrors:new kt("web-vitals-errors"),trackedFeatures:new kt("tracked-features"),longTasks:new Va("long-tasks"),errors:new kt("errors"),methodPerformance:new qs("perf"),downloadTime:new qs("download-time",["max","average"]),transferSize:new qs("transfer-size",["max","average"]),evalTime:new qs("eval-time",["max","average"]),blockingTime:new Va("blocking-time"),inpContribution:new qs("inp-contribution"),tasks:new qs("tasks",["max","average"])},setService(s){Vi.setGlobalService(s)}},Wi=(()=>{class s{constructor(){this.Zo=0}get length(){return this.Zo}get isEmpty(){return!this.Ys}pushAll(t){for(let e=0;e<t.length;e++)this.push(t[e])}push(t){this.Zo++,this.mr?this.mr=this.mr[1]=[t,void 0]:this.mr=this.Ys=[t,void 0]}pop(){if(!this.Ys)return null;this.Zo--;let t=this.Ys[0];return this.Ys=this.Ys[1],this.Ys||(this.mr=void 0),t}forEach(t){let e=this.Ys;for(;e!=null&&e.length;)t(e[0]),e=e[1]}clear(){this.Zo=0,this.Ys=this.mr=void 0}}return s})(),Wr=0,Po=s=>{Wr++,csQueueMicrotask(()=>Vs(()=>{try{s()}finally{Wr--}},[Ce.MicroTask,"queueMicrotask"]))},kn=new Wi,xn=new Wi;function $t(s,n="high"){kn.isEmpty&&xn.isEmpty&&hl(_d),n==="high"?xn.push(ja(s)):kn.push(ja(s))}function hl(s,n=10){n===0?Po(s):csQueueMicrotask(()=>hl(s,n-1))}function _d(){for(;!xn.isEmpty;)xn.pop()();for(;!kn.isEmpty;)kn.pop()()}async function ul(s=1){for(let n=0;n<s;n++)await new Promise(t=>$t(t))}function ja(s){return function(){try{s.apply(window,arguments)}catch(n){et.critical(n)}}}var Pn="null",cs=null,dl=[],bd=()=>{var s;return qi||!!(!((s=document.body)===null||s===void 0)&&s.getAttribute("data-cs-tag-extension"))};!qi&&bd()&&(window._uxa?_uxa.push(["debugEvents",!0]):window._uxa=[["debugEvents",!0]],cs=new BroadcastChannel("cs-tag"),document.addEventListener("cs.tracking.recordingEvent",s=>{Yr({type:"UXA_EVENT",event:s.detail})}),cs.addEventListener("message",s=>{if(s.data.type==="CONNECT"){if(s.data.sessionId===Pn)return;Pn=s.data.sessionId,csArray.prototype.forEach.call(dl,n=>n()),cs==null||cs.postMessage({type:"CONNECTED",sessionId:Pn})}}));function Td(s){qi||(Pn!==null&&csSetTimeout(s),csSetTimeout(()=>csArray.prototype.push.call(dl,s)))}function Yr(s){cs==null||cs.postMessage(s)}function ri(s){var n;let t=(n=s.length)!==null&&n!==void 0?n:0,e=new csArray(t);for(let i=0;i<t;i+=1)e[i]=s[i];return e}function He(s,n){let t=s.length,e=new csArray(t);for(let i=0;i<t;i+=1)e[i]=n(s[i]);return e}function Ad(s,n,t){let e=[],i=0;for(let r=0;r<s.length;r+=1){let o=n(s[r]);for(let c=0;c<o.length;c++)t(o[c],i++)}return e}function Oo(s,n){let t=[];return Ad(s,n,e=>csArray.prototype.push.call(t,e)),t}function X(s,n){if(Rd(s)){let t=s.length;for(let e=0;e<t;e++)n(s[e],e)}else{let t=0,e=s.next();for(;!e.done;)n(e.value,t++),e=s.next()}}function Rd(s){return s.length>=0}function Us(s,n){let t=s.length;for(let e=0;e<t;e++)if(n(s[e],e))return s[e]}function ji(s,n){let t=s.length;for(let e=0;e<t;e++)if(n(s[e],e))return!0;return!1}function No(s,n){let t=s.length;for(let e=0;e<t;e++)if(!n(s[e],e))return!1;return!0}function Hi(s,n){let t=s.length,e=[];for(let i=0;i<t;i+=1){let r=s[i];n(r)&&csArray.prototype.push.call(e,r)}return e}function Cd(s,n,t){let e=s.length+n.length+((t==null?void 0:t.length)||0),i=new csArray(e),r=0;for(let o=0;o<s.length;o++)i[r++]=s[o];for(let o=0;o<n.length;o++)i[r++]=n[o];if(!t)return i;for(let o=0;o<t.length;o++)i[r++]=t[o];return i}function Ha(s,n){for(let t=0;t<s.length;t++)csArray.prototype.push.call(n,s[t])}function $e(s){let n=s instanceof Map,t=[];return s.forEach((e,i)=>csArray.prototype.push.call(t,n?[i,e]:e)),t}function Id(s){return csArray.isArray(s)&&s.length>0}var Yi=(()=>{class s{constructor(t,e=""){this.name=t,this.format=e}}return s})(),De=(()=>{class s extends Yi{constructor(t){super(t,"Value: {count}"),this.count=0}increase(t=1){this.count+=t}decrease(){this.count>0&&this.count--}clear(){this.count=0}getData(){return{count:this.count}}}return s})();var Ba=(()=>{class s extends Yi{constructor(t){super(t,"Living intances: {instances}<br/>Added: {added}<br/>Removed: {removed}"),this.added=0,this.removed=0}get value(){return this.added-this.removed}increase(){this.added++}decrease(){this.removed++}getData(){return{added:this.added,removed:this.removed,instances:this.added-this.removed}}}return s})(),ke=(()=>{class s extends Yi{constructor(t){super(t,"Count: {count}<br/>Average: {average}ms<br/>Max: {max}ms<br/>Total: {total}ms"),this.total=0,this.count=0,this.max=0}get average(){return this.count?this.total/this.count:0}elapsed(t){return this.count++,this.max=Math.max(this.max,t),this.total+=t,t}measure(t){let e=C.elapsed();t(),this.count++;let i=C.elapsed()-e;return this.max=Math.max(this.max,i),this.total+=i,i}asyncMeasure(){let t=C.elapsed();return()=>{this.count++;let e=C.elapsed()-t;return this.max=Math.max(this.max,e),this.total+=e,e}}getData(){return{total:this.total,count:this.count,average:this.average,max:this.max}}}return s})(),Pd=(()=>{class s extends Yi{constructor(){super("INP","Value: {value}")}getData(){return{value:wt.tasks.eventListener.max}}}return s})(),wt={general:{category:"General",nbEvents:new De("Nb of Events"),pendingTasks:new De("Pending Tasks"),pendingEvents:new De("Pending Tasks"),nbOfMutationObservers:new Ba("Nb of Mutation Observers"),inp:new Pd},mutations:{category:"Mutations",initialDOM:new ke("Initial DOM"),pendingMutations:new De("Nb of Mutations scheduled"),serializedMutations:new ke("Serialized Mutations"),count:new De("Mutation Count"),elementMutationObserved:new Ba("Nb of Elements Observed by MutationObserver"),unobserveGarbageCollection:new ke("Unobserve GC")},visibilityObserver:{category:"Visibility Observer",hiddenElements:new De("Nb of Hidden Elements "),nbElements:new De("Nb of  Elements")},tasks:{category:"Tasks",tasks:new De("Tasks"),errors:new De("Errors"),timer:new ke("Timers"),microtask:new ke("Microtasks"),mutationObserver:new ke("MutationObserver"),monkeyPatch:new ke("MonkeyPatch"),eventListener:new ke("EventListener"),intersectionObserver:new ke("Intersection")}};function Od(){let s=null;Td(()=>{let n=r=>Object.keys(r),t=csArray.prototype.map.call(n(wt),r=>wt[r]),e=csArray.prototype.map.call(t,r=>csArray.prototype.filter.call(csArray.prototype.map.call(n(r),o=>r[o]),o=>o instanceof Yi));Yr({type:"UXA_PERFORMANCE_COUNTER_SCHEMA",event:csArray.prototype.map.call(t,(r,o)=>({category:r.category,performanceCounters:csArray.prototype.map.call(e[o],c=>({name:c.name,format:c.format}))}))}),!s&&(s=csSetInterval(()=>{Vs(()=>{let r=Oo(He(e,o=>He(o,c=>c.getData())),o=>o);Yr({type:"UXA_PERFORMANCE_COUNTER",event:r})},[Ce.Timer,"performance-counter-interval"])},1e3))})}var Ce=(()=>{let s;return function(n){n.Timer="timer",n.MonkeyPatch="monkeyPatch",n.MutationObserver="mutationObserver",n.EventListener="eventListener",n.IntersectionObserver="intersectionObserver",n.MicroTask="microtask"}(s||(s={})),s})(),Ht=null,Nd=["click","tap","keyup","keydown","pointerup","pointerdown"];async function Vs(s,n,t=null){if(Ht&&n[0]!==Ce.MicroTask)return s();t&&(Ht=t),Ht||(Ht={type:n[0],elapsed:0},wt.tasks.tasks.increase());try{Ht.elapsed+=Md(s)}catch(e){wt.tasks.errors.increase(),et.critical(new Error(`Task error:  ${n}/${s.name}.
${e.message}
${e.stack}`,e),"TASK_ERROR")}finally{Wr<=0&&(wt.tasks[Ht.type].elapsed(Ht.elapsed),Ht.elapsed>50&&(F.counters.longTasks.push(Ht.elapsed),F.counters.blockingTime.push(Ht.elapsed-50)),Ht.elapsed>5&&F.counters.tasks.add(n[0],Ht.elapsed),csArray.prototype.includes.call(Nd,n[1])&&F.counters.inpContribution.add(n[1],Ht.elapsed),Ht=null)}}function Md(s){let n=C.elapsed();return s(),C.elapsed()-n}var dr,Dd="cs-native-frame";var ts={navigatorProperties:[{propertyName:"sendBeacon",binding:navigator}],nodeProperties:["childNodes","parentNode","nextSibling","firstChild","nodeType"],elementProperties:["shadowRoot"],elementPropertiesValues:["matches","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector"],eventProperties:["target"],imageProperties:["src"],constructors:{Date:"csDate",JSON:"csJSON",Array:"csArray",String:"csString",URL:"csURL",MutationObserver:"csMutationObserver",screen:"csScreen",RegExp:"csRegExp"}};function fl(s,n){let t=Ls(window,s);return function(e,i){return t(()=>Vs(e,[n,s]),i)}}window.csSetTimeout=fl("setTimeout",Ce.Timer);window.csSetInterval=fl("setInterval",Ce.Timer);window.csQueueMicrotask=(dr=Ls(window,"queueMicrotask"))!==null&&dr!==void 0?dr:setTimeout;window.csClearTimeout=Ls(window,"clearTimeout");window.csClearInterval=Ls(window,"clearInterval");window.csFileReader=Ls(window,"FileReader");(()=>{var s;let n=0;function t(i){return"cs$Symbol_"+i}function e(i){return t(i)+ ++n}e.for=t,window.csSymbol=(s=window.Symbol)!==null&&s!==void 0?s:e})();function kd(){let s=document.createElement("iframe");s.id=Dd,s.setAttribute("hidden",""),s.setAttribute("title","Intentionally blank"),s.setAttribute("sandbox","allow-same-origin");let n=document.createElement("cs-native-frame-holder");if(n.setAttribute("hidden",""),document.body.appendChild(n),!!Element.prototype.attachShadow){let e=n.attachShadow({mode:"closed"});return e.innerHTML=s.outerHTML,e.firstElementChild.contentWindow}return n.innerHTML=s.outerHTML,n.firstElementChild.contentWindow}function xd(s,n){let t,e=s;for(;e&&!(t=Object.getOwnPropertyDescriptor(e,n));)e=Object.getPrototypeOf(e);return t}function Ld(s,n,t){let e=xd(s,n);if(!e)return function(){return this[n]};switch(t){case"get":return e.get;case"set":return e.set;case"value":return e.value}}function pl(s){var n,t;Object.keys(ts.constructors).forEach(i=>{window[ts.constructors[i]]=s[i]instanceof Function&&s[i].prototype==null?s[i].bind(window):s[i]}),jd(s);let e=s.MutationObserver;("Prototype"in window||Vd())&&(e=(t=(n=Ls(window,"MutationObserver"))!==null&&n!==void 0?n:window.WebKitMutationObserver)!==null&&t!==void 0?t:window.MutationObserver),window.csIntersectionObserver=Fa(window.IntersectionObserver,Ce.IntersectionObserver),window.csMutationObserver=Fa(e,Ce.MutationObserver),Ws("csNode",ts.nodeProperties,s.Node.prototype,"get"),Ws("csElement",ts.elementProperties,s.Element.prototype,"get"),Ws("csElement",ts.elementPropertiesValues,s.Element.prototype,"value",!1),Ws("csHTMLImageElement",ts.imageProperties,s.HTMLImageElement.prototype,"set"),Ws("csEvent",ts.eventProperties,s.Event.prototype,"get"),Ws("csNavigator",ts.navigatorProperties,s.navigator,"value")}function Ws(s,n,t,e,i=!0){n.forEach(r=>{let o=typeof r!="string"&&"binding"in r,c=o?r.propertyName:r;(i||c in t)&&(window[`${s+c}`]=Ld(t,c,e),o&&(window[`${s+c}`]=window[`${s+c}`].bind(r.binding)))})}function Mo(s,n){window.CSProtectnativeFunctionsLogs=window.CSProtectnativeFunctionsLogs||{},window.CSProtectnativeFunctionsLogs[s]=n}function Ud(){try{let s=kd();return s?(window.CSPureWindow=s,pl(window.CSPureWindow),!0):!1}catch(s){return Mo("Warning",`failed to copy references from pure iframe: ${s.message}`),!1}}if(!Ud())try{pl(rt)}catch(s){Mo("Critical",`failed to copy references from window: ${s.message}`)}function Vd(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function jd(s){window.csquerySelector={1:s.Element.prototype.querySelector,9:s.Document.prototype.querySelector,11:s.DocumentFragment.prototype.querySelector},window.csquerySelectorAll={1:s.Element.prototype.querySelectorAll,9:s.Document.prototype.querySelectorAll,11:s.DocumentFragment.prototype.querySelectorAll}}function Fa(s,n){try{let t=function(e,i){return new s((o,c)=>{Vs(()=>e(o,c),[n,s.name])},i)};return t.base=s,t}catch{return Mo("Warning",`failed to extends ${s.name}`),s}}var W=(()=>{let s;return function(n){n.ELLIPSIS="\u2026";function t(o){return csString.prototype.replace.call(o,/[.*+?^${}()|[\]\\]/g,"\\$&")}function e(o){return csString.prototype.replace.call(o,/([#;&,.+*~':"!^$[\]()<=>|/%?@`{}\\ ])/g,"\\$1")}n.escapeInvalidCharacters=e;function i(o,c,l){if("replaceAll"in csString.prototype)return csString.prototype.replaceAll.call(o,c,l);let h=new csRegExp(t(c),"g");return csString.prototype.replace.call(o,h,l)}n.stringReplaceAll=i;function r(o,c,l=""){return o.length<=c?o:csString.prototype.slice.call(o,0,c-l.length)+l}n.truncate=r}(s||(s={})),s})();function Xr(s){return W.escapeInvalidCharacters(csString.prototype.toLowerCase.call(s.localName))}function Hd(s){let n=s.getAttribute("id");return n&&W.escapeInvalidCharacters(n)}function ft(s){return csNodenodeType.apply(s)===1}function Ln(s){return csNodenodeType.apply(s)===3}function Bd(s){return csNodenodeType.apply(s)===8}function gl(s){return ft(s)&&s.localName==="link"}function Fd(s){return ft(s)&&s.localName==="source"}function ml(s){return ft(s)&&s.localName==="a"}function Do(s){return gl(s)&&csString.prototype.indexOf.call(s.rel,"stylesheet")!==-1}function $d(s){return ft(s)&&s.localName==="img"}function Xi(s){return ft(s)&&s.localName==="style"}function ys(s){return ft(s)&&s.localName==="input"}function oi(s){return ft(s)&&s.localName==="textarea"}function Ki(s){return ft(s)&&s.localName==="script"}function zd(s){return ft(s)&&s.localName==="button"}function fi(s){return ft(s)&&"ownerSVGElement"in s}function ai(s){return ft(s)&&s.localName==="select"}function Gd(s){return ft(s)&&s.localName==="details"}function qd(s){return ft(s)&&s.localName==="summary"}function Wd(s){return fi(s)&&s.localName==="image"}function Yd(s){return fi(s)&&s.localName==="use"}function Xd(s){return fi(s)&&s.localName==="feImage"}function Kd(s){switch(csNodenodeType.apply(s)){case 9:case 11:return!0;default:return!1}}function Jd(s){switch(csNodenodeType.apply(s)){case 9:case 11:case 1:return!0;default:return!1}}function Un(s){return csNodenodeType.apply(s)===9}function Bi(s){return Kd(s)&&"host"in s&&"mode"in s}function yl(s){return ft(s)&&!!csElementshadowRoot.apply(s)&&Bi(csElementshadowRoot.apply(s))}var Qd=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"];function Zd(s){return ft(s)&&dt(s.tagName)&&csString.prototype.indexOf.call(s.tagName,"-")>0&&csString.prototype.indexOf.call(s.tagName,":")===-1&&csString.prototype.indexOf.call(s.tagName,'"')===-1&&csString.prototype.indexOf.call(s.tagName,",")===-1&&csArray.prototype.indexOf.call(Qd,csString.prototype.toLocaleLowerCase.call(s.tagName))<0}var Ji="detached";function El(s){let n=s,t=[n];for(;csNodeparentNode.apply(n)!==null;)n=csNodeparentNode.apply(n),csArray.prototype.push.call(t,n);return Vn(n)&&csArray.prototype.push.call(t,Ji),{ancestors:t,selectionRoot:n}}function tf(s){let n=s,t=[n],e=null;for(;csNodeparentNode.apply(n)!==null;)e===null&&ml(n)&&(e=n),csArray.prototype.push.call(t,csNodeparentNode.apply(n)),n=csNodeparentNode.apply(n);return Vn(n)&&csArray.prototype.push.call(t,Ji),{firstAnchorParent:e,ancestors:t,selectionRoot:n}}function Vn(s){return Be.isValidElement(s)}var As=(()=>{var s,n;return(n=(s=rt.Element)===null||s===void 0?void 0:s.prototype)!==null&&n!==void 0?n:{}})(),ee=As.matches||As.matchesSelector||As.mozMatchesSelector||As.msMatchesSelector||As.oMatchesSelector||As.webkitMatchesSelector,$a=As.closest,Sl=9;function ef(s,n){return n?csArray.prototype.some.call(n,t=>ee.call(s,t)):!1}function sf(s,n,t){if(s===Ji||csNodenodeType.apply(s)===Sl)return 0;let e=t.dynamicElementNameRegex,i=!!(e!=null&&e.test(n.localName)),r=Xr(n),o=0,c=n.previousElementSibling;for(;c;)(Xr(c)===r||i&&(e!=null&&e.test(c.localName)))&&!ef(c,t.reliableSelectors)&&(o+=1),c=c.previousElementSibling;return o}function nf(s,n,t){if(s===Ji||csNodenodeType.apply(s)===Sl)return 0;let e=0,i=n.previousElementSibling;for(;i;)ee.call(i,t)&&(e+=1),i=i.previousElementSibling;return e}var rf=[/\d{4}/,/^ember\d+$/],of="@",ko="data-cs-override-id",af="data-cs-dynamic-id";function vl(s,n,t,e){let i=e.dynamicIdRegex||null,r=e.dynamicElementNameRegex,o=Xr(s);if(r&&r.test(s.localName)&&(o=csString.prototype.replace.call(o,r,`$1${of}`)),hf(s,t)){let m=xo(s);return{hasUniqueIdentifier:!0,elementSelector:`${o}[${ko}="${m}"]`}}let c=yf(s,t,e);if(c.success)return{hasUniqueIdentifier:!0,elementSelector:`${o}#UA[${c.attributeName}="${c.attributeValue}"]`};let l=cf(s,t,e);if(l)return{hasUniqueIdentifier:!0,elementSelector:`${o}#UCS[${l}]`};let h=Hd(s);if(df(s,h,t,i))return{hasUniqueIdentifier:!0,elementSelector:`${o}#${h}`};let f=lf(s,e);if(f){let m=nf(n,s,f);return{hasUniqueIdentifier:!1,elementSelector:`${o}[${f}](${m})`}}let u=sf(n,s,e);return{hasUniqueIdentifier:!1,elementSelector:`${o}:eq(${u})`}}function cf(s,n,t){if(t.uniqueCssSelectors){for(let e of t.uniqueCssSelectors)if(ee.call(s,e)&&mf(e,n))return e}}function lf(s,n){if(n.reliableSelectors){for(let t of n.reliableSelectors)if(ee.call(s,t))return t}}function hf(s,n){let t=xo(s);return t&&csString.prototype.match.call(t,/^[\w-]+$/)&&Lo(ko,t,n)}function uf(s){return xo(s)!==null}function xo(s){return s.getAttribute(ko)}function df(s,n,t,e){return n&&!uf(s)&&!ff(s,n,e)&&gf(n,t)}function ff(s,n,t){return s.hasAttribute(af)||pf(n,t)}function pf(s,n){let t=!1;return s&&n&&(t=n.test(s)),s&&(csArray.prototype.some.call(rf,e=>e.test(s))||t)}function gf(s,n){return s&&Lo("id",s,n)}function Lo(s,n,t){try{return window.csquerySelectorAll[t.nodeType].call(t,`[${s}="${n}"]`).length===1}catch(e){if(e.name!=="SyntaxError")throw e}return!1}function mf(s,n){try{return window.csquerySelectorAll[n.nodeType].call(n,s).length===1}catch(t){if(t.name!=="SyntaxError")throw t}return!1}function yf(s,n,t){if(!t.uniqueAttributes)return{success:!1};for(let e of t.uniqueAttributes){let i=s.getAttribute(e);if(i!==null&&Lo(e,i,n))return{attributeName:e,attributeValue:i,success:!0}}return{success:!1}}var Kr=11;function jn(s,n,t){let e=csArray.prototype.shift.call(s);if(s.length===0)return za(e,t);let i=e,r=s[0],{elementSelector:o,hasUniqueIdentifier:c}=vl(i,r,n,t);if(!t.fullPath&&c){let h=s[s.length-1];return`${za(h,t)}${o}`}let l=jn(s,n,t);return`${l?`${l}>`:""}${o}`}function za(s,n){if(s===Ji)return"|detached|";if(s.host){let{ancestors:t,selectionRoot:e}=El(s.host);return`${jn(t,e,n)}|shadow-root|`}return csNodenodeType.apply(s)===Kr?"|fragment|":""}var wl=(()=>{class s{constructor(t){this.options=t,this.done=!1,this.path=null}getPath(){if(this.path===null)throw new Error("getPath was called before serializeElement");return this.path}isDone(){return this.done}}return s})(),Ef=(()=>{class s extends wl{constructor(){super(...arguments),this.ta=!1,this.sa=!1,this.qc=!1}RE(t,e){return this.ta&&!(e===null&&Vn(t))&&csNodenodeType.apply(t)!==Kr&&!t.host}CE(t){return!t.localName}serializeElement(t,e,i){var r;if((r=this.path)!==null&&r!==void 0||(this.path=""),this.RE(t,e))return;let o=!1;e===null&&Vn(t)&&(o=!0,this.done=!0);let c=this.sa&&!this.options.fullPath?"":">",l=!!t.host;if(l&&this.path&&(this.path="|shadow-root|"+c+this.path,this.qc=!0,this.ta=!1,this.sa=!1),!l&&e===null&&csNodenodeType.apply(t)===Kr){this.path="|fragment|"+c+this.path,this.done=!0;return}if(this.CE(t))return;let h=e!=null?e:"detached",{elementSelector:f,hasUniqueIdentifier:u}=vl(t,h,i,this.options);u&&(this.sa=!0,this.ta=!this.options.fullPath);let m=`${o?`|detached|${c}`:""}${this.ta&&!u?"":f}`,S=!u&&this.sa&&!this.options.fullPath?"":this.path&&!this.qc?">":"";this.qc=!1,this.path=`${m}${S}${this.path}`}}return s})(),_t=(()=>{let s;return function(n){function t(){let u=[i()];return document.documentElement&&csArray.prototype.push.call(u,document.documentElement.scrollHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight),document.body&&csArray.prototype.push.call(u,document.body.scrollHeight,document.body.offsetHeight),Math.max(...u)}n.documentHeight=t;function e(){return document.documentElement.scrollWidth}n.documentWidth=e;function i(){return window.innerHeight}n.windowHeight=i;function r(){return window.innerWidth}n.windowWidth=r;function o(){let u=window.csScreen.width;return Ns(u)&&u>0?u:window.screen.width}n.screenWidth=o;function c(){let u=window.csScreen.height;return Ns(u)&&u>0?u:window.screen.height}n.screenHeight=c;function l(){return window.pageXOffset}n.windowOffsetX=l;function h(){return window.pageYOffset}n.windowOffsetY=h;function f(){return{dw:`${e()}`,dh:`${t()}`,ww:`${r()}`,wh:`${i()}`,sw:`${o()}`,sh:`${c()}`}}n.getRequestParameters=f}(s||(s={})),s})();function Xt(s,n=Bt.SHOW_ALL){let t=n|Bt.SHOW_ELEMENT,e=[document.createTreeWalker(s,t,null,!1)],i=Ga(s);i&&csArray.prototype.push.call(e,document.createTreeWalker(i,t,null,!1));let r=null;return{root:s,nextNode(){if(i){let o=i;return i=null,o}for(;e.length>0;){if(r){let h=r;return r=null,h}let c=e[e.length-1].nextNode();if(!c){csArray.prototype.pop.call(e);continue}let l=Ga(c);if(n&Bt.SHOW_DOCUMENT_FRAGMENT&&l&&(r=l),l&&csArray.prototype.push.call(e,document.createTreeWalker(l,t,null,!1)),(pr[csNodenodeType.apply(c)]&n)!==0)return c}return null},visitAll(o){pr[csNodenodeType.apply(s)]&n&&o(s);let c=this.nextNode();for(;c;){if((pr[csNodenodeType.apply(c)]&n)===0){c=this.nextNode();continue}o(c),c=this.nextNode()}},find(o){let c;return this.visitAll(l=>o(l)&&(c=l)),c},collectAll(o){let c=[];return this.visitAll(l=>csArray.prototype.push.call(c,o?o(l):l)),c}}}function Ga(s){return s&&yl(s)?s.shadowRoot:null}var fr=(()=>{var s;return(s=rt.Node)!==null&&s!==void 0?s:{}})(),Bt=(()=>{var s;return(s=rt.NodeFilter)!==null&&s!==void 0?s:{}})(),pr={2:Bt.SHOW_ATTRIBUTE,4:Bt.SHOW_CDATA_SECTION,8:Bt.SHOW_COMMENT,11:Bt.SHOW_DOCUMENT_FRAGMENT,9:Bt.SHOW_DOCUMENT,10:Bt.SHOW_DOCUMENT_TYPE,1:Bt.SHOW_ELEMENT,[fr.ENTITY_NODE]:Bt.SHOW_ENTITY,[fr.ENTITY_REFERENCE_NODE]:Bt.SHOW_ENTITY_REFERENCE,[fr.NOTATION_NODE]:Bt.SHOW_NOTATION,7:Bt.SHOW_PROCESSING_INSTRUCTION,3:Bt.SHOW_TEXT},_l=!1,Jr=5,En=50;function Sf(s=5){_l=et.isPerfLoggingActive(),Jr=s}function js(s,n){return function(){if(!_l)return s.apply(this,arguments);let t=C.elapsed(),e=s.apply(this,arguments);if(e!=null&&e.then)e.then(()=>{let i=C.elapsed()-t;i>=Jr&&F.counters.methodPerformance.add(n,i),i>En&&F.counters.blockingTime.push(i-En)});else{let i=C.elapsed()-t;i>=Jr&&F.counters.methodPerformance.add(n,i),i>En&&F.counters.blockingTime.push(i-En)}return e}}var Nt=function(s){return function(n,t,e){let i=e.value;e.value=js(i,s)}},Ps=(()=>{let s;return function(n){function t(){return!!Element.prototype.attachShadow}n.isSupported=t;function e(r){return r&&yl(r)?r.shadowRoot:null}n.getShadowRoot=e;function i(r){return Xt(r,NodeFilter.SHOW_DOCUMENT_FRAGMENT).collectAll(o=>o.host)}n.getAllShadowHosts=js(i,"getAllShadowHosts")}(s||(s={})),s})(),gr=(()=>{var s;return(s=rt.Node)!==null&&s!==void 0?s:Object})(),Z=(()=>{let s;return function(n){let t="isConnected"in gr.prototype?w=>w.isConnected:w=>!w.ownerDocument||!(w.ownerDocument.compareDocumentPosition(w)&w.DOCUMENT_POSITION_DISCONNECTED);function e(w,L){for(let V=w;V;V=csNodenextSibling.apply(V))L(w)}n.forEachChild=e;function i(w){return t(w)}n.isConnected=i;function r(w,L){let V=[];for(let $ of l(w,L))csArray.prototype.push.call(V,$);return V}n.getAncestors=r;let o=(w,L)=>{var V;return(V=csNodeparentNode.apply(w))!==null&&V!==void 0?V:L&&Bi(w)?w.host:null};function c(w,L,V=!1){let $=w;for(;$;){if(L($))return $;let gt=o($,V);if(gt&&gt!==$)$=gt;else break}return null}n.findAncestor=c;function*l(w,L=!1){let V=w;for(;V;){yield V;let $=o(V,L);if($&&$!==V)V=$;else break}}n.walkUp=l;function h(w,L){if(w===L||L.contains(w))return!0;let V=n.getParentElement(w);return V&&V!==w?h(V,L):!1}n.isDescendantOf=h;function f(w){var L;return w.parentElement?w.parentElement:n.getRootNode(w)?(L=n.getRootNode(w))===null||L===void 0?void 0:L.host:null}n.getParentElement=f;function u(w,L=document){let V=ri(window.csquerySelectorAll[L.nodeType].call(L,w)),$=Ps.getAllShadowHosts(L);for(let gt of $){let Mt=Ps.getShadowRoot(gt);if(!Mt)continue;let Se=ri(window.csquerySelectorAll[Mt.nodeType].call(Mt,w));csArray.prototype.push.call(V,...Se)}return V}n.findAllElements=u,n.getRootNode=(()=>{if("getRootNode"in gr.prototype)return(V,$)=>V.getRootNode($);function w(V){let $=L(V);return Bi($)?w($.host):$}function L(V){return csNodeparentNode.apply(V)!=null?L(csNodeparentNode.apply(V)):V}return(V,$)=>typeof $=="object"&&!!$.composed?w(V):L(V)})();function m(w){return w==="transparent"||/^(rgba|hsla)\(\d+, \d+%?, \d+%?, 0\)$/.test(w)}function y(w){let L=w.getBoundingClientRect();return L.right+_t.windowOffsetX()<0||L.bottom+_t.windowOffsetY()<0}function S(w){var L,V;if(((L=w.checkVisibility)===null||L===void 0?void 0:L.call(w,{checkOpacity:!0,checkVisibilityCSS:!0}))===!1)return!0;if(!w.offsetParent){if(!w.getBoundingClientRect)return et.warn(`SUP-11432: Element doesn't have getBoundingClientRect. Node: ${w instanceof gr} Ctor: ${(V=w==null?void 0:w.constructor)===null||V===void 0?void 0:V.name}`),!1;let Mt=w.getBoundingClientRect();if(Mt.width===0&&Mt.height===0)return!0}let $=window.getComputedStyle(w);return $?$.display==="none"||$.visibility==="hidden"||$.visibility==="collapse"||$.opacity==="0"||$.filter==="opacity(0)"||$.width==="0px"&&$.height==="0px"||m($.color):!0}n.isHiddenByCSS=S;function O(w){if(S(w))return!0;let V=f(w);return V!=null&&O(V)}n.areAncestorsHiddenByCSS=O;function D(w){let L=null,V=w;do if(S(V))L=V;else break;while(V=f(V));return L}n.getTopAncestorHiddenByCSS=D;function v(w){let L=_(w);return L!==null&&!w.contains(L)&&!L.contains(w)}function _(w){let L=w.getBoundingClientRect(),V=L.left+.5*L.width,$=L.top+.5*L.height;return M(document,V,$)}n.getTopElement=_;function I(w){if(!w.getBoundingClientRect)return null;let L=w.getBoundingClientRect(),V=L.x+L.width/2,$=L.y+L.height/2;return n.getTopElementFromPoint(document,V,$)}n.getElementOnTop=I;function M(w,L,V){let $=w.elementFromPoint(L,V);if(!$)return null;let gt=Ps.getShadowRoot($);return gt&&gt!==n.getRootNode(document.body)&&gt!==w?M(gt,L,V):$}n.getTopElementFromPoint=M;function T(w){return!y(w)&&!S(w)&&!v(w)}n.isVisibleInDocument=T;function H(w){return S(w)?!1:it(w)}n.isVisibleInViewportInForeground=H;function it(w){let L=_(w);return L===null?!1:w===L?!0:Gt(w)?w.textContent!==""&&L.contains(w):w.contains(L)}n.isInViewPort=it;function lt(w,L,V){let $=w.getAttributeNS(L,V);return $===""?w.hasAttributeNS(L,V)?$:null:$}n.getAttributeNS=lt;function zt(w){return!!(w.hasAttribute("tabIndex")||w.getAttribute("contentEditable")==="true"||ml(w)&&w.hasAttribute("href")||(ai(w)||oi(w)||ys(w)||zd(w))&&!w.hasAttribute("disabled")||Gd(w)||qd(w))}n.isElementFocusable=zt;function Gt(w){return w.localName==="span"||w.localName==="a"||w.localName==="b"||w.localName==="i"||w.localName==="button"||w.localName==="input"||w.localName==="label"||w.localName==="cite"||w.localName==="small"||w.localName==="strong"||w.localName==="code"||w.localName==="abbr"||w.localName==="em"||w.localName==="dfn"||w.localName==="time"||w.localName==="output"||w.localName==="object"||w.localName==="sub"}n.isInlineElement=Gt;function Kt(w){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>w(),{once:!0}):csSetTimeout(w)}n.onDocumentLoaded=Kt}(s||(s={})),s})(),vf=(()=>{class s{constructor(t){this.IE=t}run(t){let e=[...this.IE],i=Z.getAncestors(t,!1),r=i[i.length-1];for(;e.length>0&&i.length>0;){let o=csArray.prototype.shift.call(i),c=i[0]||null;if(this.PE(e,o,c,r),this.OE(e),e.length===0)break;i.length===0&&o.host&&(i=Z.getAncestors(o.host,!1),r=i[i.length-1])}}PE(t,e,i,r){for(let o of t)o.serializeElement(e,i,r)}OE(t){for(let e=0;e<t.length;e++)t[e].isDone()&&(csArray.prototype.splice.call(t,e,1),e--)}}return s})(),wf=(()=>{class s extends wl{serializeElement(t){var e;if((e=this.path)!==null&&e!==void 0||(this.path=""),(t==="detached"||t.localName==="body")&&(this.done=!0,this.path.length>0))return;let i=this.NE(t);if(i+=i.length>0?"|":"",this.path.length+i.length>this.options.hierarchyMaxLength){this.done=!0;return}this.path=i+this.path}NE(t){if(!t.localName)return"";let e=`@${t.localName};`;return e+=this.ME(t.id),t.classList&&(e+=this.DE(csArray.from(t.classList))),t.attributes&&(e+=this.kE(t)),e}ME(t){return t?`#${t};`:""}DE(t){return t.length>0?`.${csArray.prototype.join.call(csArray.prototype.sort.call(t),";.")};`:""}xE(t,e){var i,r;return((r=(i=this.options).isAttributeSensitive)===null||r===void 0?void 0:r.call(i,t,e))||csArray.prototype.indexOf.call(this.options.attributeIgnoreTokens,e)!==-1||fi(t)&&csString.prototype.indexOf.call(e,"data-")===-1&&e!=="aria-label"||ys(t)&&e==="value"}LE(t,e){return this.options.useAnonymization&&!this.options.allWhitelistedAttributes.has(t)||e.length>this.options.attrMaxLength}UE(t){let e={};for(let i of csArray.from(t.attributes))this.xE(t,i.name)||(e[i.name]=i.value);return e}kE(t){var e,i;if(!((i=(e=this.options).isNodeSensitive)===null||i===void 0)&&i.call(e,t))return"";let r=Object.entries(this.UE(t));return csArray.prototype.join.call(csArray.prototype.sort.call(csArray.prototype.map.call(csArray.prototype.filter.call(r,([o])=>o.length<this.options.attrMaxLength),([o,c])=>this.LE(o,c)?`[${o}]`:`[${o}=${c}]`)),";")+(r.length>0?";":"")}}return s})(),Be=(()=>{let s;return function(n){n.INVALID_ELEMENT="INVALID_ELEMENT";function t(c){return!!c&&"localName"in c&&"getAttribute"in c&&"hasAttribute"in c&&"parentNode"in c}n.isValidElement=t;function e(c,l,h={fullPath:!1,dynamicIdRegex:null}){let f=o(c);if(f===document)return{path:"",hierarchy:""};if(!t(f))return{path:n.INVALID_ELEMENT,hierarchy:n.INVALID_ELEMENT};let u=new Ef(h),m=new wf(l);return new vf([u,m]).run(f),{path:u.getPath(),hierarchy:m.getPath()}}n.getElementPathAndHierarchy=e;function i(c,l={fullPath:!1,dynamicIdRegex:null}){let h=o(c);if(h===document)return"";if(!t(h))return n.INVALID_ELEMENT;let{ancestors:f,selectionRoot:u}=El(h);return jn(f,u,l)}n.getElementPath=i;function r(c,l={fullPath:!1,dynamicIdRegex:null}){let h=o(c);if(h===document)return{path:"",firstAnchorParent:null};if(!t(h))return{path:n.INVALID_ELEMENT,firstAnchorParent:null};let{firstAnchorParent:f,ancestors:u,selectionRoot:m}=tf(h);return{path:jn(u,m,l),firstAnchorParent:f}}n.getElementPathAndFirstAnchorParent=r;function o(c){return c&&"jquery"in c&&c.length===1?c[0]:c}}(s||(s={})),s})();window.CSPathComputation=window.CSPathComputation||Be;var bl=["t.contentsquare.net","clicktale"],_f=s=>{var n;if(typeof s.filename=="string"&&csArray.prototype.some.call(bl,t=>csString.prototype.indexOf.call(s.filename,t)>-1)&&!(csString.prototype.indexOf.call(s.filename,"blob")>-1&&(s.message==null?void 0:csString.prototype.indexOf.call(s.message,"importScripts"))>-1)){let t=new Error(s.message);t.stack=(n=s.error)===null||n===void 0?void 0:n.stack,B.critical(t)}};window.addEventListener("error",_f);var B=(()=>{class s{constructor(){}static whiteListFilename(t){csArray.prototype.push.call(bl,t)}static setStrategy(t){s.un=t}static computeIsActive(t){s.Ge=Ms.boolean(t),s.Ge?s.Wc=Ms.boolean(10):s.Wc=!1}static isLoggingActive(){return s.Ge}static getStrategy(){return s.un}static debug(t,e=""){s.Ge&&this.un.send(t,e,pt.debug)}static warn(t,e=!0,i=""){var r;F.counters.errors.count("warning"),s.Ge&&e&&this.un.send(t,i,pt.warn),(r=window.UXAnalytics.Console)===null||r===void 0||r.warn(t)}static implementation(t,e=""){F.counters.errors.count("implementation"),s.Ge&&this.un.send(t,e,pt.implementation)}static error(t,e=""){var i;F.counters.errors.count("error"),s.Ge&&this.un.send(t,e,pt.error),(i=window.UXAnalytics.Console)===null||i===void 0||i.error(t)}static critical(t,e=""){F.counters.errors.count("critical"),this.un.send(t,e,pt.critical)}static tryToExecute(t,e){return function(...i){try{let r=e.apply(this,i);return J(rt.Promise)&&r instanceof rt.Promise?r.then(o=>o,o=>s.error(pe(o)?o:new Error(o),t)):r}catch(r){try{s.error(pe(r)?r:new Error(r),t)}catch{}}}}static isPerfLoggingActive(){return s.Wc}}return s.Ge=!1,s.Wc=!1,s})();function oe(s){return It(s,"data:")}function bf(s){return It(s,"#")}function Tf(s){return!!s&&(di(s,".css")||It(s,"https://fonts.googleapis.com/css"))}var qa=/\bhttps?:\/\/[^\s<>"')\]]*[^\s<>"'),.;:\])]/gi;function Af(s){qa.lastIndex=0;let n,t=0,e=[];for(;(n=qa.exec(s))!==null;){let i=n.index,r=n.index+n[0].length;if(i>t){let c=csString.prototype.slice.call(s,t,i);csArray.prototype.push.call(e,{content:c,isUrl:!1})}let o=csString.prototype.slice.call(s,i,r);csArray.prototype.push.call(e,{content:o,isUrl:!0}),t=r}if(t<s.length){let i=csString.prototype.slice.call(s,t);csArray.prototype.push.call(e,{content:i,isUrl:!1})}return e}var Rf=["id","class","style","srcset","sizes","rel","type","width","height","media","align","dir","bgcolor","color","border","colspan","rowspan","cols","rows","size","start","slot","data-cs-override-id"],Uo=s=>{let n=new Set(Rf);return csArray.prototype.forEach.call(s,t=>{n.add(t)}),n},Cf=["svg","slot"],If=(s,n,t)=>t==="radio"&&s==="input"&&n==="name"||csArray.prototype.indexOf.call(Cf,s)>-1,Tl={href:new Set(["a"]),src:new Set(["iframe"])},Pf=s=>Tl.hasOwnProperty(s),Of=(s,n,t)=>{var e;return((e=Tl[n])===null||e===void 0?void 0:e.has(s))&&!oe(t)},Nf=(s,n,t)=>(t==="submit"||t==="button")&&s==="input"&&n==="value";function mr(s){return s?Mf(s):null}function Mf(s){try{let n=/^\/(.*)\/([gim]*)$/.exec(s);if(n){let[,t,e]=n;return new csRegExp(`^${t}$`,e)}return new csRegExp(`^${s}$`)}catch{return null}}var Df=/^\d+\.\d+(?:\.\d+)?$/,kf=s=>{if(!Df.test(s))return;let[n,t,e]=csArray.prototype.map.call(csString.prototype.split.call(s,"."),Number);return{major:n,minor:t,patch:!e||Number.isNaN(e)?0:e}},xf=(s,n)=>s.major!==n.major?s.major-n.major:s.minor!==n.minor?s.minor-n.minor:s.patch-n.patch,Lf=(s,n)=>xf(s,n)>=0,Uf=1,Vf="f553e78fb58e051e51fe8074c4c6e73e",Qr=(()=>{let s;return function(n){n[n.Disabled=0]="Disabled",n[n.ButtonAndLinkOnly=1]="ButtonAndLinkOnly",n[n.Enabled=2]="Enabled"}(s||(s={})),s})(),Hn=(()=>{let s;return function(n){n[n.Automatic=1]="Automatic",n[n.Manual=2]="Manual"}(s||(s={})),s})(),jf=(()=>{class s{constructor(t){var e,i,r,o,c,l,h,f,u,m,y,S,O,D,v;this.isChild=!1,this.useFastDOM=!!t.useFastDOM,this.isSMB=(e=t.isSMB)!==null&&e!==void 0?e:!1,this.trackerDomain=t.trackerDomain,this.dynamicConfDomain=t.dynamicConfDomain,this.settingsFileUri=t.settingsFileUri,this.tagDomain=t.tagDomain,this.loggerDomain=t.ed,this.minLogLevel=t.logLevel,this.projectId=t.projectId,this.smbConfig=t.smbConfig,this.status=t.status,this.hostnames=t.hostnames,this.iframesTracking=!!t.iframesTracking,this.crossDomainTracking=!!t.crossDomainTracking,this.crossDomainSingleIframeTracking=!!t.crossDomainSingleIframeTracking,this.consentRequired=!!t.consentRequired,this.allowSubdomains=!!t.allowSubdomains,this.visitorCookieTimeout=t.visitorCookieTimeout||Co,this.sampleRate=t.sampleRate,this.replayRecordingRate=t.replayRecordingRate,this.validationRate=t.validationRate,this.lastTrackingDraw=t.lastTrackingDraw||1,this.useHttps=!0,this.eMerchandisingEnabled=t.eMerchandisingEnabled,this.jsErrorsEnabled=t.jsErrorsEnabled,this.collectionEnabled=!!(!((o=(i=t.collectionEnabled)!==null&&i!==void 0?i:(r=t.smbConfig)===null||r===void 0?void 0:r.record)!==null&&o!==void 0)||o),this.useSentry=!!((c=t.useSentry)!==null&&c!==void 0?c:!((l=t.smbConfig)===null||l===void 0)&&l.useSentry),this.apiErrors={enabled:(h=t.apiErrorsEnabled)!==null&&h!==void 0?h:0,...t.apiErrors},this.customErrors={enabled:(f=t.customErrorsEnabled)!==null&&f!==void 0?f:0,...t.customErrors},this.jsCustomErrorsEnabled=t.jsCustomErrorsEnabled,this.triggerSessionReplayEnabled=t.triggerSessionReplayEnabled,this.triggerSessionReplayRegex=mr(t.triggerSessionReplayRegex),this.dynamicIdRegex=t.dynamicIdRegex?new csRegExp(t.dynamicIdRegex):null,this.whitelistedAttributes=t.whitelistedAttributes||[],this.replayRecordingUnmaskedUrlRegex=mr(t.replayRecordingUnmaskedUrlRegex),this.replayRecordingMaskedUrlRegex=mr(t.replayRecordingMaskedUrlRegex),this.replayRecordingMaskedUrlRegexRules=t.replayRecordingMaskedUrlRegexRules||null,this.replayRecordingUnmaskedUrlRegexRules=t.replayRecordingUnmaskedUrlRegexRules||null,this.anonymisationMethod=t.anonymisationMethod||null,this.tagDeploymentMode=t.tagDeploymentMode,this.dualCollectionTagDomain=t.dualCollectionTagDomain||null,this.ptcDomain=t.ptcDomain||null,this.ptcGuid=t.ptcGuid||null,this.secureCookiesEnabled=!!t.secureCookiesEnabled,this.ptcSha512=t.ptcSha512||null,this.ptcSnapshotPath=t.ptcSnapshotPath||null,this.emitDebugEvents=!1,this.staticResourceManagerDomain=t.staticResourceManagerDomain||null,this.malkaRecordingDomain=t.malkaRecordingDomain||null,this.textVisibilityEnabled=t.textVisibilityEnabled,this.experimental=t.experimental||{},this.malkaEtrEnabled=!!t.malkaEtrEnabled,this.malkaUrlEnabled=!!t.malkaUrlEnabled,this.recordingUrlRules=(u=t.recordingUrlRules)!==null&&u!==void 0?u:[],this.cookielessTrackingEnabled=t.cookielessTrackingEnabled,this.customHashIdEnabled=!!t.customHashIdEnabled,this.encryptionEnabled=!!t.recordingEncryptionEnabled,this.encryptionPublicKey=t.recordingEncryptionPublicKey||null,this.pathComputationRules=t.pathComputationRules||{},t.pathComputationRules&&t.pathComputationRules.dynamicElementNameRegex===""&&(this.pathComputationRules.dynamicElementNameRegex=null),t.pathComputationRules&&t.pathComputationRules.dynamicElementNameRegex&&(this.pathComputationRules.dynamicElementNameRegex=new csRegExp(t.pathComputationRules.dynamicElementNameRegex)),this.asyncSerializerEnabled=!!t.asyncSerializerEnabled,this.encryptionPublicKeyId=t.recordingEncryptionPublicKeyId,this.pendingInactivityTimeout=t.pendingInactivityTimeout||5e3,this.accessibilityEnabled=!!t.accessibilityEnabled,this.useStaticResourceManager=!!t.useStaticResourceManager,t.taskSchedulerOptions&&(this.taskSchedulerOptions={...t.taskSchedulerOptions,enabled:!!t.taskSchedulerOptions.enabled}),this.uxaDomain=t.uxaDomain,this.environment=((m=t.uxaDomain)===null||m===void 0?void 0:m.indexOf("staging"))>-1?"staging":"production",this.performanceTimingOptions=t.performanceTimingOptions,this.replayConsentRequiredForSession=!!t.replayConsentRequiredForSession,this.isWebView=!1,t.displayAdOptions&&t.displayAdOptions.length&&(this.displayAdOptions=t.displayAdOptions),t.voc&&(this.voc={...t.voc,enabled:!!t.voc.enabled}),this.vocData=t.vocData,t.heapEnvironment&&(this.heapEnvironment=t.heapEnvironment),t.implementations&&t.implementations.length&&(this.implementations=t.implementations),this.eventsApiEnabled=!!t.eventsApiEnabled,this.anonymizeDigits=(y=t.anonymizeDigits)!==null&&y!==void 0?y:null,this.isHeapPresent=window.heap!==void 0,this.recordTargetingRules=(S=t.recordTargetingRules)!==null&&S!==void 0?S:[],this.paProxyDomainUri=t.paProxyDomainUri||null,this.emitRecordInfoEvents=t.emitRecordInfoEvents!==!1,this.collectHierarchy=!!t.collectHierarchy,this.collectSubmit=!!t.collectSubmit,this.collectTargetText=(O=t.collectTargetText)!==null&&O!==void 0?O:Qr.Disabled,this.identityEncryptionKey=t.identityEncryptionKey||null,this.tagVerificationDomain=t.tagVerificationDomain,this.tagVerificationEnabled=!!t.tagVerificationEnabled,this.trackingCodeVerified=!!t.trackingCodeVerified,this.quotas=(D=t.quotas)!==null&&D!==void 0?D:null,this.startMode=(v=t.startMode)!==null&&v!==void 0?v:Hn.Automatic,this.customEnhancerConfig=t.customEnhancerConfig||null}getTrackerUri(){return`${this.vs()}://${this.trackerDomain}`}getSentryFileUri(){return`${this.vs()}://${this.tagDomain}/uxa/smb/errors.js`}getSentryDSNUri(){return`https://${Vf}@${this.loggerDomain}/4508608369131520`}getRecordingUri(){return`${this.vs()}://${this.malkaRecordingDomain}`}getLoggerUri(){return`${this.vs()}://${this.loggerDomain}`}getMetricsUri(){return`${this.vs()}://${this.loggerDomain}/metrics`}getStaticResourceManagerUri(){return`${this.vs()}://${this.staticResourceManagerDomain}`}getVerificationEndpoint(){return`${this.vs()}://${this.tagVerificationDomain}`}getSettingsFileUri(){return this.settingsFileUri?this.settingsFileUri:`${this.vs()}://${this.dynamicConfDomain}/${this.projectId}.json`}isQuotaEnabled(){return this.isSMB||this.quotas!==null}getPaProxyDomainUri(){return`${this.vs()}://${this.paProxyDomainUri}`}vs(){return this.useHttps?"https":"http"}isProjectActive(){return this.status===Uf}processOptionOverrides(t){t&&t.forEach&&t.forEach(([e,...i])=>{if(e==="setOption"){let[r,o]=i;this.VE(r,o)}})}VE(t,e){t==="trackerDomain"&&(this.trackerDomain=e),t==="loggerDomain"&&(this.loggerDomain=e),t==="malkaRecordingDomain"&&(this.malkaRecordingDomain=e),t==="staticResourceManagerDomain"&&(this.staticResourceManagerDomain=e),t==="minLogLevel"&&(this.minLogLevel=e),t==="useHttps"&&(this.useHttps=!!e),t==="isWebView"&&(this.isWebView=e),t==="dynamicConfDomain"&&(this.dynamicConfDomain=e),t==="paProxyDomainUri"&&(this.paProxyDomainUri=e),t==="startMode"&&Ns(e)&&csArray.prototype.includes.call(Object.values(Hn),e)&&(this.startMode=e)}getRequestParameters(){return{pid:`${this.projectId}`}}updateDynamicFields(t,e){t==="emitDebugEvents"&&(this.emitDebugEvents=e),t==="minLogLevel"&&(this.minLogLevel=e)}isCsSideloadingHeap(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="cs_sideloads_heap"&&!this.isHeapPresent}isHeapSideloadsCs(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="heap_sideloads_cs"}isHeapSideloadsCsV5(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="heap_sideloads_cs"&&this.Kd()}isHeapSideloadsStartDataCollection(){if(this.isHeapSideloadsCs()){if(this.Kd())return!0;let t=kf(this.getHeapVersion()||"");if(t&&t.major===4&&Lf(t,{major:4,minor:23,patch:5}))return!0}return!1}Kd(){var t;return typeof((t=window.heap)===null||t===void 0?void 0:t.getUserId)=="function"}getHeapVersion(){var t,e,i,r,o,c;return typeof((t=window.heap)===null||t===void 0?void 0:t.getConfig)=="function"&&((r=(i=(e=window.heap)===null||e===void 0?void 0:e.getConfig())===null||i===void 0?void 0:i.sdk)===null||r===void 0?void 0:r.version)||((c=(o=window.heap)===null||o===void 0?void 0:o.version)===null||c===void 0?void 0:c.heapJsVersion)||void 0}isCsCrosswritingHeap(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="cs_crosswrites_heap"}getHeapStorageLocation(){var t,e;return(e=(t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_storage_location)!==null&&e!==void 0?e:null}getHeapWebAppUri(){return this.getHeapStorageLocation()==="eu-west-1"?"https://eu.heapanalytics.com":"https://heapanalytics.com"}isCollectTargetTextEnabled(){return this.isSMB||this.collectTargetText!==Qr.Disabled}isNetworkDetailsEnabled(){return this.performanceTimingOptions?this.performanceTimingOptions.withResource||this.performanceTimingOptions.withNavigation:!1}hasRecordingUrlRules(){var t;return!!(!((t=this.recordingUrlRules)===null||t===void 0)&&t.length)}hasTargetingRules(){var t;return!!(!((t=this.recordTargetingRules)===null||t===void 0)&&t.length)}getHeapEnvId(){return this.heapEnvironment?this.heapEnvironment.env_id:""}}return s})(),Hf=(()=>{class s{constructor(t,e){this.ia=t,this.Jd=e}init(){this.Qd=this.ia!==this.ia.top,this.Zd=this.Jd.isWebView&&this.ia===this.ia.top,this.Jd.iframesTracking&&this.Qd||this.Zd?this.tf=!1:this.tf=!0}isInIframeContext(){return this.Qd}isTopWindowTracker(){return this.tf}isInWebViewContext(){return this.Zd}}return s})();function Bn(){}function Fn(s,n){return csString.prototype.lastIndexOf.call(s,n,0)===0}function Bf(s,n){return csString.prototype.indexOf.call(s,n,s.length-n.length)!==-1}var yr=csSymbol("cachedJson");function Ff(s){if(s[yr])return s[yr];if(csArray.isArray(s)){if(s.length===0)return"[]";let n="["+Ds(s[0]);for(let t=1;t<s.length;t++)n+=","+Ds(s[t]);return n+="]"}return s[yr]=csJSON.stringify(s)}var Ds=typeof window.Symbol!="undefined"?Ff:csJSON.stringify;var Fi=(()=>{let s;return function(n){function t(e){return csArray.prototype.join.call(csArray.prototype.map.call(Object.keys(e),i=>`${encodeURIComponent(i)}=${encodeURIComponent(e[i])}`),"&")}n.toQuery=t}(s||(s={})),s})(),Al=(()=>{class s{constructor(t,e){this.domainUri=t,this.path=e,this.beforeRequestCallbacks=[],this.afterRequestCallbacks=[]}setRequestParametersProviders(...t){this.requestParametersProviders=t}before(t){csArray.prototype.push.call(this.beforeRequestCallbacks,t)}after(t){csArray.prototype.push.call(this.afterRequestCallbacks,t)}retrieveParameters(){return this.requestParametersProviders?csArray.prototype.reduce.call(csArray.prototype.map.call(this.requestParametersProviders,t=>t.getRequestParameters()),(t,e)=>({...t,...e})):{}}}return s})(),ci=(()=>{class s extends Al{constructor(t,e){super(t,e)}send(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,i=>i());let t=this.retrieveParameters();this.Yc(t);let e=Fi.toQuery(t);this.jE(e),csArray.prototype.forEach.call(this.afterRequestCallbacks,i=>i())}jE(t){let e=new window.Image(1,1);e.onload=Bn,e.onerror=Bn,csHTMLImageElementsrc.call(e,`${this.domainUri}${this.path?`/${this.path}`:""}?${t}`)}Yc(t){t.r=csString.prototype.slice.call(`${Math.random()}`,2,8)}}return s})();var $f=(()=>{class s{constructor(t,e){this.ws=t,this.HE=e}init(){this._s=new ci(this.ws.getLoggerUri()),this._s.setRequestParametersProviders(this,this.HE)}send(t){this.na=t,this._s.send()}getRequestParameters(){return{a:this.na.app,l:this.na.level,m:this.na.message,s:this.na.stacktrace}}}return s})(),zf=/[a-zA-Z0-9._%+-]+(?:@|%40|%2540)[a-zA-Z0-9.%-_]+((?:\.|%2[eE])[a-zA-Z0-9-]+)+/g,Gf=/[a-zA-Z0-9+_-](?:@|%40|%2540)/,qf="CS_ANONYMIZED_EMAIL",Er="([-A-Za-z0-9+/=_]|=[^=]|={3,})+",Wf=new csRegExp(`(ey${Er}\\.ey${Er}\\.${Er})`,"g"),Yf="CS_ANONYMIZED_JWT",Xf=/[0-9]{4}/,Kf=/(^|[^a-zA-Z0-9*.,-])([45*][0-9*]{3}([ -]?)[0-9*]{4}\3[0-9*]{4}\3[0-9*]{4})($|[^a-zA-Z0-9*.,-])/g,Jf="CS_ANONYMIZED_PII",Qf="\u2022",Zf=/\d/g,tp=/([+(]{0,2}\d[-_ ()/]{0,4}){9,}/,ep=/(?:\d{1,3}\.){3}\d{1,3}/,sp=/(?:[A-F0-9]{1,4}:){7}[A-F0-9]{1,4}/,es=(()=>{let s;return function(n){function t(f){return csString.prototype.replace.call(f,zf,qf)}n.replaceEmail=t;function e(f){return csString.prototype.replace.call(f,Wf,Yf)}n.replaceJWT=e;function i(f,u){return csString.prototype.replace.call(f,Kf,u)}n.replaceCreditCardNumber=i;function r(f){return csString.prototype.replace.call(f,Zf,Qf)}n.replaceDigits=r;function o(f){return ep.test(f)||sp.test(f)}n.mayHaveIPAddress=o;function c(f){return tp.test(f)}n.mayHaveNumberSequence=c;function l(f){return Xf.test(f)}n.mayHaveCreditCardNumber=l;function h(f){return Gf.test(f)}n.mayHaveEmail=h}(s||(s={})),s})(),ks=(()=>{class s{hasPII(t,e){let i=this.checkAndAnonymizePII(t,e);return t!==i}checkAndAnonymizePII(t,e=null){let i=this.BE(this.Xc(t));return e===!0?i=this.FE(i):e===!1&&(i=this.$E(i)),i}anonymizePII(t){return this.Xc(t)}anonymizeJwt(t){return es.replaceJWT(t)}anonymizeFields(t,e){return csArray.prototype.forEach.call(e,i=>{t[i]=this.Xc(t[i])}),t}Xc(t){if(es.mayHaveEmail(t)){let e=es.replaceEmail(t);return e!==t&&F.counters.redactedPII.count("email"),e}return t}FE(t){return es.replaceDigits(t)}$E(t){return es.mayHaveNumberSequence(t)?es.replaceDigits(t):t}BE(t){return es.mayHaveCreditCardNumber(t)?es.replaceCreditCardNumber(t,(e,i,r,o,c)=>{if(csString.prototype.indexOf.call(r,"*")===-1){let h=o.length?csArray.prototype.join.call(csString.prototype.split.call(r,o),""):r;if(!this.zE(h))return e;F.counters.redactedPII.count("cc")}else F.counters.redactedPII.count("cc-partial");return`${i}${Jf}${c}`}):t}zE(t){let e=parseInt(t[t.length-1]),i=0;for(let r=t.length-2;r>=0;r--){let o=parseInt(t[r]);r%2===0&&(o*=2),i+=Math.floor(o/10)+o%10}return 10-i%10===e}}return s})(),Rl="15.150.0";function Vo(){return{v:Rl}}var ip=(()=>{class s{constructor(t,e){this.E=t,this.M=e}getRequestParameters(){return{d:`${C.now()}`,p:this.M.anonymizePII(window.location.href),...this.E.getRequestParameters(),...Vo()}}}return s})(),np="uxa",Wa=5,rp="No stacktrace",Cl="snippet-",Il="implementation-snippet-",Ya=(()=>{let s;return function(n){n.IMPLEMENTATION="implementation",n.DYNAMIC="dynamic"}(s||(s={})),s})(),op=(()=>{class s{constructor(t,e,i){this.bs=e,this.M=new ks,this.ef=ur[pt.warn],this.ef=ur[t.minLogLevel||pt.warn],this._s=i||new $f(t,new ip(t,this.M)),this.sf={[pt.debug]:[],[pt.warn]:[],[pt.implementation]:[],[pt.error]:[],[pt.critical]:[]},this.ra={implementation:{},dynamic:{}},this._s.init()}send(t,e="",i=pt.warn){if(!this.GE(i,e))return;csArray.prototype.push.call(this.sf[i],e||"");let r={message:this.qE(t,e),stacktrace:this.WE(t),app:np,level:i};this._s.send(r)}qE(t,e){let i=pe(t)?this.M.anonymizePII(t.message||t.toString()):t;return e&&(i+=` ErrorCode: ${e}`),i}WE(t){return pe(t)?`${t.stack||rp} ${this.yr()}`:this.yr()}yr(){let t=this.bs.getVisitorService(),e=t==null?void 0:t.getVisitor();if(!e)return"No context";let i=this.bs.getSessionService(),r=i&&i.getSession(),o={userId:e.id,sessionNumber:e.visitsCount,pageNumber:r&&r.pageNumber};return csJSON.stringify(o)}GE(t,e){if(ur[t]<this.ef)return!1;if((e==null?void 0:csString.prototype.indexOf.call(e,Il,0))===0)return this.nf(e,Ya.IMPLEMENTATION);if((e==null?void 0:csString.prototype.indexOf.call(e,Cl,0))===0)return this.nf(e,Ya.DYNAMIC);let i=this.sf[t];return i.length>=Wa?!1:!(e&&csArray.prototype.some.call(i,r=>r===e))}nf(t,e){return t in this.ra[e]?this.ra[e][t]>=Wa?!1:(this.ra[e][t]+=1,!0):(this.ra[e][t]=1,!0)}}return s})(),Lt=!qi&&document.createElement("a"),ap=/(:443|:80)$/;function fe(s){return Lt?(Lt.href=s,Lt.href):""}function cp(s,n){return new csURL(s,n).href}function lp(s,n){return csArray.prototype.some.call(n,t=>di(s,`.${t}`)||s===t||t==="")}function hp(s){return s[0]==="/"?s:`/${s}`}function Xa(s){return csString.prototype.replace.call(s,ap,"")}function Pl(s){return!Lt||!It(s,"http://")&&!It(s,"https://")?null:(Lt.href=s,{hash:Lt.hash,host:Xa(Lt.host),hostname:Lt.hostname,href:Lt.href,origin:Lt.origin?Lt.origin:Xa(`${Lt.protocol}//${Lt.host}`),pathname:hp(Lt.pathname),port:Lt.port,protocol:Lt.protocol,search:Lt.search})}var xt=(()=>{let s;return function(n){n.Discovery="discovery",n.Stop="stop",n.RecordingContext="recordingContext",n.SensitiveStatus="sensitiveStatus",n.RecordingEvent="recordingEvent",n.EndOfBufferedMessages="endOfBufferedMessages",n.ChildLogMessage="childLogMessage",n.AnalysisEvent="analysisEvent",n.JavascriptError="javascriptError",n.ApiError="apiError",n.Assets="assets",n.DetailedApiError="detailedApiError",n.EmerchandisingMessage="emerchandisingMessage",n.Commands="commands",n.IntegrationCallback="integrationCallback",n.StaticResource="staticResource",n.TrackingContextResultMessage="trackingContextResultMessage",n.TrackingContextRequestMessage="trackingContextRequestMessage",n.CustomError="customError"}(s||(s={})),s})();var up=(()=>{class s{setContext(t,e){this.N=t,this.C=e}getVisitorService(){return this.N}getSessionService(){return this.C}}return s})(),Zr=!1;function dp(){Zr=!0}function ut(){return(s,n,t)=>{if(t){let e=t.value;t.value=function(i,r){(i==null?void 0:i.isTrusted)===!1&&Zr||e.call(this,i,r)}}else{let e=s[n];if(typeof e!="function")return;s[n]=function(i,...r){(i==null?void 0:i.isTrusted)===!1&&Zr||e.call(this,i,r)}}}}function fp(s){if(document!=null&&document.prerendering){document.addEventListener("prerenderingchange",s,{once:!0});return}s()}function j(s,n,t,e){var i=arguments.length,r=i<3?n:e===null?e=Object.getOwnPropertyDescriptor(n,t):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(s,n,t,e);else for(var c=s.length-1;c>=0;c--)(o=s[c])&&(r=(i<3?o(r):i>3?o(n,t,r):o(n,t))||r);return i>3&&r&&Object.defineProperty(n,t,r),r}function pp(){let s=new MutationObserver(n=>{n.forEach(t=>{X(t.removedNodes,e=>{e instanceof HTMLElement&&e.tagName==="CS-NATIVE-FRAME-HOLDER"&&(F.counters.pureWindowState.count("iframe-deletion"),et.warn("<cs-native-frame-holder> deleted"),s.disconnect())})})});s.observe(document.body,{childList:!0})}function Ka(s){return typeof s!="function"?!1:s.toString().indexOf("[native code]")!==-1}function gp(){(!Ka(MutationObserver)||!Ka(MutationObserver.prototype.observe))&&F.counters.patchedNativeFunctions.count("MutationObserver")}function mp(){try{window.CSPureWindow&&pp(),gp()}catch{}}var bt=(()=>{let s;return function(n){n.CURRENT_DOMAIN="CURRENT_DOMAIN";function t(l){let f=new csRegExp(`(^|;)[ ]*${l}=([^;]*)`).exec(document.cookie);return f?decodeURIComponent(f[2]):null}n.get=t;function e(l,h,f,u,m,y){let S=encodeURIComponent(`${h}`),O=f===n.CURRENT_DOMAIN?void 0:f,D=i(u),v=D?`;expires=${D.toUTCString()}`:"",_=";path=/",I=dt(O)?`;domain=${O}`:"",M=`${l}=${S}${v}${_}${I}`;return J(m)&&m!==ls.NotSet&&(M=`${M};SameSite=${m}`),J(y)&&y===be.Yes&&(M=`${M};Secure`),document.cookie=M,!0}n.set=e;function i(l){return mt(l)?new csDate(C.now()+l):l}n.toExpireDate=i;function r(l,h){t(l)&&e(l,"",h,new csDate(0)),t(l)&&e(l,"",h,new csDate(0),ls.None,be.Yes)}n.remove=r;function o(){return document.cookie.length>0}n.isCookiePresent=o;function c(l,h){let f="_cs_root-domain",u=t(f);if(u!==null&&u!=="1")return u;let m=csString.prototype.split.call(window.location.hostname,"."),y=csArray.prototype.pop.call(m);for(;m.length&&(u===null||u==="1");)y=csArray.prototype.join.call([csArray.prototype.pop.call(m),y],"."),e(f,y,y,void 0,l,h),u=t(f);return r(f,y),y}n.getRootDomain=c}(s||(s={})),s})(),yp=(()=>{let s;return function(n){function t(){return window.navigator.vendor&&csString.prototype.indexOf.call(window.navigator.vendor,"Apple")>-1&&window.navigator.appVersion&&csString.prototype.indexOf.call(window.navigator.appVersion,"Version/12.")>-1}n.browserIsSafariV12=t}(s||(s={})),s})(),ls=(()=>{let s;return function(n){n.None="None",n.Lax="Lax",n.NotSet="X"}(s||(s={})),s})(),be=(()=>{let s;return function(n){n[n.Yes=1]="Yes",n[n.No=0]="No"}(s||(s={})),s})(),Xn=(()=>{class s{constructor(t,e,i){this.E=t,this.R=e,this.Ii=i,this.Kc=!1,this.rf=ls.NotSet,this.Jc=be.No}getSameSiteFlag(){return this.rf}getSecureFlag(){return this.Jc}getDomain(){return this.Qc}getRootDomain(){return this.of}init(){if(this.E.cookielessTrackingEnabled)return;let t=this.YE(),e=this.XE();this.Kc=this.KE(t,e),this.Kc?(this.rf=t,this.Jc=e):this.E.secureCookiesEnabled&&this.R.getUrlProtocol()==="https:"&&(this.Jc=be.Yes),this.of=this.JE(),this.Qc=this.QE(this.of)}KE(t,e){return yp.browserIsSafariV12()?!1:(bt.set(s.COOKIE_TEST_FOR_SAME_SITE,"Test same site",s.CURRENT_DOMAIN,void 0,t,e),bt.get(s.COOKIE_TEST_FOR_SAME_SITE)?(bt.remove(s.COOKIE_TEST_FOR_SAME_SITE,s.CURRENT_DOMAIN),!0):!1)}YE(){return this.R.getUrlProtocol()==="http:"?ls.Lax:this.Ii.isSameSiteNoneSecureNeeded()||this.E.crossDomainTracking?ls.None:ls.Lax}XE(){return this.R.getUrlProtocol()==="http:"?be.No:this.E.secureCookiesEnabled||this.E.crossDomainTracking||this.Ii.isSameSiteNoneSecureNeeded()?be.Yes:be.No}isSameSiteSupported(){return this.Kc}set(t,e,i,r){let o=bt.toExpireDate(i),c=r?be.Yes:this.getSecureFlag();bt.set(t,e,this.Qc,o,this.getSameSiteFlag(),c)}get(t){let i=new csRegExp(`(^|;)[ ]*${t}=([^;]*)`).exec(document.cookie);return i?decodeURIComponent(i[2]):null}delete(t,e){let i=e||this.Qc;bt.remove(t,i)}JE(){let t=this.Ii.isSameSiteNoneSecureNeeded()&&this.isSameSiteSupported(),e=t?ls.None:void 0,i=t?be.Yes:void 0;return bt.getRootDomain(e,i)}QE(t){return this.E.allowSubdomains?t:bt.CURRENT_DOMAIN}}return s.CURRENT_DOMAIN="CURRENT_DOMAIN",s.COOKIE_TEST_FOR_SAME_SITE="_cs_same_site",s})(),Ys="_cs_t",Ja="1",Ep=(()=>{class s{constructor(t,e){this.At=t,this.E=e,this.oa=!1,this.aa=!1}init(){if(!this.E.cookielessTrackingEnabled&&this.At.isTopWindowTracker()&&"cookie"in document){if(!this.At.isInIframeContext()&&bt.isCookiePresent()){this.oa=!0,this.aa=!1;return}if(bt.set(Ys,Ja,bt.CURRENT_DOMAIN),bt.get(Ys)!==null){this.oa=!0,this.aa=!1,bt.remove(Ys,bt.CURRENT_DOMAIN);return}bt.set(Ys,Ja,bt.CURRENT_DOMAIN,void 0,ls.None,be.Yes),bt.get(Ys)!==null&&(this.oa=!0,this.aa=!0,bt.remove(Ys,bt.CURRENT_DOMAIN))}}areCookiesEnabled(){return this.oa}isSameSiteNoneSecureNeeded(){return this.aa}}return s})();function Sp(){let s="CSSessionStorageTest";try{return sessionStorage.setItem(s,s),sessionStorage.getItem(s)!==s?!1:(sessionStorage.removeItem(s),!0)}catch{return!1}}var vp=(()=>{class s{constructor(t,e){this.E=t,this.Ii=e}canTrack(){return this.E.isProjectActive()&&this.ZE()&&this.af()&&this.tS()}canTrackInChild(){return this.E.isProjectActive()&&this.eS()&&(this.af()||this.sS())}tS(){return this.E.cookielessTrackingEnabled?Sp():this.Ii.areCookiesEnabled()}af(){return lp(window.location.hostname,this.E.hostnames)}ZE(){return!this.cf()&&this.iS()}eS(){return!this.cf()&&this.nS()}sS(){return window.location.protocol==="about:"&&window.location.hostname===""}cf(){return"visibilityState"in document&&document.visibilityState==="prerender"}iS(){return this.lf()&&this.rS()}nS(){return this.lf()}rS(){try{return!!window.localStorage}catch{return!1}}lf(){return"pageXOffset"in window&&"pageYOffset"in window&&"onpagehide"in window&&"JSON"in window&&"parse"in window.csJSON&&"stringify"in window.csJSON&&"addEventListener"in window&&"removeEventListener"in window&&"Node"in window&&"filter"in csArray.prototype&&"forEach"in csArray.prototype&&"querySelectorAll"in document&&"now"in csDate&&"keys"in Object&&"performance"in window&&"Map"in window&&"Set"in window}}return s})(),Ol=":";function Qa(s){let n=[],t=wp(s),e=csString.prototype.split.call(t,"/");for(let i of e)It(i,Ol)?csArray.prototype.push.call(n,{key:i,value:`CS_ANONYMIZED_${csString.prototype.toUpperCase.call(csString.prototype.slice.call(i,1))}`}):csArray.prototype.push.call(n,{key:i,value:null});return n}function wp(s){let n=s;return It(s,"/")&&(n=csString.prototype.substring.call(n,1)),di(s,"/")&&(n=csString.prototype.slice.call(n,0,-1)),n}var _p=/\b((?:profile|user|last|first|primary|primary(?:[/_+-]|%20)?last)(?:[/_+-]|%20)?(?:name)[/=])[^#;?&/]+/gi,bp="$1CS_ANONYMIZED_NAME",Tp=(()=>{class s{constructor(t){this.M=t}anonymizeUrl(t,e={}){let i=e.maskingPatterns||[],r=e.partialMaskingPatterns||[],o=this.M.anonymizePII(t);if(o=this.M.anonymizeJwt(o),e.maskNames){let h=o;o=this.Er(o),o!==h&&(F.counters.redactedPII.count("name"),F.counters.redactedPII.count("name-in-url"))}let c=this.oS(o,i);if(c!==o)return F.counters.redactedPII.count("url"),c;let l=this.aS(o,r);return l!==o&&F.counters.redactedPII.count("url"),l}removeQueryString(t){let{path:e,queryString:i}=this.Zc(t);return i!==""?`${e}?`:e}Zc(t){let e=csString.prototype.indexOf.call(t,"?"),i,r="";return e!==-1?(i=csString.prototype.slice.call(t,0,e),r=csString.prototype.slice.call(t,e,t.length)):i=t,{path:i,queryString:r}}oS(t,e){if(e.length===0)return t;let{path:i,queryString:r}=this.Zc(t),o=csString.prototype.split.call(i,"/");for(let c of e){let l=this.cS(o,c);if(l!==null)return`${l}${r}`}return t}cS(t,e){if(t.length<e.length)return null;let i=[];for(let r=0;r<t.length;r++){let o=t[r];if(r>=e.length){csArray.prototype.push.call(i,o);continue}let c=e[r].key;if(this.hf(c)){let l=e[r].value;csArray.prototype.push.call(i,l);continue}if(o===c){csArray.prototype.push.call(i,o);continue}return null}return csArray.prototype.join.call(i,"/")}aS(t,e){if(e.length===0)return t;let{path:i,queryString:r}=this.Zc(t),o=csString.prototype.split.call(i,"/");for(let c of e)o=this.lS(o,c);return`${csArray.prototype.join.call(o,"/")}${r}`}lS(t,e){let i=[],r=0,c=t[0]==="http:"||t[0]==="https:"?2:0;for(let l=0;l<t.length;l++){let h=t[l],f=e[r].key;if(this.hf(f)&&l>=c){let u=e[r].value;csArray.prototype.push.call(i,h.length>0?u:""),r++,r===e.length&&(r=0);continue}if(h===f){csArray.prototype.push.call(i,h),r++,r===e.length&&(r=0);continue}for(let u=0;u<r;u++){let m=l-r+u;i[m]=t[m]}r=0,csArray.prototype.push.call(i,h)}for(let l=0;l<r;l++){let h=t.length-r+l;i[h]=t[h]}return i}hf(t){return It(t,Ol)}Er(t){return csString.prototype.replace.call(t,_p,bp)}}return s})(),Ap="spki",Za="RSA-OAEP",Rp="SHA-256",tc="AES-CTR",Cp="SHA-1",ec=190,ds=(()=>{let s;return function(n){var t;let e=!1,i=null,r,o=typeof TextEncoder!="undefined"?new TextEncoder:null,c;n.crypto=(t=rt.crypto)===null||t===void 0?void 0:t.subtle,n.MAX_DIGEST_INPUT_SIZE=100;function l(){return!e}n.isKeyImported=l;function h(){return i}n.getCryptoKey=h;function f(){var M,T;return((T=(M=rt.self.crypto)===null||M===void 0?void 0:M.subtle)===null||T===void 0?void 0:T.encrypt)!=null&&rt.self.CryptoKey!=null}n.isSupported=f;async function u(M){r=n.crypto.importKey(Ap,Ro(M),{name:Za,hash:Rp},!1,["encrypt"]).catch(()=>(e=!0,null)),i=await r,r=void 0,i||et.warn(`Fail to import public key '${M}'`)}n.importKey=u;async function m(M){if(!f()||e)return null;await r;let T=Yn(M);T.byteLength>ec&&(T=T.slice(0,ec));try{let H=await n.crypto.encrypt({name:Za},i,T);return Ma(H)}catch{return null}}n.asymmetricEncrypt=m;async function y(M,T){if(!f()||e)return null;let H={counter:T.initializationVector,name:tc,length:64},it=o.encode(M);try{let lt=await n.crypto.encrypt(H,T.cryptoKey,it);return Ma(lt)}catch{return null}}n.symmetricEncrypt=y;async function S(M){let T=await O(M);if(!T)throw new Error("Export secret failed");let H=await m(T);if(!H)throw new Error("Encrypt secret failed");return H}n.encryptSecret=S;async function O(M){var T;if(!f())return null;try{return(T=(await n.crypto.exportKey("jwk",M)).k)!==null&&T!==void 0?T:null}catch{return null}}async function D(){if(!f()||e)return null;try{return{cryptoKey:await n.crypto.generateKey({name:tc,length:128},!0,["encrypt","decrypt"]),initializationVector:rt.crypto.getRandomValues(new Uint8Array(16))}}catch{return null}}n.generateSymmetricKey=D;function v(M){c=M}n.setDigestSalt=v;async function _(M){M=csString.prototype.toLocaleLowerCase.call(csString.prototype.trim.call(M)),c&&(M=`${M}:${c}`);let T=o.encode(M);try{let H=await n.crypto.digest(Cp,T);return Dn(H)}catch{return null}}n.digest=_;function I(){return rt.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"])}n.generateKeyPair=I}(s||(s={})),s})(),xe=(()=>{let s;return function(n){n.REGEX="regex",n.START="start",n.NOT_START="not-start",n.END="end",n.NOT_END="not-end",n.CONTAIN="contain",n.NOT_CONTAIN="not-contain",n.EXACT="exact",n.NOT_EXACT="not-exact"}(s||(s={})),s})(),ss=(()=>{let s;return function(n){n.START="start",n.NOT_START="not-start",n.END="end",n.NOT_END="not-end",n.CONTAIN="contain",n.NOT_CONTAIN="not-contain",n.EXACT="exact",n.NOT_EXACT="not-exact"}(s||(s={})),s})(),bs=(()=>{let s;return function(n){n.replayRecordingUnmaskedUrlRegex="replayRecordingUnmaskedUrlRegex",n.replayRecordingMaskedUrlRegex="replayRecordingMaskedUrlRegex",n.replayRecordingUnmaskedUrlRegexRules="replayRecordingUnmaskedUrlRegexRules",n.replayRecordingMaskedUrlRegexRules="replayRecordingMaskedUrlRegexRules"}(s||(s={})),s})(),jo=(()=>{class s{constructor(){this.tl=[]}setRegexRules(t){this.tl=csArray.prototype.filter.call(csArray.prototype.map.call(t,e=>this.hS(e)),e=>e!==null)}evaluateUrl(t){return csArray.prototype.some.call(this.tl,e=>this.uf(t,e))}getMatchingRules(t){return csArray.prototype.map.call(csArray.prototype.filter.call(this.tl,e=>this.uf(t,e)),e=>e.ruleInput)}uf(t,e){var i,r;let o=this.uS(t,e);return!this.dS(e)||!this.fS(e)?!1:!!(e!=null&&e.notOperator?!(!((i=e.regex)===null||i===void 0)&&i.test(o)):!((r=e.regex)===null||r===void 0)&&r.test(o))}dS(t){let e=new csDate,i=t.startDate&&t.startDate>e,r=t.endDate&&t.endDate<e;return!i&&!r}fS(t){let e=t.samplingRate!==100,i=e&&Ms.boolean(t.samplingRate);return!e||i}ca(t){return!It(t,"http://")&&!It(t,"https://")?`https://${t}`:t}uS(t,e){let i=Pl(this.ca(t));return i?e.ignoreQueryParams&&e.ignoreURIFragments?`${i.origin}${i.pathname}`:e.ignoreQueryParams?`${i.origin}${i.pathname}${i.hash}`:e.ignoreURIFragments?`${i.origin}${i.pathname}${i.search}`:t:t}ha(t){return t!=null&&t.ignoreCaseSensitivity?"i":""}hS(t){let e=null,i=!1;switch(t.operator){case ss.NOT_START:case xe.NOT_START:i=!0;case ss.START:case xe.START:e=new csRegExp(`^${t.value}`,this.ha(t));break;case ss.NOT_END:case xe.NOT_END:i=!0;case ss.END:case xe.END:e=new csRegExp(`${t.value}$`,this.ha(t));break;case ss.NOT_CONTAIN:case xe.NOT_CONTAIN:i=!0;case ss.CONTAIN:case xe.CONTAIN:case xe.REGEX:e=new csRegExp(`${t.value}`,this.ha(t));break;case ss.NOT_EXACT:case xe.NOT_EXACT:i=!0;case ss.EXACT:case xe.EXACT:e=new csRegExp(`^${t.value}$`,this.ha(t));break;default:et.warn(`compileRegexRule, unknown operator: ${t.operator}`)}if(e===null)return null;let r=t.startDate?this.df(t.startDate):void 0,o=t.endDate?this.df(t.endDate):void 0;return{regex:e,ignoreQueryParams:t.ignoreQueryParams,ignoreURIFragments:t.ignoreURIFragments,notOperator:i,samplingRate:t.samplingRate!==void 0?t.samplingRate:100,startDate:r,endDate:o,ruleInput:t}}df(t){let e=new csDate(t);return isNaN(e.getTime())?void 0:e}}return s})(),Ho=(()=>{class s{constructor(){this.listeners=[]}addListener(t){csArray.prototype.push.call(this.listeners,t)}}return s})(),Ni="|iframe|",Ip=(()=>{class s extends Ho{constructor(t,e,i,r){super(),this.pS=t,this.gS=e,this.mS=i,this.yS=r}emitIframeEvent(t,e,i){if(this.ES(e)&&t===null){B.error(`iframeEventEmitter received event ${e} with null iframe, content:${csJSON.stringify(i)}`);return}switch(e){case xt.ChildLogMessage:this.SS(i);break;case xt.AnalysisEvent:{let r=i,o=this.pS.transformEvent(t,r);o.isUserEvent?this.vS(o.event):this.wS(o.event);break}case xt.RecordingEvent:{let r=i,o=this.yS.transformEvents(t,r);if(o.events.length===0)return;o.containsUserEvent?this._S(o.events):this.bS(o.events);break}case xt.JavascriptError:this.TS(i);break;case xt.ApiError:this.AS(i);break;case xt.DetailedApiError:this.RS(i);break;case xt.CustomError:this.CS(i);break;case xt.EmerchandisingMessage:{let r=this.mS.transformEvent(t,i);this.IS(r);break}case xt.Commands:{let r=this.gS.transformEvent(t,i);this.PS(r);break}case xt.IntegrationCallback:this.OS(i);break;case xt.StaticResource:this.NS(i);break;case xt.TrackingContextRequestMessage:this.MS(i);break;default:B.error(`Parent received unknown data type from iframe : ${csJSON.stringify(i)}`)}}ES(t){let e=[xt.AnalysisEvent,xt.RecordingEvent,xt.EmerchandisingMessage,xt.Commands];return csArray.prototype.indexOf.call(e,t)!==-1}SS(t){let{message:e,errorCode:i,level:r}=t;switch(r){case pt.debug:B.debug(e,i);break;case pt.warn:B.warn(e,!0,i);break;case pt.implementation:B.implementation(e,i);break;case pt.error:B.error(e,i);break;case pt.critical:B.critical(e,i);break}}vS(t){for(let e of this.listeners)e.onIframeAnalysisUserEvent&&e.onIframeAnalysisUserEvent(t)}wS(t){for(let e of this.listeners)e.onIframeAnalysisBrowserEvent&&e.onIframeAnalysisBrowserEvent(t)}_S(t){for(let e of this.listeners)e.onIframeRecordingUserEvent&&e.onIframeRecordingUserEvent(t)}bS(t){for(let e of this.listeners)e.onIframeRecordingBrowserEvent&&e.onIframeRecordingBrowserEvent(t)}TS(t){for(let e of this.listeners)e.onIframeJavascriptError&&e.onIframeJavascriptError(t)}AS(t){for(let e of this.listeners)e.onIframeApiError&&e.onIframeApiError(t)}RS(t){for(let e of this.listeners)e.onIframeDetailedApiError&&e.onIframeDetailedApiError(t)}IS(t){for(let e of this.listeners)e.onIframeEmerchandisingMessage&&e.onIframeEmerchandisingMessage(t)}PS(t){for(let e of this.listeners)e.onIframeCommands&&e.onIframeCommands(t)}OS(t){for(let e of this.listeners)e.onIframeIntegrationCallback&&e.onIframeIntegrationCallback(t)}NS(t){for(let e of this.listeners)e.onIframeStaticResource&&e.onIframeStaticResource(t)}MS(t){for(let e of this.listeners)e.onTrackingContextRequestCallback&&e.onTrackingContextRequestCallback(t)}CS(t){for(let e of this.listeners)e.onIframeCustomError&&e.onIframeCustomError(t)}}return s})(),G=(()=>{let s;return function(n){n[n.RESIZE=0]="RESIZE",n[n.SCROLL=1]="SCROLL",n[n.MOUSEMOVE=2]="MOUSEMOVE",n[n.MOUSEDOWN=3]="MOUSEDOWN",n[n.MOUSEUP=4]="MOUSEUP",n[n.CLICK=5]="CLICK",n[n.MOUSEOVER=6]="MOUSEOVER",n[n.MOUSEOUT=7]="MOUSEOUT",n[n.CHANGE=10]="CHANGE",n[n.FOCUSIN=11]="FOCUSIN",n[n.FOCUSOUT=12]="FOCUSOUT",n[n.TAP=14]="TAP",n[n.KEYDOWN=15]="KEYDOWN",n[n.KEYUP=16]="KEYUP",n[n.COMMAND=17]="COMMAND",n[n.SUBMIT_COMMAND=18]="SUBMIT_COMMAND",n[n.PERFORMANCE=19]="PERFORMANCE",n[n.DRAG=20]="DRAG",n[n.FLICK=21]="FLICK",n[n.KEYBOARD_NAVIGATION=22]="KEYBOARD_NAVIGATION",n[n.ZOOM=23]="ZOOM",n[n.VIEWPORT_SCALE=24]="VIEWPORT_SCALE",n[n.TEXT_HIGHLIGHT=25]="TEXT_HIGHLIGHT",n[n.DEAD_CLICK=30]="DEAD_CLICK",n[n.DEAD_ZOOM=31]="DEAD_ZOOM",n[n.PAGE_RELOAD=32]="PAGE_RELOAD",n[n.THRASHED_CURSOR=33]="THRASHED_CURSOR",n[n.BLANK_PAGE=34]="BLANK_PAGE",n[n.EXTERNAL_EVENT=35]="EXTERNAL_EVENT",n[n.SUBMIT=36]="SUBMIT",n[n.CUSTOM_EVENT=37]="CUSTOM_EVENT"}(s||(s={})),s})(),Sr=(()=>{let s;return function(n){n.SUCCESS="success",n.FAILURE="failure",n.ATTEMPT="attempt"}(s||(s={})),s})(),hs=(()=>{let s;return function(n){n.APPCUES="appcues",n.CHAMELEON="chameleon",n.CONTENTSQUARE="contentsquare",n.SEGMENT="segment",n.WEB="web"}(s||(s={})),s})();function Pp(s){return s.tgtHM!==void 0}function Nl(s){return s.tgt!==void 0}function Op(s){return s.tgtLk!==void 0}function Np(s){return s.x!==void 0&&s.y!==void 0}function Mp(s){return s===Sr.SUCCESS||s===Sr.FAILURE||s===Sr.ATTEMPT}function Dp(s){return s===hs.APPCUES||s===hs.CHAMELEON||s===hs.CONTENTSQUARE||s===hs.SEGMENT||s===hs.WEB}var kp=Math.pow(2,31);function xp(s,n=0){let l=n>>>0,h=s.length;for(let y=0;y<h-3;y+=4){let S=(csString.prototype.charCodeAt.call(s,y)&255|(csString.prototype.charCodeAt.call(s,y+1)&255)<<8|(csString.prototype.charCodeAt.call(s,y+2)&255)<<16|(csString.prototype.charCodeAt.call(s,y+3)&255)<<24)>>>0;S=Math.imul(S,3432918353),S=S<<15|S>>>17,S=Math.imul(S,461845907),l^=S,l=l<<13|l>>>19,l=Math.imul(l,5)+3864292196}let f=0,u=h&3,m=h-u;switch(u){case 3:f^=(csString.prototype.charCodeAt.call(s,m+2)&255)<<16;case 2:f^=(csString.prototype.charCodeAt.call(s,m+1)&255)<<8;case 1:f^=csString.prototype.charCodeAt.call(s,m)&255,f=Math.imul(f,3432918353),f=f<<15|f>>>17,f=Math.imul(f,461845907),l^=f}return l^=h,l^=l>>>16,l=Math.imul(l,2246822507),l^=l>>>13,l=Math.imul(l,3266489909),l^=l>>>16,l>>>0}function Ml(s){return xp(s)+kp>>>0}var Lp=(()=>{class s{constructor(t,e){this.Z=t,this.DS=e}transformEvent(t,e){this.kS(t,e.event);let i=this.Z.getElementPath(t);return this.xS(i,e.event),e}kS(t,e){if(Np(e)){let i=t.getBoundingClientRect();e.x=Math.round(i.left+e.x+_t.windowOffsetX()),e.y=Math.round(i.top+e.y+_t.windowOffsetY())}}xS(t,e){Nl(e)&&(e.tgt=`${t}${Ni}${e.tgt}`),Pp(e)&&(e.tgtHM=`${t}${Ni}${e.tgtHM}`,this.DS||(e.tgtHMH=Ml(e.tgtHM))),Op(e)&&(e.tgtLk=`${t}${Ni}${e.tgtLk}`)}}return s})(),Up=(()=>{class s{constructor(t){this.Z=t}transformEvent(t,e){let i=this.Z.getElementPath(t);return{iframePath:e.iframePath?`${i}${Ni}${e.iframePath}`:i,commands:e.commands}}}return s})(),Vp=(()=>{class s{constructor(t){this.Z=t}transformEvent(t,e){if(e.products.length===0)return e;let i=this.Z.getElementPath(t),r=csArray.prototype.map.call(e.products,o=>({...o,targetPath:`${i}${Ni}${o.targetPath}`}));return{...e,products:r}}}return s})(),jp=1,sc=csSymbol("nodeIdentifier");function q(s){let n=s[sc];return n!=null?n:s[sc]=jp++}var x=(()=>{let s;return function(n){n[n.MUTATION_INSERT=1]="MUTATION_INSERT",n[n.MUTATION_REMOVE=2]="MUTATION_REMOVE",n[n.MUTATION_ATTRIBUTE=3]="MUTATION_ATTRIBUTE",n[n.MUTATION_CHARACTER_DATA=4]="MUTATION_CHARACTER_DATA",n[n.INITIAL_DOM=5]="INITIAL_DOM",n[n.SCROLL=6]="SCROLL",n[n.CLICK=8]="CLICK",n[n.RESIZE=9]="RESIZE",n[n.INPUT_CHECKABLE=10]="INPUT_CHECKABLE",n[n.INPUT_SELECT=11]="INPUT_SELECT",n[n.INPUT_TEXT=12]="INPUT_TEXT",n[n.HASH_CHANGE=13]="HASH_CHANGE",n[n.UNANONYMIZED_CONSENT_GRANTED=14]="UNANONYMIZED_CONSENT_GRANTED",n[n.UNANONYMIZED_CONSENT_WITHDRAWN=15]="UNANONYMIZED_CONSENT_WITHDRAWN",n[n.MOUSE_OVER=16]="MOUSE_OVER",n[n.VISIBILITY_CHANGE=17]="VISIBILITY_CHANGE",n[n.STYLESHEET_RULE_INSERT=18]="STYLESHEET_RULE_INSERT",n[n.STATIC_RESOURCE_URL=19]="STATIC_RESOURCE_URL",n[n.PERFORMANCE_TIMINGS=20]="PERFORMANCE_TIMINGS",n[n.ATTACH_SHADOW=22]="ATTACH_SHADOW",n[n.STYLESHEET_CSS_TEXT_UPDATE=23]="STYLESHEET_CSS_TEXT_UPDATE",n[n.JAVASCRIPT_ERROR=26]="JAVASCRIPT_ERROR",n[n.PAGE_EVENT=27]="PAGE_EVENT",n[n.API_ERROR=28]="API_ERROR",n[n.TEXT_VISIBILITY=29]="TEXT_VISIBILITY",n[n.MUTATION_ENCRYPTED_CHARACTER_DATA=30]="MUTATION_ENCRYPTED_CHARACTER_DATA",n[n.INPUT_ENCRYPTED_TEXT=31]="INPUT_ENCRYPTED_TEXT",n[n.KEY_DOWN=32]="KEY_DOWN",n[n.KEY_UP=33]="KEY_UP",n[n.CLIPBOARD_COMMAND=34]="CLIPBOARD_COMMAND",n[n.STYLESHEET_RULE_DELETE=37]="STYLESHEET_RULE_DELETE",n[n.USER_IDENTIFIER=38]="USER_IDENTIFIER",n[n.TOUCH_START=41]="TOUCH_START",n[n.TOUCH_MOVE=42]="TOUCH_MOVE",n[n.TOUCH_END=43]="TOUCH_END",n[n.GESTURE_RECOGNITION=44]="GESTURE_RECOGNITION",n[n.POINTER_DOWN=47]="POINTER_DOWN",n[n.POINTER_MOVE=48]="POINTER_MOVE",n[n.POINTER_UP=49]="POINTER_UP",n[n.CUSTOM_ERROR=50]="CUSTOM_ERROR",n[n.CUSTOM_ELEMENT_REGISTRATION=54]="CUSTOM_ELEMENT_REGISTRATION",n[n.REGISTER_ADOPTED_STYLE_SHEET=60]="REGISTER_ADOPTED_STYLE_SHEET",n[n.SET_ADOPTED_STYLE_SHEETS=61]="SET_ADOPTED_STYLE_SHEETS",n[n.ADOPTED_STYLESHEET_RULE_INSERT=62]="ADOPTED_STYLESHEET_RULE_INSERT",n[n.ADOPTED_STYLESHEET_RULE_DELETE=63]="ADOPTED_STYLESHEET_RULE_DELETE",n[n.SCREEN_RESIZE=65]="SCREEN_RESIZE",n[n.RESOURCE_HASHES=66]="RESOURCE_HASHES",n[n.PERFORMANCE_NAVIGATION_TIMING=67]="PERFORMANCE_NAVIGATION_TIMING",n[n.PERFORMANCE_RESOURCE_TIMING=68]="PERFORMANCE_RESOURCE_TIMING",n[n.RECORDING_INFO_EVENT=72]="RECORDING_INFO_EVENT",n[n.TEXT_REF=73]="TEXT_REF",n[n.TOUCH_CANCEL=74]="TOUCH_CANCEL",n[n.MUTATION_MOVE=75]="MUTATION_MOVE",n[n.STYLESHEET_RULE_UPDATE=76]="STYLESHEET_RULE_UPDATE",n[n.ADOPTED_STYLESHEET_RULE_UPDATE=77]="ADOPTED_STYLESHEET_RULE_UPDATE",n[n.VIDEO_PLAY=78]="VIDEO_PLAY",n[n.VIDEO_PAUSE=79]="VIDEO_PAUSE",n[n.VIDEO_SEEK=80]="VIDEO_SEEK",n[n.ADOPTED_STYLESHEET_DISABLED=98]="ADOPTED_STYLESHEET_DISABLED",n[n.STYLESHEET_DISABLED=99]="STYLESHEET_DISABLED",n[n.DOM_INITIAL_STATE=102]="DOM_INITIAL_STATE",n[n.DOM_PATCH_STATE=103]="DOM_PATCH_STATE",n[n.DEBUG=999]="DEBUG"}(s||(s={})),s})();var Ti=(()=>{let s;return function(n){n[n.SWIPE=0]="SWIPE",n[n.PINCH_IN=1]="PINCH_IN",n[n.PINCH_OUT=2]="PINCH_OUT",n[n.LONG_PRESS=3]="LONG_PRESS",n[n.TAP=4]="TAP",n[n.DOUBLE_TAP=5]="DOUBLE_TAP"}(s||(s={})),s})(),Hp=(()=>{class s{constructor(){this.LS={clientX:2,clientY:3},this.US={clientX:1,clientY:2},this.VS=[x.POINTER_DOWN,x.POINTER_MOVE,x.POINTER_UP],this.jS=[x.TOUCH_START,x.TOUCH_MOVE,x.TOUCH_END]}transformEvents(t,e){if(!Z.isConnected(t))return e.events=csArray.prototype.filter.call(e.events,c=>c.type!==x.VISIBILITY_CHANGE),e.events.length===0||(B.warn(`IframeRecordingEventsTransformer received event ${xt.RecordingEvent}
        from disconnected iframe, content:${csJSON.stringify(e.events)}`),e.events=[]),e;let i=q(t),r=null;csArray.prototype.some.call(e.events,c=>this.ff(c)||this.pf(c))&&(r=t.getBoundingClientRect());for(let c of e.events)this.ff(c)?this.HS(r,c):this.pf(c)&&this.BS(r,c),c.context=c.context&&c.context.length>0?`${i}/${c.context}`:`${i}`;return e}BS(t,e){this.gf(this.US,t,e)}HS(t,e){this.gf(this.LS,t,e)}gf(t,e,i){i.args&&(i.args[t.clientX]=Math.round(e.left+i.args[t.clientX]),i.args[t.clientY]=Math.round(e.top+i.args[t.clientY]))}ff(t){return csArray.prototype.indexOf.call(this.VS,t.type)!==-1}pf(t){return csArray.prototype.indexOf.call(this.jS,t.type)!==-1}}return s})(),Bp=(()=>{class s{constructor(t,e){this.S=t,this.pt=e}init(){this.pt.addListener(this.S)}onOptout(){this.S.stop()}onBeforeSessionRenewal(){this.S.stop()}}return s})(),St=(()=>{class s extends Error{constructor(t,e){let i=e?`Command misuse: ${t} - ${e}`:`Command misuse: ${t}`;super(i),this.name="MisusedCommandError"}}return s})();var Tt=(()=>{class s{constructor(){this._isStarted=!1}get isStarted(){return this._isStarted}start(...t){this._isStarted||(this._isStarted=!0,this.onStart(...t))}stop(){this._isStarted&&(this._isStarted=!1,this.onStop())}restart(){this.stop(),this.start()}}return s})(),Fp=(()=>{let s;return function(n){n.UXA="_uxa",n.WVT="cs_wvt"}(s||(s={})),s})(),$p=(()=>{class s extends Tt{constructor(t){super(),this.sl=t,this.ns={}}register(t,e,i){for(let r of t){let o=(...c)=>{try{let l=e(...c);return F.counters.commandApplied.count(r),l}catch(l){l instanceof St?(F.counters.commandMisuse.count(r),B.warn(`Misused Command: ${r}; Args: ${csJSON.stringify(c)}; Error: ${pe(l)?l.stack:l}`)):(F.counters.commandError.count(r),B.error(`Command Error - ${r}: ${pe(l)?l.stack:l}`))}};this.ns[r]={callback:o,configuration:i},this.ns}}onStart(){this.FS(),this.$S()}onStop(){for(let t of this.sl)window[t]=[]}applyFromIntegration(t,e,i){this.mf(t,e,`Commands.apply.from.integration: ${i}`),F.counters.commandsFromIntegrations.count(t)}applyFromImplementation(t,e,i){this.mf(t,e,`Commands.apply.from.implementation: ${i}`),F.counters.commandsFromCSTC.count(t)}onIframeCommands(t){for(let e of t.commands)this.zS(e.name,e.params,t.iframePath),F.counters.commandsFromIframe.count(e.name)}mf(t,e,i){if(!this.isStarted){window._uxa.push([t,...e]);return}B.tryToExecute(i,()=>{if(this.ns[t])return this.ns[t].callback(...e)})()}zS(t,e,i){B.tryToExecute(`Commands.apply.from.iframe: ${i}`,()=>{if(this.ns[t])return this.ns[t].callback(...e)})()}FS(){for(let t of this.sl)window[t].forEach(([e,...i])=>this.yf(e,i,!1))}$S(){for(let t of this.sl)window[t]={push:([e,...i])=>this.yf(e,i,!0)}}yf(t,e,i){var r,o;if(this.ns[t]){if(((r=this.ns[t].configuration)===null||r===void 0?void 0:r.disableApplyPending)&&!i||((o=this.ns[t].configuration)===null||o===void 0?void 0:o.disableApplyImmediate)&&i)return;try{return this.ns[t].callback(...e)}catch(l){B.error(`Command ${t} failed - params: ${csJSON.stringify(e)}`,l)}}}}return s})(),zp=(()=>{class s extends Ho{emitPageEvent(t){for(let e of this.listeners)e.onPageEvent&&e.onPageEvent(t)}emitEventTriggerRecording(t,e){for(let i of this.listeners)i.onEventTriggerRecording&&i.onEventTriggerRecording(t,e)}emitCustomJavaScriptErrorEvent(t){for(let e of this.listeners)e.onCustomJavaScriptErrorEvent&&e.onCustomJavaScriptErrorEvent(t)}emitCustomErrorEvent(t){for(let e of this.listeners)e.onCustomErrorEvent&&e.onCustomErrorEvent(t)}emitUserIdentifierEvent(t){for(let e of this.listeners)e.onUserIdentifierEvent&&e.onUserIdentifierEvent(t)}emitExternalEvent(t){for(let e of this.listeners)e.onExternalEvent&&e.onExternalEvent({type:G.EXTERNAL_EVENT,name:t,ts:0})}emitTargetingRulesArtificialPageview(t){for(let e of this.listeners)e.onTargetingRulesArtificialPageview&&e.onTargetingRulesArtificialPageview(t)}}return s})();function Gp(s){return csNodenodeType.apply(s)===1}function Ot(s){let n=csEventtarget.apply(s);return n&&Gp(n)&&csElementshadowRoot.apply(n)&&s.composedPath?s.__csOriginalTarget||s.composedPath()[0]:n}function qp(s){return s.composedPath&&Object.defineProperty(s,"__csOriginalTarget",{value:s.composedPath()[0],writable:!1,enumerable:!1}),s}function Wp(){return(s,n,t)=>{let e=t.value;return e&&(t.value=function(i){if(Ot(i)===csEventtarget.apply(i))return e.call(this,i)}),t}}var Yp=["class","data-com.agilebits.onepassword.initial-value","data-com.onepassword.iv","data-ember-action","data-initial-value","data-previous-value","data-react-checksum","data-reactid","id","maxlength","onclick","onsubmit","style"],Xp=1024,Kp=1024,vr;function Ut(s){if(vr||(vr=document.createElement("div")),!(!!s&&A(s)))return et.warn(`isValidSelector: invalid selector provided '${s}'`),!1;try{return ee.call(vr,s),!0}catch{return et.warn(`isValidSelector: invalid selector provided '${s}'`),!1}}function li(s,n){if($a)return $a.call(s,n);let t=s;do{if(ee.call(t,n))return t;t=t==null?void 0:t.parentElement}while(t!==null&&csNodenodeType.apply(t)===1);return null}function Mi(s){if(!s)return s;switch(typeof s){case"object":{let n={};for(let t in s)n[t]=Mi(s[t]);return n}default:return s}}function Dl(s){for(let n in s)if(s[n]!==void 0)return!0;return!1}function kl(s,n){let t={},e=new Set([...Object.keys(s||{}),...Object.keys(n||{})]);for(let i of e){let r=s[i],o=n[i];if(r===o)continue;let c=typeof r;if(c!==typeof o)r===void 0&&o!==void 0?t[i]=o:r!==void 0&&o===void 0&&(t[i]=null);else if(c==="object"&&r&&o){let h=kl(r,o);h!==void 0&&(t[i]=h)}else t[i]=Mi(o)}return Dl(t)?t:void 0}function xl(s,n){let t={...s};for(let[e,i]of Object.entries(n))if(i===null)delete t[e];else if(i!==void 0){let r=t[e],o=i;r&&typeof r=="object"&&o&&typeof o=="object"&&!csArray.isArray(r)&&!csArray.isArray(o)?t[e]=xl(r,o):t[e]=o}return t}function Jp(s){let n=null;return t=>t?n=t:n||(n=s())}var Qp=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function Zp(s){return csString.prototype.indexOf.call(s,"-")>0&&csString.prototype.indexOf.call(s,":")===-1&&csString.prototype.indexOf.call(s,'"')===-1&&csString.prototype.indexOf.call(s,",")===-1&&!Qp.has(s)}var Xs=Jp(()=>new WeakMap),Di=(()=>{let s;return function(n){function t(c){return Xs().get(c)}n.getAll=t;function e(c,l){var h;return(h=Xs().get(c))===null||h===void 0?void 0:h[l]}n.get=e;function i(c,l,h){let f=Xs().get(c);f||Xs().set(c,f={}),f[l]=h}n.set=i;function r(c,l){let h=Xs().get(c);h&&delete h[l]}n.remove=r;function o(){Xs(new WeakMap)}n.reset=o}(s||(s={})),s})(),at=(()=>{let s;return function(n){function t(l,h,f){var u;if(typeof Node!="undefined"&&l instanceof Node)Di.set(l,h,f);else{let m=l;(u=m.props)!==null&&u!==void 0||(m.props={}),m.props[h]=f}}n.setProperty=t;function e(l,h){var f;return typeof Node!="undefined"&&l instanceof Node?Di.get(l,h):(f=l.props)===null||f===void 0?void 0:f[h]}n.getProperty=e;function i(l){return typeof Node!="undefined"&&l instanceof Node?Di.getAll(l):l.props}n.getProperties=i;function r(l,h){let f=null;return o(l,(u,m,y)=>h(u)&&(f=u)&&!!y()),f}n.findDescendant=r;function o(l,h){c(l,void 0,h)}n.traverse=o;function c(l,h,f){let u=!1;if(f(l,h,()=>u=!0),u)return;let y=l.shadowRoot;y&&c(y,l,f);let S=l.children;if(S!=null&&S.length){for(let O of S)if(O&&(c(O,l,f),u))break}}}(s||(s={})),s})(),k=(()=>{let s;return function(n){let t;(function(v){v[v.NotMasked=0]="NotMasked",v[v.Parent=1]="Parent",v[v.Child=2]="Child"})(t=n.MaskedElementState||(n.MaskedElementState={})),n.maskedProp="masked",n.maskedAttributeProp="maskedAttribute";function e(v){return Fe(v)&&"Attributes"in v&&"PIISelectors"in v?v.Attributes instanceof Array&&v.PIISelectors instanceof Array:!1}n.isSelectorUserInput=e;function i(v){if(!Fe(v)||v===null)throw new St("setPIISelectors");return"Attributes"in v||(v.Attributes=[]),"PIISelectors"in v||(v.PIISelectors=[]),v}n.sanitizeSelectorUserInput=i;function r(v){var _,I,M;return"nodeType"in v?(_=at.getProperty(v,n.maskedProp))!==null&&_!==void 0?_:{state:t.NotMasked}:(M=(I=v.metadata)===null||I===void 0?void 0:I[n.maskedProp])!==null&&M!==void 0?M:{state:t.NotMasked}}n.getMaskedElementDetails=r;function o(v){var _,I,M;return"nodeType"in v?(_=at.getProperty(v,n.maskedAttributeProp))!==null&&_!==void 0?_:{attributes:[]}:(M=(I=v.metadata)===null||I===void 0?void 0:I[n.maskedAttributeProp])!==null&&M!==void 0?M:{attributes:[]}}n.getMaskedAttributeDetails=o;function c(v){let _=at.getProperty(v,n.maskedProp);return(_==null?void 0:_.state)===t.Parent}n.isMaskedElement=c;function l(v){let _=at.getProperty(v,n.maskedProp);return(_==null?void 0:_.state)===t.Child}n.isMaskedElementChild=l;function h(v,_){let I=at.getProperty(v,n.maskedAttributeProp);return((I==null?void 0:I.attributes)==null?void 0:csArray.prototype.indexOf.call(I==null?void 0:I.attributes,_))>-1}n.isMaskedAttribute=h;function f(v,_){at.setProperty(v,n.maskedProp,_)}n.setMaskedElementProperty=f;function u(v){at.setProperty(v,n.maskedProp,void 0)}n.unsetMaskedElementProperty=u;function m(v,_){at.setProperty(v,n.maskedAttributeProp,_)}n.setMaskedAttributeProperty=m;function y(v,_){let I=csArray.prototype.filter.call(v.PIISelectors,H=>Ut(H));_.elementSelector.length>0&&csArray.prototype.push.call(I,...csString.prototype.split.call(_.elementSelector,","));let M=D([...I]),T={elementSelector:csArray.prototype.join.call(M,","),attrSelector:_.attrSelector,attrSelectors:_.attrSelectors};return csArray.prototype.forEach.call(v.Attributes,H=>{H!=null&&H.attrName&&(H!=null&&H.selector)&&Ut(H.selector)&&!S(T.attrSelectors,H)&&csArray.prototype.push.call(T.attrSelectors,H)}),T.attrSelector=O(T.attrSelectors),T}n.getComputedSelectorSettings=y;function S(v,_){return csArray.prototype.some.call(v,I=>I.selector===_.selector&&I.attrName===_.attrName)}function O(v){let _="";return csArray.prototype.forEach.call(v,I=>{let M=csString.prototype.split.call(I.selector,",");csArray.prototype.forEach.call(M,T=>{Ut(T)&&(_&&(_+=","),_+=T)})}),_}function D(v){if(v.length<=1)return v;let _=[];for(let I of v){let M=csString.prototype.split.call(I,",");for(let T of M)csArray.prototype.indexOf.call(_,T)===-1&&csArray.prototype.push.call(_,T)}return _}}(s||(s={})),s})(),tg=(()=>{class s{constructor(t,e){this.yt=t,this.E=e}getEventTargetPathAndHierarchy(t,e){let i=Ot(t),r={isNodeSensitive(o){return k.isMaskedElement(o)||k.isMaskedElementChild(o)},isAttributeSensitive(o,c){return k.isMaskedAttribute(o,c)},allWhitelistedAttributes:Uo(this.E.whitelistedAttributes),attributeIgnoreTokens:Yp,useAnonymization:e,attrMaxLength:Kp,hierarchyMaxLength:Xp};return this.yt.getElementPathAndHierarchy(i,r,{dynamicIdRegex:this.E.dynamicIdRegex,...this.E.pathComputationRules})}getEventTargetPath(t){let e=Ot(t);return this.yt.getElementPath(e,{dynamicIdRegex:this.E.dynamicIdRegex,...this.E.pathComputationRules})}getEventTargetPathAndTargetLink(t){let e=Ot(t),{path:i,firstAnchorParent:r}=this.yt.getElementPathAndFirstAnchorParent(e,{dynamicIdRegex:this.E.dynamicIdRegex,...this.E.pathComputationRules}),o=this.GS(r)?r.href:"";return{path:i,targetLink:o}}hasValidEventTarget(t){let e=Ot(t);return this.yt.isValidElement(e)}getElementPath(t){return this.yt.getElementPath(t,{dynamicIdRegex:this.E.dynamicIdRegex,...this.E.pathComputationRules})}GS(t){var e;return t!==null&&t.hasAttribute("href")&&!Fn((e=t.getAttribute("href"))!==null&&e!==void 0?e:"","#")}}return s})();function Kn(s,n){typeof n=="number"&&(n={wait:n});let t=n.wait,e=n.mode||"leading",i,r=[],o=null,c=0,l,h=()=>{c=C.now(),o=null,l=s.apply(i,r),r=[],i=null},f=function(...u){if(i=this!==null&&this!==void 0?this:rt,r=[...u],e==="trailing")return o||(o=rt.csSetTimeout(h,t)),l;let m=C.now(),y=t-(m-c);return y<=0||y>t?(c=m,l=s.apply(i,r),o?(rt.csClearTimeout(o),o=null):r=[]):o||(o=rt.csSetTimeout(h,y)),l};return f.cancel=()=>{o&&(rt.csClearTimeout(o),c=0,o=null,r=[])},f.flushPending=()=>{o&&(rt.csClearTimeout(o),h())},f}var Qi=s=>(n,t,e)=>{e.value=Kn(e.value,s)};var $n=".",Bo="__DOT__",eg=/^(([a-z0-9\-])+(\.[0-9]+){6})(\.[0-1])?(\.\b(x|[0-9a-fA-F]{12})\b)?$/,Ll="x";function sg(s){let[n,t,e,i,r,o,c,l,h]=ag(s);return{id:n,creationTimestamp:Number(t),visitsCount:Number(e),hitTimestamp:Number(i),lastVisitTimestamp:Number(r),appliedTrackingDraw:Number(o),expires:Number(c),allowSubdomains:l===void 0?void 0:!!Number(l),identityPrint:h===void 0||h===Ll?null:h}}function ig(s){var n;return csArray.prototype.join.call(csArray.prototype.map.call(csArray.prototype.map.call([s.id,s.creationTimestamp,s.visitsCount,s.hitTimestamp,s.lastVisitTimestamp,s.appliedTrackingDraw,s.expires,s.allowSubdomains?1:0,(n=s.identityPrint)!==null&&n!==void 0?n:Ll],csString),rg),$n)}function ng(s){return eg.test(s)}function rg(s){return csString.prototype.replace.call(s,/\./g,Bo)}function og(s){return csString.prototype.replace.call(s,new csRegExp(Bo,"g"),$n)}function ag(s){return csString.prototype.indexOf.call(s,Bo)!==-1?csArray.prototype.map.call(csString.prototype.split.call(s,$n),og):csString.prototype.split.call(s,$n)}var U=(()=>{let s;return function(n){n.QUOTA_REACHED="X",n.RECORDING_RULES_TARGETING="8",n.ANALYTICS_ONLY_RULES_TARGETING="9",n.ANALYTICS_ONLY="0",n.RECORDING_GLOBAL_SAMPLING="5",n.RECORDING_TEMPORARILY="T",n.RECORDING_URL_SAMPLING="6",n.RECORDING_ETR_SAMPLING="7",n.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED="B",n.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN="W"}(s||(s={})),s})(),te=(()=>{let s;return function(n){n.ETR_OFF="0",n.ETR_ON="1"}(s||(s={})),s})(),fs=(()=>{let s;return function(n){n.ETR_LEGACY="0",n.ETR_SESSION="1",n.ETR_PAGE="2"}(s||(s={})),s})(),re=(()=>{let s;return function(n){n.ETR_DISABLED="0",n.ETR_PENDING="1",n.ETR_SAVED_PAGE="2",n.ETR_SAVED_SESSION="3",n.ETR_NOT_SAVED_SESSION="9"}(s||(s={})),s})(),to=(()=>{let s;return function(n){n.UNNECESSARY="U",n.NOT_EXPRESSED="N",n.WITHDRAWN="W",n.GRANTED="G"}(s||(s={})),s})();var cg=(()=>{let s;return function(n){n.ETR_DISABLED="0",n.ETR_PENDING="1",n.ETR_SAVED_PAGE="2",n.ETR_SAVED_SESSION="3",n.ETR_NOT_SAVED_SESSION="9"}(s||(s={})),s})(),Ul=/^(\d+\.[01356789TBWXP](\.[01UNWG])?(\.[39])?)(\.\d+)?$/,Vl=".";function lg(s){return csArray.prototype.join.call([s.pageNumber,s.collectState,s.replayConsent,s.etrStatus],Vl)}function hg(s){if(!Fo(s))return null;let n=eo(s);return n!==null?jl(n):null}function jl(s){var n,t;let[e,i,r,o]=csString.prototype.split.call(s,Vl);return{collectState:i,replayConsent:(n=r)!==null&&n!==void 0?n:to.UNNECESSARY,etrStatus:(t=o)!==null&&t!==void 0?t:cg.ETR_NOT_SAVED_SESSION,pageNumber:parseInt(e,10)}}function Fo(s){return Ul.test(s)}function eo(s){if(!s)return null;let n=(()=>{var t;return(t=csString.prototype.match.call(s,Ul))===null||t===void 0?void 0:t[1]})();return n!=null?n:null}var Le="_cs_ex",ic=2592e6,ug=/^[0-9]+$/,dg=(()=>{class s{constructor(t,e,i){this.E=t,this.D=e,this.K=i}onCookieToSet(t){this.Pi=t}onCookieToRemove(t){this.Oi=t}get(){return this.E.cookielessTrackingEnabled?Number(this.K.getItem(Le)):Number(this.D.get(Le))}set(t){var e;this.E.cookielessTrackingEnabled?this.K.setItem(Le,t):(this.D.set(Le,t,ic),(e=this.Pi)===null||e===void 0||e.call(this,Le,t,ic))}remove(){var t;this.E.cookielessTrackingEnabled?this.K.removeItem(Le):(this.D.delete(Le),(t=this.Oi)===null||t===void 0||t.call(this,Le))}static isValidExclusionString(t){return ug.test(t)}}return s})(),is="_cs_cvars",fg=(()=>{class s{constructor(t,e,i){this.E=t,this.D=e,this.K=i}onCookieToSet(t){this.Pi=t}onCookieToRemove(t){this.Oi=t}get(){return this.E.cookielessTrackingEnabled?this.K.getItem(is):this.D.get(is)}set(t){var e;this.E.cookielessTrackingEnabled?this.K.setItem(is,t):(this.D.set(is,t),(e=this.Pi)===null||e===void 0||e.call(this,is,t))}remove(){var t;this.E.cookielessTrackingEnabled?this.K.removeItem(is):(this.D.delete(is),(t=this.Oi)===null||t===void 0||t.call(this,is))}static isValidCustomVarString(t){return typeof t=="string"}}return s})();var pg=(()=>{class s{constructor(t,e,i,r,o,c,l){this.w=t,this.S=e,this.cl=i,this.ll=r,this.rs=o,this.JS=c,this.vr=l}start(){this.w.addListener(this.JS),this.w.addListener(this.vr),this.w.addListener(this.cl),this.vr.init(),this.ll.init(),this.rs.init(),!this.rs.isActive()&&this.S.start()}}return s})(),gg=(()=>{class s{constructor(t){this.Ts=t}onOptout(){this.Ts.removeExclusion()}}return s})(),mg=(()=>{class s{constructor(t,e){this.kt=t,this.gt=e}exclude(t){this.gt.set(csString(t.lastTrackingDraw))}removeExclusion(){this.gt.remove()}isExcluded(){return this.QS()||this.ZS()}QS(){return this.getAppliedTrackingDraw()!==0}getAppliedTrackingDraw(){return this.gt.get()}ZS(){return csString.prototype.indexOf.call(this.kt.href,Le)>0}}return s})(),Hl=["excludeURLforReplay"],yg=(()=>{class s{constructor(t,e){this.Ts=t,this.S=e}init(){this.S.register(Hl,t=>{if(A(t))this.Ts.setExcludeUrlForSessionReplay(t);else throw new St("excludeURLforReplay")})}}return s})(),wr=(()=>{let s;return function(n){n.SessionReplay="SR",n.None=""}(s||(s={})),s})(),Eg=".^",Bl=".*",Sg=(()=>{class s{constructor(t){this.R=t,this.ul=new csRegExp(`${Eg}`)}setExcludeUrlForSessionReplay(t){try{this.ul=new csRegExp(t)}catch{B.warn(`excludeURLforReplay - invalid regex '${t}'`),this.ul=new csRegExp(`${Bl}`)}}Cf(){return this.ul.test(this.R.getAnonymizedUrl())?wr.SessionReplay:wr.None}isUrlExcludedForSessionReplay(){return this.Cf()===wr.SessionReplay}getRequestParameters(){return{ex:this.Cf()}}}return s})(),vg=Math.pow(2,52),Ai=null;async function Fl(s){if((Ai==null?void 0:Ai.visitorId)===s)return Ai.heapUserId;let n=await wg(s),t=Number(n%BigInt(vg));return Ai={visitorId:s,heapUserId:t},t}async function wg(s){let n=await crypto.subtle.digest("SHA-256",_g(s)),t=new Uint8Array(n.slice(0,8));return t=Tg(t),bg(t)}function _g(s){let n=new ArrayBuffer(s.length),t=new Uint8Array(n);for(let e=0;e<s.length;e++)t[e]=csString.prototype.charCodeAt.call(s,e);return n}function bg(s){let n=[];return Uint8Array.from(s).forEach(function(e){let i=e.toString(16);i.length%2&&(i="0"+i),csArray.prototype.push.call(n,i)}),BigInt("0x"+csArray.prototype.join.call(n,""))}function Tg(s){let n=new ArrayBuffer(s.byteLength+1),t=new Uint8Array(n);for(let e=1;e<t.byteLength;e++)t[e]=s[e-1];return t}var Ag=["undefined","anonymous","true","false","not_authenticated","NaN","NA","Na","unique_identifier","0","",'""',"[object Object]","{{ customer.email }}","{{ email }}"],Rg=[/^email$/i,/^none$/i,/^unknown$/i,/^guest$/i,/^null$/i],Cg=255,Ig="%-idtt_Salt!",Pg="spki",nc="RSA-OAEP",_r="SHA-256",rc=318,Og=(()=>{class s extends Tt{constructor(t,e,i,r,o,c){super(),this.Js=t,this.dl=e,this.N=i,this.j=r,this.As=o,this.pl=c,this.ot=null,this.gl=null,this.ml=null,this.If=!1,this.yl=null,this.El=null,this.Sl=null,this.da=null,this.vl=null,Io()&&(this.If=!0,this.yl=new TextEncoder,e.setRequestParametersProviders({getRequestParameters:()=>{var l;return(l=this.El)!==null&&l!==void 0?l:{}}}),e.after(()=>{this.El=null}))}onStart(){var t,e;let i=(t=this.N.getVisitor())===null||t===void 0?void 0:t.id,r=(e=this.As.get()==null?void 0:csString.prototype.split.call(this.As.get(),"."))===null||e===void 0?void 0:e[0];if(i!==r&&this.As.remove(),this.pl?!this.vl&&ds.isSupported()&&(this.vl=Promise.all([this.Pf(this.pl).then(this.sv.bind(this)),this.iv(this.pl)])):et.warn("identify: missing encryption key",!0,"identify"),this.ot!==null){let{identity:o,sendHashedIdentity:c}=this.ot;this.ot=null,this.identify(o,c)}}onStop(){}async identify(t,e){if(!this.If)return;if(!this.Js){et.error("missing heap env id","identify");return}if(!this.isStarted){this.ot={identity:t,sendHashedIdentity:e};return}if(this.nv(t))return;let i=W.truncate(t,Cg),r=this.N.getVisitor();if(!r){et.warn("identify: visitor not found",!0,"identify");return}if(await this.rv(i,r.identityPrint)){if(this.N.renewVisitor(),r=this.N.getVisitor(),!r){et.warn("identify: visitor not found",!0,"identify");return}}else this.j.refreshSession();await Promise.all([this.ov(i,e,this.Js,r.id),this.av(i,r),this.cv(i,r)])}resetIdentity(){this.ot!==null&&(this.ot=null),this.getIdentity()&&this.N.renewVisitor(),this.As.get()&&this.As.remove()}getIdentity(){let t=this.N.getVisitor();return!t||!t.identityPrint?null:t.identityPrint}getEncryptedIdentityAndKey(){let t=this.As.get();if(!t)return null;let e=csString.prototype.split.call(t,".");return e.length!==3?null:`${e[1]}.${e[2]}`}async rv(t,e){return e?await this.Of(t)!==e:!1}async av(t,e){e.identityPrint=await this.Of(t),this.N.setVisitor(e)}async Of(t){var e;if(((e=this.gl)===null||e===void 0?void 0:e.identity)===t)return this.gl.identityPrint;let i=await this.Pf(t),r=W.truncate(i,12);return this.gl={identity:t,identityPrint:r},r}async Pf(t){return Ua(_r,this.yl.encode(Ig+t))}async sv(t){this.da=W.truncate(t,16);let e=this.As.get();if(!e)return;let i=csString.prototype.split.call(e,".");i.length===3&&i[2]!==this.da&&this.As.remove()}async iv(t){try{this.Sl=await ds.crypto.importKey(Pg,Ro(t),{name:nc,hash:_r},!1,["encrypt"])}catch{et.error(`fail to import encryption key '${t}'`,"IdentityService")}}async lv(t){if(!this.Sl)return null;let e=Yn(t);e.byteLength>rc&&(et.error("arrayBuffer too long","encryptIdentity"),e=e.slice(0,rc));try{let i=await ds.crypto.encrypt({name:nc},this.Sl,e);return yd(i)}catch{return null}}async cv(t,e){if(await this.vl,!this.da)return;let i=await this.hv(t);i&&this.As.set(`${e.id}.${i}.${this.da}`)}async hv(t){var e;if(((e=this.ml)===null||e===void 0?void 0:e.identity)===t)return this.ml.encryptedIdentity;let i=await this.lv(t);return i?(this.ml={identity:t,encryptedIdentity:i},i):null}async ov(t,e,i,r){let o=e?await Ua(_r,this.yl.encode(t)):t,c=csString(await Fl(r));this.El={a:i,u:c,st:C.now().toString(),b:"web",i:o,v:"1",s:"1"},this.dl.send()}nv(t){for(let e of Ag)if(t===e)return!0;for(let e of Rg)if(e.test(t))return!0;return!1}}return s})(),Zs="_cs_i",Ng=(()=>{class s{constructor(t){this.K=t}set(t){this.K.setItem(Zs,t)}remove(){this.K.removeItem(Zs)}get(){return this.K.getItem(Zs)}}return s})(),Mg=2592e5,Dg=(()=>{class s{constructor(t){this.D=t}set(t,e=Mg){this.D.set(Zs,t,e,!0)}remove(){this.D.delete(Zs)}get(){return this.D.get(Zs)}}return s})(),oc=1/0,{toString:kg}=Object.prototype;function xg(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":kg.call(s)}var $o=s=>typeof s=="symbol"||typeof s=="object"&&s!=null&&xg(s)==="[object Symbol]";function $l(s){if(typeof s=="string"||$o(s))return s;let n=`${s}`;return typeof s=="number"?n==="0"&&1/s===-oc?"-0":n:s instanceof Number&&n==="0"&&1/s.valueOf()===-oc?"-0":n}var Lg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ug=/^\w*$/;function Vg(s,n){return csArray.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||$o(s)?!0:Ug.test(s)||!Lg.test(s)||n!=null&&s in Object(n)}function zo(s,n){if(typeof s!="function"||n!=null&&typeof n!="function")throw new TypeError("Expected a function");let t=function(...e){let i=n?n.apply(this,e):e[0],{cache:r}=t;if(r.has(i))return r.get(i);let o=s.apply(this,e);return t.cache=r.set(i,o)||r,o};return t.cache=new(zo.Cache||Map),t}zo.Cache=Map;var jg=500;function Hg(s){let n=zo(s,t=>{let{cache:e}=n;return e.size===jg&&e.clear(),t});return n}var Bg=46,Fg=/\\(\\)?/g,$g=csRegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),zl=Hg(s=>{let n=[];return csString.prototype.charCodeAt.call(s,0)===Bg&&csArray.prototype.push.call(n,""),csString.prototype.replace.call(s,$g,(t,e,i,r)=>{let o=t;return i?o=csString.prototype.replace.call(r,Fg,"$1"):e&&(o=csString.prototype.trim.call(e)),csArray.prototype.push.call(n,o),t}),n});function zg(s,n){return csArray.isArray(s)?s:Vg(s,n)?[s]:zl(s)}function Gg(s,n){let t=zg(n,s),e=s,i=0,{length:r}=t;for(;e!=null&&i<r;){let o=$l(t[i]);e=e[o],i+=1}return i&&i===r?e:void 0}function qg(s){return"iterable"in s}function Gl(s){return J(s.iterable)?A(s.iterable)||s.iterable===null:!0}function ql(s,n,t){let e=s==null?void 0:Gg(s,n);return e===void 0?t:e}var Wg=/\b__p \+= '';/g,Yg=/\b(__p \+=) '' \+/g,Xg=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Kg=/['\n\r\u2028\u2029\\]/g,Wl=/[&<>"']/g,Jg=csRegExp(Wl.source),Qg=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Sn=/($^)/,Zg={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tm=/[()=,{}[\]/\s]/,em=/<%-([\s\S]+?)%>/g,sm=/<%([\s\S]+?)%>/g,Yl=/<%=([\s\S]+?)%>/g,{hasOwnProperty:ac}=Object.prototype,im="Invalid `variable` option passed into `_.template`";function nm(s){return`\\${Zg[s]}`}var rm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},om={escape:em,evaluate:sm,interpolate:Yl,variable:"",imports:{_:{template:On,escape(s){return s&&Jg.test(s)?csString.prototype.replace.call(s,Wl,n=>rm[n]):s!=null?s:""}}}};function On(s,n){let t={...om,...n},e=Object.keys(t.imports||{}),i=csArray.prototype.map.call(e,S=>t==null?void 0:t.imports[S]),r,o,c=0,l=t.interpolate||Sn,h="__p += '",f=csRegExp(`${(t.escape||Sn).source}|${l.source}|${(l===Yl?Qg:Sn).source}|${(t.evaluate||Sn).source}|$`,"g"),u=`//# sourceURL=${ac.call(t,"sourceURL")?csString.prototype.replace.call(`${t.sourceURL}`,/\s/g," "):void 0}
`;s==null||csString.prototype.replace.call(s,f,(S,O,D,v,_,I)=>{let M=D||v;return h+=csString.prototype.replace.call(csString.prototype.slice.call(s,c,I),Kg,nm),O&&(r=!0,h+=`' +
__e(${O}) +
'`),_&&(o=!0,h+=`';
${_};
__p += '`),M&&(h+=`' +
((__t = (${M})) == null ? '' : __t) +
'`),c=I+S.length,S}),h+=`';
`;let m=ac.call(t,"variable")&&t.variable;if(!m)h=`with (obj) {
${h}
}
`;else if(tm.test(m))throw new Error(im);h=csString.prototype.replace.call(csString.prototype.replace.call(o?csString.prototype.replace.call(h,Wg,""):h,Yg,"$1"),Xg,"$1;"),h=`function(${m||"obj"}) {
${m?"":`obj || (obj = {});
`}var __t, __p = ''${r?", __e = _.escape":""}${o?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`}${h}return __p
}`;let y;try{y=Function(...e,`${u}return ${h}`)(...i)}catch(S){y=S}if(y.source=h,y instanceof Error)throw y;return y}var am=/^(\s*("(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')\s*,?)+$/,cm=/<%[\s\S]+?%>|<%-[\s\S]+?%>|<%=[\s\S]+?%>|\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/,lm=/^document\.querySelector\(("(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')\)\.(textContent|value)$/;function cc(s){if(!am.test(s)||cm.test(s))throw new Error("whitelisted function is wrongly used")}var lc={"window.location.hash.replace(":(s,n)=>{let t=csString.prototype.substring.call(s,29,s.length-1);return cc(t),On(`\${${s}}`)(n)},"window.sessionStorage.getItem(":(s,n)=>{let t=csString.prototype.substring.call(s,30,s.length-1);return cc(t),On(`\${${s}}`)(n)},"document.querySelector(":(s,n)=>{if(lm.test(s))return On(`\${${s}}`)(n)},"new Date().getTime()":(s,n)=>new csDate().getTime().toString()};function hm(s){let n=Us(Object.keys(lc),t=>It(s,t));if(n)return lc[n]}function um(s){return It(s,"'")&&di(s,"'")}var dm=/\$\{([\s\S]+?)\}/g,fm=s=>(n,t,e)=>{let i="";return csArray.prototype.forEach.call(csString.prototype.split.call(t,"+"),r=>{let o=csString.prototype.trim.call(r),c=ql(s,o);if(c===void 0)if(um(o))c=csString.prototype.substring.call(o,1,o.length-1);else{let l=hm(o);if(l&&(c=l(o,s)),c===void 0)throw new Error("undefined not allowed")}i+=c}),i};function hi(s,n){try{return csString.prototype.replace.call(s,dm,fm(n))}catch{return null}}function so(s,n){let t={};for(let e of Object.keys(s)){let i=s[e];if(A(i)){let r=hi(i,n);if(r===null)return null;t[e]=r}else t[e]=i}return t}function io(s,n){let t=csArray.prototype.join.call(csArray.prototype.filter.call(csArray.prototype.map.call(csString.prototype.split.call(s,","),e=>hi(e,n)),e=>e!==null&&Ut(e)),",");return Ut(t)?t:null}function pm(s){return csArray.isArray(s)?csArray.prototype.map.call(s,$l):$o(s)?[s]:csArray.from(zl(s))}function gm(s,n){try{let e=/^values\(([a-zA-Z0-9_$[\].]+)\)\[\?([a-zA-Z0-9_$]+)\]$/.exec(s);if(!e)return null;let i=e[1],r=e[2],o=ql(n,pm(i));if(typeof o!="object"||o===null)return null;let c=[];return csArray.prototype.forEach.call(Object.keys(o),l=>{let h=o[l];typeof h=="object"&&h!==null&&!csArray.isArray(h)&&r in h&&csArray.prototype.push.call(c,h)}),c}catch{return null}}function mm(s,n){let e=/^\[([0-9]+):([0-9+])\]$/.exec(s);if(!e)return null;let i=parseInt(e[1],10),r=parseInt(e[2],10);return r<=i||r>n.length?null:csArray.prototype.slice.call(n,i,r)}function ym(s,n){let t=csString.prototype.split.call(s,"|");if(t.length>2)return null;let e=gm(csString.prototype.trim.call(t[0]),n);return t.length===2?e===null?null:mm(csString.prototype.trim.call(t[1]),e):e}var br=(()=>{let s;return function(n){n.AND="AND",n.OR="OR"}(s||(s={})),s})(),ue=(()=>{let s;return function(n){n.STARTS_WITH="startsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.MATCHES="matches",n.NOT_MATCHES="notMatches",n.EXIST="exist",n.NOT_EXIST="notExist"}(s||(s={})),s})();function Xl(s,n){return Em(s.operator,_m(s.args,n))}function Em(s,n){switch(s){case ue.EXIST:case ue.NOT_EXIST:return Sm(s,n);default:return vm(s,n)}}function Sm(s,n){let[t]=n;if(!Ut(t))return!1;switch(s){case ue.EXIST:return window.csquerySelector[document.nodeType].call(document,t)!==null;case ue.NOT_EXIST:return window.csquerySelector[document.nodeType].call(document,t)===null;default:return!1}}function vm(s,n){let[t,e]=n;if(!(s in br)&&!(A(t)&&A(e)))return!1;switch(s){case br.AND:return!!csArray.prototype.reduce.call(n,(r,o)=>r&&o);case br.OR:return!!csArray.prototype.reduce.call(n,(r,o)=>r||o);case ue.STARTS_WITH:return It(t,e);case ue.EQUALS:return t===e;case ue.NOT_EQUALS:return t!==e;case ue.CONTAINS:return csString.prototype.indexOf.call(t,e)>-1;case ue.NOT_CONTAINS:return csString.prototype.indexOf.call(t,e)===-1;case ue.MATCHES:{let r=hc(e);return r!==null&&r.test(t)}case ue.NOT_MATCHES:{let r=hc(e);return r!==null&&!r.test(t)}default:return!1}}function wm(s){return!!(s&&s.operator&&s.args)}function _m(s,n){return csArray.prototype.map.call(s,t=>wm(t)?Xl(t,n):A(t)?hi(t,n):t)}function hc(s){let n=/^\/(.*)\/([gimy]*)$/.exec(s),t=null;if(n){let[,e,i]=n;try{t=new csRegExp(e,i)}catch{}}else try{t=new csRegExp(s)}catch{}return t}var $i=(()=>{class s{constructor(...t){this.Nf=t}addProvider(t){csArray.prototype.push.call(this.Nf,t)}getRequestParameters(){return csArray.prototype.reduce.call(this.Nf,(t,e)=>({...e.getRequestParameters(),...t}),{})}}return s})(),bm=window.navigator.language||window.navigator.userLanguage||window.navigator.browserLanguage||window.navigator.systemLanguage||"unknown";function Tm(){return{la:bm}}var Rs=(()=>{let s;return function(n){n.Artificial="a",n.Renewal="r",n.Natural="n"}(s||(s={})),s})(),Is=(()=>{let s;return function(n){n.Natural="Natural",n.Artificial="Artificial",n.Renewal="Renewal"}(s||(s={})),s})(),Am=(()=>{class s extends Tt{constructor(t,e,i,r,o,c){super(),this.E=t,this.w=e,this.J=i,this.wl=r,this.R=o,this.as=c,this.fa=null}init(){this.uv()}onStart(t=Is.Natural){switch(t){case Is.Natural:this.fv();break;case Is.Artificial:this.pv();break;case Is.Renewal:this.gv();break}}onStop(){}triggerArtificialPageView(t,e){this.isStarted?(this.w.emitArtificialPageViewEnd(),this._l(t,e)):(dt(t)&&this.R.overridePath(t,e),this.J.emitTargetingRulesArtificialPageview(this.R.getUrl()),this.E.hasTargetingRules()&&this.R.cleanupOverrideLifespan())}fv(){this.as.setPageViewType(Rs.Natural);let t=this.R.getAnonymizedUrl();this.w.emitBeforeNaturalPageView(t),this.wl.send(),this.R.cleanupOverrideLifespan(),this.w.emitAfterNaturalPageView(Rs.Natural),this.fa=t}gv(){this.as.setPageViewType(Rs.Renewal);let t=this.R.getAnonymizedUrl();this.w.emitBeforeNaturalPageView(t),this.wl.send(),this.w.emitAfterNaturalPageView(Rs.Renewal),this.fa=t}_l(t,e,i=!1){dt(t)&&this.R.overridePath(t,e);let r=this.R.getAnonymizedUrl();this.w.emitBeforeArtificialPageView(this.fa,r),this.as.setPageViewType(Rs.Artificial),this.wl.send(),this.R.cleanupOverrideLifespan(),this.w.emitAfterArtificialPageView(i),this.fa=r}pv(){this._l(null,void 0,!0)}uv(){window.addEventListener("pageshow",t=>{this.isStarted&&t.persisted&&(this.w.emitArtificialPageViewEnd(),this._l())})}}return s})(),Rm=(()=>{class s{constructor(){this.bl=Rs.Natural}setPageViewType(t){this.bl=t}getPageViewType(){return this.bl}getRequestParameters(){return{pvt:this.bl}}}return s})();var Cm=99999,Im=(()=>{class s{constructor(t){this.C=t,this.mv=this.yv()&&window.CSCurrentScript}Ev(){let t=window.CSCurrentScript;if(!t)return null;let e=window.performance.getEntriesByName(t.src,"resource")[0];return!e||this.Sv(e)?null:Math.round(e.responseEnd-e.fetchStart)}Sv(t){let e=t.transferSize;return e!==void 0?e===0||e===300||e<t.encodedBodySize:t.connectStart===t.domainLookupEnd}getRequestParameters(){if(!this.mv||this.vv()!==1)return{};let t=this.Ev();return t===null?{}:{dt:`${Math.min(t,Cm)}`}}vv(){var t;return((t=this.C.getSession())===null||t===void 0?void 0:t.pageNumber)||null}yv(){return typeof window.performance=="object"&&typeof window.performance.getEntriesByName=="function"}}return s})(),Kl=["trackPageview"],no=["setPath"],ro=["setQuery"],uc=["referrer:maskUrl"],Pm=["referrer:removeQueryString"],Om=["referrer:keepQueryString"],Tr=s=>Fe(s)&&s!==null,Nm=(s,n,t,e)=>{s.register(Kl,(i,r)=>{if(!A(i)){n.triggerArtificialPageView();return}Tr(r)?n.triggerArtificialPageView(i,r):n.triggerArtificialPageView(i)}),s.register(no,(i,r)=>{if(!A(i))throw new St(no[0]);Tr(r)?t.overridePath(i,r):t.overridePath(i)}),s.register(ro,(i,r)=>{if(!A(i))throw new St(ro[0]);Tr(r)?t.overrideQuery(i,r):t.overrideQuery(i)}),e&&(s.register(uc,i=>{if(!A(i))throw new St(uc[0]);e.addUrlMaskingPattern(i)}),s.register(Pm,()=>e.enableRemoveQueryString()),s.register(Om,()=>e.disableRemoveQueryString()))};var Mm=(()=>{class s{constructor(t,e,i,r,o,c,l,h,f,u,m,y,S,O,D){this.E=t,this.S=e,this.w=i,this.Le=r,this.N=o,this.C=c,this.Cs=l,this.Rt=h,this._t=f,this.R=u,this.se=m,this.as=y,this.J=S,this.de=O,this.dn=D}init(){let t=new ci(this.E.getTrackerUri(),"pageview");this.Rs=new Am(this.E,this.w,this.J,t,this.R,this.as),this.Rs.init();let e=new $i(this.Le,this.N,_t,this.Cs,this.R,this.Rt,Ao,this._t,this.as,new Im(this.C),this.se);this.de&&e.addProvider(this.de),this.dn&&e.addProvider(this.dn);let i=this.E.isCsCrosswritingHeap();if(i||this.E.isCsSideloadingHeap()||this.E.isHeapSideloadsCs()){let r=this.E.getHeapEnvId()||void 0;e.addProvider({getRequestParameters(){let o={cw:i?"1":"2"};return r&&(o.happid=r),o}})}t.setRequestParametersProviders(e),Nm(this.S,this.Rs,this.R,this.Cs)}start(t){this.Rs.start(t)}stop(){this.Rs.stop()}onBeforeSessionRenewal(){this.Rs.stop()}}return s})();function Go(s){switch(s){case"no decoding":return null;case"decode once":return{decodeURI:!0};case"decode multiple times":return{decodeURIDeep:!0};default:return null}}function qo(s){switch(s==null?void 0:s[0]){case"on next pageview only":return{lifespan:"onNextPageviewOnly"};default:return null}}var At=(()=>{class s{constructor(t,e){this.commandsService=t,this.args=e}}return s})(),Zi=(()=>{class s extends At{}return s})(),Jl=(()=>{class s extends At{validateArgs(t){if(K(t)){let e=J(t.path)?A(t.path):!0,i=J(t.decodeURI)?A(t.decodeURI):!0,r=J(t.lifespan)?csArray.isArray(t.lifespan):!0;return e&&i&&r}return!1}execute(t){if(!t.path)this.wr([]);else{let e=[t.path],i=Go(t.decodeURI),r=qo(t.lifespan),o={...i,...r};Object.keys(o).length&&e.push(o),this.wr(e)}}wr(t){this.commandsService.applyFromImplementation(Kl[0],t,"ArtificialPageviewTemplate")}}return s})(),Jn=["trackError"],Dm=(()=>{class s extends Zi{validateArgs(t){return K(t)?A(t.message)&&csArray.isArray(t.attributes):!1}execute(t,e){let i=hi(t.message,e);if(!i)return;let r={};for(let o of t.attributes){let c=hi(o.value,e);c!==null&&(r[o.key]=c)}this.commandsService.applyFromImplementation(Jn[0],[i,r],"CustomErrorTemplate")}}return s})(),Wo=["setCustomVariable"],km=(()=>{class s{constructor(t,e){this.S=t,this._t=e}init(){this.S.register(Wo,(t,e,i,r)=>{this._t.set(t,e,i,r)})}onAfterArtificialPageView(){this._t.deleteNextPageOnlyCustomVariables()}onAfterNaturalPageView(){this._t.deleteNextPageOnlyCustomVariables()}onOptout(){this._t.removeCustomVariablesSession()}onBeforeVisitorRenewal(){this._t.removeCustomVariablesSession(),this._t.removeCustomVariablesPage()}}return s})(),xm=(()=>{class s extends At{validateArgs(t){if(K(t)){let e=Gl(t),i=csArray.isArray(t.scope)?No(t.scope,r=>A(r)):!0;return e&&i&&mt(t.index)&&A(t.name)&&A(t.value)}return!1}execute(t){this.commandsService.applyFromImplementation(Wo[0],[t.index,t.name,t.value,t.scope[0]],"CustomVariableTemplate")}}return s})(),Ql=["setEncryptionSelectors"],Yo=["setPIISelectors"],Zl=["setCapturedElementsSelector"],Lm=(()=>{class s{constructor(t,e,i,r,o,c,l){this.w=t,this.S=e,this.lt=i,this.ie=r,this.Gt=o,this.ht=c,this.En=l}init(){var t,e;this.En&&this.ht&&((t=this.En)===null||t===void 0||t.addSelector((e=this.ht)===null||e===void 0?void 0:e.getEncryptionSelectors())),this.ut()}onStartTracking(t){this.ie.start(),this.w.emitSensitiveStatusChange()}onBeforeArtificialPageView(){this.ie.stop(),this.w.emitSensitiveStatusChange()}onAfterArtificialPageView(){this.ie.start(),this.w.emitSensitiveStatusChange()}onBeforeSessionRenewal(){this.ie.stop(),this.w.emitSensitiveStatusChange()}onOptout(){this.ie.stop(),this.w.emitSensitiveStatusChange()}onReplayUnanonymizationConsentGranted(){this.w.emitSensitiveStatusChange()}onReplayUnanonymizationConsentWithdrawn(){this.w.emitSensitiveStatusChange()}ut(){this.S.register(Yo,t=>{this.lt.setMaskedElementSettingsFromCommand(t),this.w.emitSensitiveStatusChange()}),this.S.register(Zl,t=>{this.Gt.setWhitelistedElementsSelector(t),this.w.emitSensitiveStatusChange()}),this.S.register(Ql,t=>{var e,i;(e=this.ht)===null||e===void 0||e.setEncryptionSelectors(t),(i=this.En)===null||i===void 0||i.addSelector(t)})}}return s})(),Um=(()=>{class s extends At{validateArgs(t){return K(t)?A(t.selector):!1}execute(t){this.commandsService.applyFromImplementation(Ql[0],[t.selector],"DataCsEncryptTemplate")}}return s})(),Vm="data-cs-override-id",jm=(()=>{class s extends At{validateArgs(t){if(K(t)){let e=dt(t.value)?A(t.value):!0;return A(t.selector)&&e}return!1}execute(t){var e;if(!Ut(t.selector))return;let i=window.csquerySelector[document.nodeType].call(document,t.selector);i&&i.setAttribute(Vm,(e=t.value)!==null&&e!==void 0?e:"")}}return s})(),Hm=512,Bm=255,Ar=(()=>{class s{constructor(t,e){this.key=csString.prototype.slice.call(t,0,Hm),this.value=A(e)?csString.prototype.slice.call(e,0,Bm):e}static isKeyValid(t){return A(t)}static isValueValid(t){return A(t)||Ns(t)}}return s})(),Fm=(()=>{class s extends Tt{constructor(t,e){super(),this.qt=t,this.M=e,this.Tl=[]}onStart(){csArray.prototype.forEach.call(this.Tl,t=>this.Mf(t.key,t.value)),this.Tl=[]}onStop(){}Mf(t,e){let i=this.M.anonymizePII(t),r=Ns(e)?e:this.M.anonymizePII(e);this.qt.add(new Ar(i,r))}trackDynamicVariable(t,e){if(Ar.isKeyValid(t)&&Ar.isValueValid(e)){if(!this.isStarted){csArray.prototype.push.call(this.Tl,{key:t,value:e});return}this.Mf(t,e)}else throw new St(Xo[0])}}return s})(),$m=(()=>{class s{constructor(t){this.fe=t,this.qt=[]}add(t){csArray.prototype.push.call(this.qt,t),this.setBatchReadyCall()}clear(){this.qt=[]}onBatchReady(t){this.wv=t}getRequestParameters(){let t={};for(let e of this.qt)t[e.key]=e.value;return{dv:this.fe.compressSync(csJSON.stringify(t),"base64"),ct:this.fe.algorithm}}setBatchReadyCall(){this.wv()}}return j([Qi({wait:0,mode:"trailing"}),N("dynamicVariablesBatchReady")],s.prototype,"setBatchReadyCall",null),s})(),zm="dvar",Xo=["trackDynamicVariable"],Gm=(()=>{class s{constructor(t,e,i,r,o,c){this.S=t,this.C=e,this.E=i,this.Le=r,this.fe=o,this.M=c,this._s=new ci(this.E.getTrackerUri(),zm),this.qt=new $m(this.fe),this.Ts=new Fm(this.qt,this.M)}init(){this._s.setRequestParametersProviders(this.Le,this.qt),this.C.setDynamicVariablesService(this.Ts),this.qt.onBatchReady(()=>this._s.send()),this._s.after(()=>this.qt.clear()),this.S.register(Xo,({key:t,value:e}={})=>{this.Ts.trackDynamicVariable(t,e)})}onStartTracking(){this.Ts.start()}onArtificialPageViewEnd(t){t&&this.Ts.stop()}onAfterArtificialPageView(t){t&&this.Ts.start()}}return s})(),qm=20,Wm=(()=>{class s extends Zi{validateArgs(t){return K(t)?Gl(t)&&A(t.key)&&A(t.value)&&A(t.type):!1}execute(t,e){let i=so(t,e);i!==null?this.wr(i):this._v(t,e)()}_v(t,e){return()=>{let i=0,r=window.csSetInterval(()=>{i+=1;let o=so(t,e);if(o!==null){window.csClearInterval(r),r=void 0,i=0,this.wr(o);return}i>=qm&&(window.csClearInterval(r),r=void 0,i=0)},100)}}wr(t){let e=t.value;if(t.type==="Integer"){let i=Number.parseInt(t.value,10);Number.isNaN(i)||(e=i)}this.commandsService.applyFromImplementation(Xo[0],[{key:t.key,value:e}],"DynamicVariableTemplate")}}return s})(),th=100,Ym=100,Xm=(()=>{class s extends Tt{constructor(t,e){super(),this.bv=t,this.j=e,this.Re=null,this.Al=[]}onStart(){csArray.prototype.forEach.call(this.Al,t=>{this.Re=t,this.Df()}),this.Al=[]}onStop(){}addToCart(t){let e={};A(t.sku)&&(e.sku=csString.prototype.slice.call(t.sku,0,Ym)),A(t.merchant)&&(e.merchant=csString.prototype.slice.call(t.merchant,0,th)),(e.sku||e.merchant)&&(this.Re=e,this.Df())}getCartItem(){return this.Re}Df(){if(!this.isStarted&&this.Re!==null){csArray.prototype.push.call(this.Al,this.Re),this.clear();return}this.j.refreshSession(),this.j.isSessionValid()&&this.bv.send()}clear(){this.Re=null}getRequestParameters(){if(!this.Re)return{};let t={};return A(this.Re.sku)&&this.Re.sku.length>0&&(t.sku=this.Re.sku),A(this.Re.merchant)&&this.Re.merchant.length>0&&(t.me=this.Re.merchant),t}}return s})(),dc=(()=>{class s{constructor(t,e){this.id=t,this.revenue=e}static from(t){let e=new s(t.id,parseFloat(t.revenue));return isNaN(parseFloat(t.tax))||(e.tax=parseFloat(t.tax)),isNaN(parseFloat(t.shipping))||(e.shipping=parseFloat(t.shipping)),A(t.currency)&&t.currency.length<=10&&(e.currency=t.currency),e}hasValidRevenue(){return!isNaN(this.revenue)&&this.revenue>=0}static isValid(t){return dt(t)&&mt(t.revenue)&&A(t.currency)&&t.currency.length<=10&&(!dt(t.id)||A(t.id))}}return s})(),Km=(()=>{class s{constructor(t,e,i,r){this.id=t,this.name=e,this.price=i,this.quantity=r}static from(t){if(!s.Rl(t))return null;let e=new s(t.id,t.name,parseFloat(t.price),parseInt(t.quantity,10));return J(t.sku)&&(e.sku=t.sku),J(t.category)&&(e.category=t.category),J(t.merchant)&&t.merchant.length>0&&(e.merchant=t.merchant.slice(0,th)),e}static Rl(t){return dt(t)&&A(t.id)&&A(t.name)&&mt(parseFloat(t.price))&&Ns(parseInt(t.quantity,10))&&(!J(t.sku)||A(t.sku))&&(!J(t.category)||A(t.category))&&(!J(t.merchant)||A(t.merchant))}}return s})(),Jm=(()=>{class s extends Tt{constructor(t,e,i){super(),this.M=t,this.kf=e,this.j=i,this.Cl=[],this.clear()}onStart(){csArray.prototype.forEach.call(this.Cl,t=>{this.pe=t.transaction,this._r=t.transactionItems,this.sendTransaction()}),this.Cl=[]}onStop(){}addTransaction(t){let e=this.M.anonymizeFields(t,["id"]);this.pe=dc.from(e)}getTransaction(){return this.pe}sendTransaction(){if(!this.isStarted){csArray.prototype.push.call(this.Cl,{transaction:this.pe,transactionItems:[...this._r]}),this.clear();return}if(!(this.kf===null||this.j===null)&&(this.j.refreshSession(),!!this.j.isSessionValid())){if(!this.pe.hasValidRevenue()){B.warn("Transaction Service: unable to send transaction with invalid parameters");return}this.kf.send()}}addItem(t){if(Ae(t))throw new St(Qn[1]);let e=this.M.anonymizeFields(t,["id","name","sku","category"]),i=Km.from(e);i!==null&&csArray.prototype.push.call(this._r,i)}getItems(){return this._r}clear(){this.pe=dc.from({revenue:NaN}),this._r=[]}getRequestParameters(){let t={id:this.pe.id?`${this.pe.id}`:"",revenue:`${this.pe.revenue}`};return J(this.pe.tax)&&(t.tax=`${this.pe.tax}`),J(this.pe.shipping)&&(t.shipping=`${this.pe.shipping}`),J(this.pe.currency)&&(t.cu=`${this.pe.currency}`),t.items=window.csJSON.stringify(this._r),t}}return s})(),Qm=["ecommerce:addToCart","ec:cart:add"],Ko=["ecommerce:addTransaction","ec:transaction:create"],Qn=["ecommerce:addItem","ec:transaction:items:add"],Jo=["ecommerce:send","ec:transaction:send"],Zm=(()=>{class s{constructor(t,e,i,r,o,c,l){this.E=t,this.St=e,this.N=i,this.S=r,this.M=o,this.j=c,this.R=l}init(){let t=new ci(this.E.getTrackerUri(),"transaction"),e=new ci(this.E.getTrackerUri(),"addtocart");this.Ue=new Jm(this.M,t,this.j),this.Sn=new Xm(e,this.j);let i=new $i(this.St,this.N,this.R,this.Ue);t.setRequestParametersProviders(i),t.after(()=>{this.Ue.clear()});let r=new $i(this.St,this.N,this.R,this.Sn);e.setRequestParametersProviders(r),e.after(()=>{this.Sn.clear()}),this.S.register(Ko,o=>{this.Ue.addTransaction(o)}),this.S.register(Qn,o=>this.Ue.addItem(o)),this.S.register(Jo,()=>this.Ue.sendTransaction()),this.S.register(Qm,o=>{this.Sn.addToCart(o)})}onStartTracking(){this.Ue.start(),this.Sn.start()}onArtificialPageViewEnd(t){t&&(this.Ue.stop(),this.Sn.stop())}onAfterArtificialPageView(t){t&&(this.Ue.start(),this.Sn.start())}}return s})(),ty=(()=>{class s extends At{validateArgs(t){return K(t)?A(t.transactionId)&&mt(t.revenue)&&A(t.currency)&&A(t.name)&&A(t.sku)&&A(t.category)&&mt(t.price)&&mt(t.quantity):!1}execute(t){this.Tv({id:t.transactionId,revenue:t.revenue,currency:t.currency}),this.Av({id:t.transactionId,name:t.name,sku:t.sku,category:t.category,price:t.price,quantity:t.quantity}),this.pa()}Tv(t){this.commandsService.applyFromImplementation(Ko[0],[t],"EcTransactionAllTemplate")}Av(t){this.commandsService.applyFromImplementation(Qn[0],[t],"EcTransactionAllTemplate")}pa(){this.commandsService.applyFromImplementation(Jo[0],[],"EcTransactionAllTemplate")}}return s})(),ey=(()=>{class s extends At{validateArgs(t){return K(t)?A(t.id)&&mt(t.revenue)&&A(t.currency):!1}execute(t){this.commandsService.applyFromImplementation(Ko[0],[t],"EcTransactionCreateTemplate")}}return s})(),sy=(()=>{class s extends At{validateArgs(t){return K(t)?A(t.id)&&A(t.name)&&A(t.sku)&&A(t.category)&&mt(t.price)&&mt(t.quantity):!1}execute(t){this.commandsService.applyFromImplementation(Qn[0],[t],"EcTransactionItemsAddTemplate")}}return s})(),iy=(()=>{class s extends At{validateArgs(t){return!!K(t)}execute(){this.commandsService.applyFromImplementation(Jo[0],[],"EcTransactionSendTemplate")}}return s})(),ny=(()=>{class s extends Zi{validateArgs(t){return K(t)?dt(t)&&A(t.selector):!1}execute(t,e){if(!dt(t)||!A(t==null?void 0:t.selector))return;let i=io(t.selector,e);i!==null&&this.commandsService.applyFromImplementation(Zl[0],[i],"ElementUnmaskingTemplate")}}return s})(),xs;(function(s){s.ContentSquare="CONTENTSQUARE",s.LoadedByClicktale="LOADED_BY_CLICKTALE",s.LoadClicktalePtc="LOAD_CLICKTALE_PTC",s.DualCollectionReview="DUAL_COLLECTION_REVIEW",s.DualCollection="DUAL_COLLECTION",s.ContentSquareTagClickTaleEndpoints="CONTENTSQUARE_TAG_CLICKTALE_ENDPOINTS"})(xs||(xs={}));var fc=(()=>{let s;return function(n){function t(){return window.ClickTaleIsRecording&&window.ClickTaleIsRecording()}n.isRecording=t;function e(){window.ClickTaleStop&&window.ClickTaleStop()}n.stopRecording=e;function i(c){window.ClickTaleLogicalWithUploadPage&&window.ClickTaleLogicalWithUploadPage(c)}n.triggerLogicalPageView=i;function r(c){window.ClickTaleEvent&&window.ClickTaleEvent(c)}n.sendPageEvent=r;function o(c){window.ClickTaleEventTrigger&&window.ClickTaleEventTrigger(c)}n.sendEventTriggerRecording=o}(s||(s={})),s})();function oo(s){return s.tagDeploymentMode===xs.DualCollectionReview||s.tagDeploymentMode===xs.DualCollection}function ry(s){return oo(s)||s.tagDeploymentMode===xs.LoadClicktalePtc}var oy="@ETP@",pc="@user-identifier@",ay=(()=>{class s extends Tt{constructor(t,e,i,r){super(),this.E=t,this.Rv=e,this.fe=i,this.J=r,this.Il=[],this.Ni=[]}onStart(){csArray.prototype.forEach.call(this.Il,t=>this.xf(t)),this.Il=[],csArray.prototype.forEach.call(this.Ni,t=>this.Lf(t)),this.Ni=[]}onStop(){}xf(t){this.Cv(t)?ds.isSupported()&&this.Iv(t):this.Pv(t)}trackPageEvent(t){if(!s.Uf(t))throw new St(Qo[0]);this.isStarted?this.xf(t):csArray.prototype.push.call(this.Il,t)}Cv(t){return Fn(t,pc)}async Iv(t){if(!this.E.customHashIdEnabled)return;let e=csString.prototype.slice.call(t,pc.length);if(e.length>ds.MAX_DIGEST_INPUT_SIZE){B.warn("UserIdentifier event: invalid user identifier");return}let i=await ds.digest(e);i?(this.wn={eventName:i,isETR:!1,isCustomHashId:!0},this.ga()):B.warn("Page event: unable to compute customHashId"),this.E.encryptionEnabled&&this.J.emitUserIdentifierEvent(e)}Pv(t){this.J.emitPageEvent(t),this.wn={eventName:t,isETR:!1,isCustomHashId:!1},this.ga(),this.E.tagDeploymentMode===xs.LoadClicktalePtc&&fc.sendPageEvent(t)}Lf(t){this.E.malkaEtrEnabled?this.Ov(t):this.Nv(t)}trackEventTriggerRecording(t){if(!s.Uf(t))throw new St(tn[0]);this.isStarted?this.Lf(t):csArray.prototype.push.call(this.Ni,t)}Ov(t){Fn(t,oy)?this.J.emitEventTriggerRecording(t,fs.ETR_PAGE):this.J.emitEventTriggerRecording(t,fs.ETR_SESSION),this.wn={eventName:t,isETR:!0,isCustomHashId:!1},this.ga()}Nv(t){ry(this.E)&&(this.J.emitEventTriggerRecording(t,fs.ETR_LEGACY),this.wn={eventName:t,isETR:!0,isCustomHashId:!1},this.ga(),this.E.tagDeploymentMode===xs.LoadClicktalePtc&&fc.sendEventTriggerRecording(t))}getRequestParameters(){return{value:this.fe.compressSync(this.wn.eventName,"base64"),ct:this.fe.algorithm,isETR:`${this.wn.isETR}`,isCustomHashId:`${this.wn.isCustomHashId}`}}ga(){this.Rv.send()}static Uf(t){return A(t)&&!!csString.prototype.trim.call(t)}}return s})(),Qo=["trackPageEvent"],tn=["trackEventTriggerRecording"],cy=(()=>{class s{constructor(t,e,i,r,o){this.E=t,this.S=e,this.fe=i,this.Le=r,this.J=o}init(){let t=new ci(this.E.getTrackerUri(),"pageEvent");this._n=new ay(this.E,t,this.fe,this.J),t.setRequestParametersProviders(this._n,this.Le),this.S.register(Qo,e=>{this._n.trackPageEvent(e)}),this.S.register(tn,e=>{this._n.trackEventTriggerRecording(e)})}onStartTracking(){this._n.start()}onArtificialPageViewEnd(t){t&&this._n.stop()}onAfterArtificialPageView(t){t&&this._n.start()}}return s})(),ly=(()=>{class s extends At{validateArgs(t){return K(t)?A(t.eventName):!1}execute(t){this.commandsService.applyFromImplementation(tn[0],[`@ETP@${t.eventName}`],"EventTriggerRecordingPageTemplate")}}return s})(),hy=(()=>{class s extends At{validateArgs(t){return K(t)?A(t.eventName):!1}execute(t){this.commandsService.applyFromImplementation(tn[0],[`@ETS@${t.eventName}`],"EventTriggerRecordingSessionTemplate")}}return s})(),uy=(()=>{class s extends At{validateArgs(t){return K(t)?A(t.eventName):!1}execute(t){this.commandsService.applyFromImplementation(Qo[0],[t.eventName],"PageEventTemplate")}}return s})(),dy=(()=>{class s extends Zi{validateArgs(t){if(K(t)){let e=csArray.isArray(t.cssSelectors),i=csArray.isArray(t.attributes);return e&&i}return!1}execute(t,e){let i=csArray.prototype.filter.call(csArray.prototype.map.call(t.cssSelectors,c=>io(c,e)),c=>!!c),r=csArray.prototype.filter.call(csArray.prototype.map.call(t.attributes,c=>{let l=hi(c.attrName,e),h=io(c.selector,e);return{attrName:l,selector:h}}),c=>!!c.attrName&&!!c.selector),o={PIISelectors:[...i],Attributes:[...r]};this.commandsService.applyFromImplementation(Yo[0],[o],"PIIMaskingTemplate")}}return s})(),fy=(()=>{class s extends At{validateArgs(t){return K(t)?A(t.eventName):!1}execute(t){this.commandsService.applyFromImplementation(tn[0],[`${t.eventName}`],"RecordingEventTriggerTemplate")}}return s})(),py=(()=>{class s extends At{validateArgs(t){return K(t)?A(t.path):!1}execute(t){let e=[t.path],i=Go(t.decodeURI),r=qo(t.lifespan),o={...i,...r};Object.keys(o).length&&e.push(o),this.commandsService.applyFromImplementation(no[0],e,"SetPathTemplate")}}return s})(),gy=(()=>{class s extends At{validateArgs(t){return K(t)?A(t.query):!1}execute(t){let e=[t.query],i=Go(t.decodeURI),r=qo(t.lifespan),o={...i,...r};Object.keys(o).length&&e.push(o),this.commandsService.applyFromImplementation(ro[0],e,"SetQueryTemplate")}}return s})();function ge(s,n,t,e){var i=arguments.length,r=i<3?n:e===null?e=Object.getOwnPropertyDescriptor(n,t):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(s,n,t,e);else for(var c=s.length-1;c>=0;c--)(o=s[c])&&(r=(i<3?o(r):i>3?o(n,t,r):o(n,t))||r);return i>3&&r&&Object.defineProperty(n,t,r),r}var Pi=s=>s instanceof HTMLFormElement?"form":s.localName,gc=new Map,Rr=!qi&&document.implementation.createHTMLDocument("");function eh(s){var n,t;return(t=(n=s.sheet)===null||n===void 0?void 0:n.href)!==null&&t!==void 0?t:s.getAttribute("href")}function my(s){if(!Xi(s))return null;let n=sh(s);if(n===null||n.length===0)return null;let t="";if(Wn(s.textContent))X(n,e=>t+=e.cssText);else{let e=yy(s);if(e===n.length||e>n.length)return null;let i=new csArray(n.length-e);for(let r=e,o=0;r<n.length;r+=1,o+=1)i[o]=n[r];X(i,r=>t+=r.cssText)}return t}function yy(s){if(!Rr)return 0;let n=gc.get(s.textContent);if(n)return n;let t=s.cloneNode(!0);t.textContent=s.textContent,Rr.head.appendChild(t);let e=sh(t);return n=e?e.length:0,gc.set(s.textContent,n),Rr.head.removeChild(t),n}function sh(s){try{if(s.disabled)return null;let n=s.sheet;return n?n.cssRules||n.rules:null}catch(n){if(n.name!=="SecurityError"&&n.name!=="InvalidAccessError")throw n;return null}}var ps={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,STYLESHEET:50};var Hs=(()=>{class s{constructor(t){this.csId=q(t),this.props=Di.getAll(t)}}return s})(),ih=(()=>{class s extends Hs{constructor(t){super(t),this.nodeType=3,this.data=t.data}}return s})(),je=(()=>{class s extends Hs{constructor(t){var e,i,r;super(t),this.attributes=[],this.nodeType=ps.ELEMENT_NODE,this.localName=Pi(t),this.namespaceURI=(e=t.namespaceURI)!==null&&e!==void 0?e:void 0,this.children=[];let o=my(t);if(o){this.children=new csArray(csNodechildNodes.apply(t).length);let c=document.createTextNode(o),l=new ih(c);csArray.prototype.push.call(this.children,l)}(Xi(t)||Do(t))&&(this.disabledSheet=(r=(i=t.sheet)===null||i===void 0?void 0:i.disabled)!==null&&r!==void 0?r:!1)}static isElement(t){return t.nodeType===ps.ELEMENT_NODE}static getAttribute(t,e){return Us(t.attributes,i=>i.name===e)}static getAttributeValue(t,e){var i;return(i=this.getAttribute(t,e))===null||i===void 0?void 0:i.value}}return s})();function Ey(s,n){let t=!1,e=function(){if(!t)return s.apply(n,arguments)};return e.cancel=()=>t=!0,e}function Sy(){let s=new Error,n=s.stack?csArray.prototype.filter.call(csString.prototype.split.call(s.stack,`
`),e=>e!=="Error"&&csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(e),"promise ")===-1&&csString.prototype.indexOf.call(e,"[native code]")===-1&&csString.prototype.indexOf.call(e,"(<anonymous>)")===-1):[];if(n.length===0)return"";let t=wy(n);return t===""||(n=_y(n,t),n.length===0)?"":nh(n[0])}function vy(s){return csString.prototype.indexOf.call(s,"@")!==-1}function wy(s){return s.length>0?nh(s[0]):""}function _y(s,n){return csArray.prototype.filter.call(s,t=>csString.prototype.indexOf.call(t,n)===-1)}function nh(s){let n="",t;vy(s)?t=new csRegExp("@(.+):(\\d+):(\\d+)$"):t=new csRegExp("\\((.+):(\\d+):(\\d+)\\)");let e=t.exec(s);return e&&(n=e[1]),n}var by=s=>s;function Ty(s,n,t,e){let i=csSymbol.for("propertyProxy");Object.defineProperty(s,n,{get(){var r;if(this[i])return this[i];let o=(r=t.get)===null||r===void 0?void 0:r.apply(this);return typeof o!="object"?o:(typeof Proxy=="function"?this[i]=new Proxy(o,{get(c,l){let h=Reflect.get(c,l);return typeof h=="function"?h.bind(c):h},set:(c,l,h)=>{let f=c[l],u=Reflect.set(c,l,h);return e.forEach(m=>m(this,h,f,"subproperty")),u}}):this[i]=o,this[i])},set(){var r;let o=arguments,c=this[n],l=(r=t.set)===null||r===void 0?void 0:r.apply(this,o);delete this[i];try{e.forEach(h=>h(this,o[0],c,"property"))}catch(h){et.error(h)}return l}})}function Ay(s,n,t){let e=Ry(s,n);if(!e)return null;let i=(r,o,c,l)=>t(r,o,c,l);return{activate:()=>{e.add(i)},deactivate:()=>{e.delete(i)}}}function Ry(s,n){let t=csSymbol.for(n);if(s[t])return s[t];let e=new Set,i=Object.getOwnPropertyDescriptor(s,n);return i?i.configurable?(s[t]=e,Ty(s,n,i,e),e):(et.warn(`Cannot intercept non configurable property '${csString(n)}' of object '${s}'`),null):(et.warn(`Cannot intercept property '${csString(n)}' because it does not exist directly on the target object '${s}'`),null)}function Cy(s,n){let t=csSymbol.for(n);if(s[t])return s[t];let e=Object.getOwnPropertyDescriptor(s,n);if(!(e!=null&&e.writable)&&!(e!=null&&e.set))return et.warn(`Cannot intercept read only function '${csString(n)}' of object '${s}'`),null;let i=new Set;s[t]=i;let r=s[n];if(typeof r=="function"){let o=function(){let c=arguments,l=[];try{l=csArray.prototype.map.call($e(i),f=>f(c))}catch(f){et.critical(f)}let h=r.apply(this,c);return Vs(()=>{let f={result:h,context:this,args:c};csArray.prototype.forEach.call(l,u=>u(f))},[Ce.MonkeyPatch,`${csString(n)}`]),h};Py(o,r),s[n]=o}return i}function Zt({target:s,methodName:n,hook:t,hookPrepareArgs:e=by,options:i}){let r=Cy(s,n);if(!r)return null;let o=c=>{let l=e(c),h=i!=null&&i.withCallerName?{callerName:Sy()}:{};return f=>t({...f,...h,args:l})};return{activate:()=>{r.add(o)},deactivate:()=>{r.delete(o)}}}function Iy(s,n){let t=csSymbol.for(n);if(s[t])return s[t];let e=new Set,i=Object.getOwnPropertyDescriptor(s,n);if(!i)return e;if(!i.configurable)return et.warn(`Cannot intercept read only property '${csString(n)}' of object '${s}'`),null;s[t]=e;let r=`${csString(n)}-setter`;return Object.defineProperty(s,n,{set(){var o;let c=this[n],l=arguments;return Vs(()=>{e.forEach(h=>h(this,l[0],c,"property"))},[Ce.MonkeyPatch,r]),(o=i.set)===null||o===void 0?void 0:o.apply(this,l)}}),e}function zn(s,n,t){let e=Iy(s,n);if(!e)return null;let i=(r,o,c)=>t(r,o,c,"property");return{activate:()=>{e.add(i)},deactivate:()=>{e.delete(i)}}}function Py(s,n){s.prototype=n.prototype,Object.defineProperty(s,"toString",{value:()=>n.toString()})}var en=(()=>{class s{constructor(){this.set=new Set}add(t){this.set.add(t),this.set.size===1&&csSetTimeout(()=>{this.set.clear()})}has(t){return this.set.has(t)}del(t){this.set.delete(t)}clear(){this.set.clear()}values(){return $e(this.set)}get count(){return this.set.size}}return s})(),Oy=(()=>{class s extends en{constructor(t="high"){super(),this.Mv=t}add(t){this.set.add(t),this.set.size===1&&$t(()=>{this.set.clear()},this.Mv)}}return s})();function Zn(s,n=!1){let t=new en;return{push(e){t.count===0&&(n?$t:csSetTimeout)(()=>{s(t.values()),t.clear()}),t.add(e)}}}var Ue=csSymbol(),Zo=(()=>{class s{constructor(t){var e,i,r,o,c,l,h,f,u,m,y,S,O;this.A=t,this.Pl=null,this.Ol=null,this.Nl=null,this.Ml=null,this.Dl=null,this.Dv=Zn(D=>this.processUpdateRulesInATick(D)),this.kl=null,this.xl=null,this.Ll=null,this.A=D=>$t(()=>t(D)),typeof((i=(e=window.CSSStyleSheet)===null||e===void 0?void 0:e.prototype)===null||i===void 0?void 0:i.insertRule)=="function"&&(this.Pl=Zt({target:window.CSSStyleSheet.prototype,methodName:"insertRule",hook:({context:D,args:v})=>{this.processInsertRule(D,v)}})),typeof((o=(r=window.CSSStyleSheet)===null||r===void 0?void 0:r.prototype)===null||o===void 0?void 0:o.deleteRule)=="function"&&(this.Ol=Zt({target:window.CSSStyleSheet.prototype,methodName:"deleteRule",hook:({context:D,args:v})=>{this.processDeleteRule(D,v)}})),typeof((l=(c=window.CSSGroupingRule)===null||c===void 0?void 0:c.prototype)===null||l===void 0?void 0:l.insertRule)=="function"&&(this.Nl=Zt({target:window.CSSGroupingRule.prototype,methodName:"insertRule",hook:({context:D})=>this.processUpdateRule(D)})),typeof((f=(h=window.CSSGroupingRule)===null||h===void 0?void 0:h.prototype)===null||f===void 0?void 0:f.deleteRule)=="function"&&(this.Ml=Zt({target:window.CSSGroupingRule.prototype,methodName:"deleteRule",hook:({context:D})=>this.processUpdateRule(D)})),!((u=window.StyleSheet)===null||u===void 0)&&u.prototype&&"disabled"in window.StyleSheet.prototype&&(this.Dl=zn(window.StyleSheet.prototype,"disabled",(D,v,_)=>{v!==_&&this.kv(D,v)})),typeof((y=(m=window.CSSStyleDeclaration)===null||m===void 0?void 0:m.prototype)===null||y===void 0?void 0:y.setProperty)=="function"&&(this.kl=Zt({target:window.CSSStyleDeclaration.prototype,methodName:"setProperty",hook:({context:D})=>{let v=D.parentRule;v instanceof CSSStyleRule&&this.processUpdateRule(v)}})),typeof((O=(S=window.CSSStyleDeclaration)===null||S===void 0?void 0:S.prototype)===null||O===void 0?void 0:O.removeProperty)=="function"&&(this.xl=Zt({target:window.CSSStyleDeclaration.prototype,methodName:"removeProperty",hook:({context:D})=>{let v=D.parentRule;v instanceof CSSStyleRule&&this.processUpdateRule(v)}})),Object.getOwnPropertyDescriptor(window.CSSStyleRule.prototype,"style")&&(this.Ll=Ay(window.CSSStyleRule.prototype,"style",D=>{this.processUpdateRule(D)}))}observe(){var t,e,i,r,o,c,l,h;(t=this.Pl)===null||t===void 0||t.activate(),(e=this.Ol)===null||e===void 0||e.activate(),(i=this.Nl)===null||i===void 0||i.activate(),(r=this.Ml)===null||r===void 0||r.activate(),(o=this.Dl)===null||o===void 0||o.activate(),(c=this.kl)===null||c===void 0||c.activate(),(l=this.xl)===null||l===void 0||l.activate(),(h=this.Ll)===null||h===void 0||h.activate()}disconnect(){var t,e,i,r,o,c,l,h;(t=this.Pl)===null||t===void 0||t.deactivate(),(e=this.Ol)===null||e===void 0||e.deactivate(),(i=this.Nl)===null||i===void 0||i.deactivate(),(r=this.Ml)===null||r===void 0||r.deactivate(),(o=this.Dl)===null||o===void 0||o.deactivate(),(c=this.kl)===null||c===void 0||c.deactivate(),(l=this.xl)===null||l===void 0||l.deactivate(),(h=this.Ll)===null||h===void 0||h.deactivate()}processInsertRule(t,[e,i]){if(t[Ue]==null&&!t.ownerNode)return;let r={type:"cssRuleInserted",sheet:t,rule:e,index:i};this.A(r)}processUpdateRule(t){let e=t;for(;e.parentRule!==null;)e=e.parentRule;e.parentStyleSheet!==null&&this.Dv.push(e)}processUpdateRulesInATick(t){for(let e of t){if(e.parentStyleSheet===null)return;let i=e.parentStyleSheet,r=csArray.prototype.indexOf.call(ri(i.cssRules),e);if(r===-1)return;let o={type:"cssRuleUpdated",sheet:i,rule:e.cssText,index:r};this.A(o)}}processDeleteRule(t,[e]){if(t[Ue]==null&&!t.ownerNode)return;let i={type:"cssRuleDeleted",sheet:t,index:e};this.A(i)}kv(t,e){if(t[Ue]==null&&!t.ownerNode)return;let i={type:"cssStyleSheetDisabled",sheet:t,disabled:e};this.A(i)}}return st([N()],s.prototype,"observe",null),st([N()],s.prototype,"disconnect",null),st([N()],s.prototype,"processInsertRule",null),st([N()],s.prototype,"processUpdateRule",null),st([N()],s.prototype,"processUpdateRulesInATick",null),st([N()],s.prototype,"processDeleteRule",null),s})(),pi=(()=>{var s;class n{static xv(e){this.Qs.forEach(i=>{e(i,"initial")})}static br(e){if(this.L||(this.L=new csMutationObserver(i=>{for(let r of i)r.target.isConnected&&X(r.addedNodes,this.Lv),X(r.removedNodes,this.Uv)})),csArray.prototype.push.call(this.Ce,e),!this.Y){this.Y=!0,this.L.observe(document,this.Tr);for(let i of Ps.getAllShadowHosts(document)){let r=csElementshadowRoot.apply(i);this.Qs.add(r),this.L.observe(r,this.Tr)}this.Ul||(this.Ul=Zt({target:Element.prototype,methodName:"attachShadow",hook:i=>this.bn(i.result)&&this.Vf(i.result)})),this.Ul.activate()}this.xv(e)}static bn(e){return e.isConnected&&e.ownerDocument===document}static Ar(e){var i,r;this.Ce=csArray.prototype.filter.call(this.Ce,o=>o!==e),this.Ce.length===0&&(this.Ce=[],this.Y=!1,(i=this.L)===null||i===void 0||i.disconnect(),(r=this.Ul)===null||r===void 0||r.deactivate(),this.Qs.clear())}constructor(e){this.A=e,this.A=ms("DocumentShadowRootObserver:callback",(i,r)=>e(i,r))}get shadowRoots(){return $e(s.Qs)}takeRecords(){var e,i;return(i=(e=s.L)===null||e===void 0?void 0:e.takeRecords())!==null&&i!==void 0?i:[]}observe(){Ps.isSupported()&&s.br(this.A)}disconnect(){Ps.isSupported()&&s.Ar(this.A)}}return s=n,n.Ce=[],n.Qs=new Set,n.Y=!1,n.Tr={childList:!0,subtree:!0},n.Vf=t=>{s.Qs.has(t)||(s.L.observe(t,s.Tr),s.Qs.add(t),X(s.Ce,e=>e(t,"added")))},n.Lv=t=>{Xt(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll(s.Vf)},n.Uv=t=>{t.isConnected||Xt(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll(e=>{s.Qs.has(e)&&(s.Qs.delete(e),X(s.Ce,i=>i(e,"removed")))})},st([N()],n.prototype,"observe",null),st([N()],n.prototype,"disconnect",null),n})(),Ny=(()=>{class s{constructor(t){this.jv=1,this.ma=new Set,this.Vl=null,this.jl=null,this.Hl=(e,i)=>{(i==="initial"||i==="added")&&this.setStyleSheets(e,e.adoptedStyleSheets)},this.Hv=e=>{let i=e.sheet;if(this.ma.has(i)){if(e.type==="cssRuleInserted"){let r={type:"adoptedStyleSheetRuleInserted",sheetId:i[Ue],rule:e.rule,index:e.index};this.A(r)}else if(e.type==="cssRuleDeleted"){let r={type:"adoptedStyleSheetRuleDeleted",sheetId:i[Ue],index:e.index};this.A(r)}else if(e.type==="cssRuleUpdated"){let r={type:"adoptedStyleSheetRuleUpdated",sheetId:i[Ue],rule:e.rule,index:e.index};this.A(r)}else if(e.type==="cssStyleSheetDisabled"){let r={type:"adoptedStyleSheetDisabled",sheetId:i[Ue],disabled:e.disabled};this.A(r)}}},this.A=e=>$t(async()=>{await ul(2),t(e)}),this.ge=new pi(this.Hl),"adoptedStyleSheets"in Document.prototype&&(this.Vl=zn(window.Document.prototype,"adoptedStyleSheets",(e,i)=>{this.setStyleSheets(e,i)})),"ShadowRoot"in window&&"adoptedStyleSheets"in window.ShadowRoot.prototype&&(this.jl=zn(window.ShadowRoot.prototype,"adoptedStyleSheets",(e,i)=>{this.setStyleSheets(e,i)})),this.jf=new Zo(this.Hv)}observe(){var t,e;this.setStyleSheets(document,document.adoptedStyleSheets),this.ge.observe(),(t=this.Vl)===null||t===void 0||t.activate(),(e=this.jl)===null||e===void 0||e.activate(),this.jf.observe()}disconnect(){var t,e;this.ma.clear(),this.ge.disconnect(),(t=this.Vl)===null||t===void 0||t.deactivate(),(e=this.jl)===null||e===void 0||e.deactivate(),this.jf.disconnect()}setStyleSheets(t,e){if(!e.length)return;this.Bv(e);let i=He(e,o=>o[Ue]),r={type:"adoptedStyleSheetsSet",target:t,sheetsIds:i};this.A(r)}Bv(t){X(t,e=>{if(this.ma.has(e))return;let i=this.jv++;e[Ue]=i,this.ma.add(e);let r=this.Fv(e),o={type:"adoptedStyleSheetRegistered",sheetId:i,cssRules:r,disabled:e==null?void 0:e.disabled};this.A(o)})}Fv(t){let e=[];try{e=He(t.cssRules,i=>i.cssText)}catch{}return e}}return st([N()],s.prototype,"observe",null),st([N()],s.prototype,"disconnect",null),st([N()],s.prototype,"setStyleSheets",null),s})(),My=js(Ly,"optimizeMutations"),Dy=csSymbol.for("ignoreNextSerialization");function ky(){let s=new Set,n=new Set,t=new Set,e=new Set,i=new Map,r=new Map,o=new Map,c=new Set,l=new Set,h=new Map,f=new Set;return{isMovedNode(u){return s.has(u)},markAsMovedNode(u){f.delete(u),s.add(u)},isDetachedMove(u){return!!Z.findAncestor(u,m=>f.has(m),!0)},isAddedNode(u){let m=Z.findAncestor(u,y=>n.has(y)||l.has(y)||s.has(y),!0);return!!m&&!s.has(m)},isMovedNodeIntoAddedNode(u){return s.has(u)&&!!Z.findAncestor(u,m=>n.has(m)||l.has(m),!0)},markAsAddedNode(u){f.delete(u),l.delete(u),n.add(u)},markAsPendingInsert(u){l.add(u)},isPendingInsert(u){return l.has(u)},isRemovedNode(u){return!!Z.findAncestor(u,m=>t.has(m),!0)},markAsRemovedNode(u){t.add(u)},isUselessNode(u){return e.has(u)},markAsUselessNode(u){e.add(u)},getPlaceholder(u,m){let y=m==="previous"?r:i;return u&&y.has(u)?y.get(u)||null:u},getSiblings(u){let m=u.addedNodes.length,y=this.getPlaceholder(u.previousSibling,"previous"),S=this.getPlaceholder(u.nextSibling,"next");if(m){let O=y,D=S,v=u.previousSibling!==y,_=u.nextSibling!==S;for(let I=0;I<m;I++){let M=u.addedNodes[I],T=u.addedNodes[m-I-1];this.isLatestNodeMutation(M,u)?(r.delete(M),u.previousSibling&&v&&(i.set(u.previousSibling,M),v=!1),O=M):r.set(M,O),this.isLatestNodeMutation(T,u)?(i.delete(T),u.nextSibling&&_&&(r.set(u.nextSibling,T),_=!1),D=T):i.set(T,D)}}else u.previousSibling&&u.previousSibling!==y&&i.set(u.previousSibling,S),u.nextSibling&&u.nextSibling!==S&&r.set(u.nextSibling,y);return{previousSibling:y,nextSibling:S}},setAttributeMutation(u,m){let y=o.get(u)||new Set;y.add(m),o.set(u,y)},isAttributeMutated(u,m){var y;return!!(!((y=o.get(u))===null||y===void 0)&&y.has(m))},setLatestNodeMutation(u,m){h.set(u,m)},isLatestNodeMutation(u,m){return h.get(u)===m},markAsFutureAddedNode(u){h.has(u)||f.add(u)},isTextMutated(u){return c.has(u)},setTextMutated(u){return c.add(u)}}}function xy(s,n){for(let t=0;t<s.addedNodes.length;t++){let e=s.addedNodes[t];n.markAsFutureAddedNode(e),n.setLatestNodeMutation(e,s)}for(let t=0;t<s.removedNodes.length;t++){let e=s.removedNodes[t];n.setLatestNodeMutation(e,s)}}function Ly(s){let n=ky(),t=[];for(let e of s)e.type==="childList"&&xy(e,n);for(let e of s)switch(e.type){case"attributes":Vy(e,n,t);break;case"characterData":Uy(e,n,t);break;case"childList":By(e,n,t);break}return t}function Uy(s,n,t=[]){let e=s.target;return Z.isConnected(e)&&!n.isTextMutated(e)&&!n.isAddedNode(e)&&!Hy(e,"characterData")&&(n.setTextMutated(e),csArray.prototype.push.call(t,s)),t}function Vy(s,n,t=[]){let e=s.target,i=`${s.attributeNamespace}/${s.attributeName}`;return Z.isConnected(e)&&!n.isAttributeMutated(e,i)&&!n.isAddedNode(e)&&(n.setAttributeMutation(e,i),csArray.prototype.push.call(t,s)),t}var jy=30;function Hy(s,n,t){let e=csSymbol.for(t?`${n}:${t}`:n),i=C.now(),r=s[e];return r&&i<r?!0:(s[e]=i+jy,!1)}function By(s,n,t=[]){let e=Z.isConnected(s.target),i=!e&&n.isRemovedNode(s.target),r=e&&n.isAddedNode(s.target),o=n.getSiblings(s),c=o.nextSibling,l=o.previousSibling,h=null,f=()=>{if(h){let{childListType:y,movedNodes:S,...O}=h;csArray.prototype.push.call(t,y==="added"?O:{...O,movedNodes:S}),h=null}},u=y=>y===(h==null?void 0:h.childListType)?h:(f(),{childListType:y,type:"childList",target:s.target,addedNodes:[],removedNodes:[],movedNodes:[],previousSibling:l,nextSibling:c});if(e){for(let y=0;y<s.addedNodes.length;y++){let S=s.addedNodes[y];n.isLatestNodeMutation(S,s)?(n.isMovedNode(S)?(h=u("moved"),csArray.prototype.push.call(h.movedNodes,S)):(n.markAsAddedNode(S),r||(h=u("added"),csArray.prototype.push.call(h.addedNodes,S))),l=S):Z.isConnected(S)?n.isMovedNode(S)||n.markAsPendingInsert(S):n.markAsUselessNode(S)}f()}let m=Hi(s.removedNodes,y=>{if(Z.isConnected(y)){if(!i&&!n.isPendingInsert(y)){if(n.isDetachedMove(y))return!0;n.markAsMovedNode(y),n.isMovedNodeIntoAddedNode(y)&&(y[Dy]=!0)}return!1}return n.isUselessNode(y)?!1:(n.markAsRemovedNode(y),!0)});return m.length&&csArray.prototype.push.call(t,{type:"childList",removedNodes:m,addedNodes:[],movedNodes:[],target:s.target,nextSibling:c,previousSibling:l}),t}var mc={childList:!0,subtree:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,attributeOldValue:!0},ye=(()=>{var s;class n{static setShadowRootFilter(e){csArray.prototype.push.call(s.shadowRootFilters,e)}static Bl(e){if(s.shadowRootFilters.length>0&&Bi(e))for(let i=0;i<s.shadowRootFilters.length;i++){let r=s.shadowRootFilters[i];if(r(e))return}this.observedTargets.add(e),this.mutationObserver.observe(e,mc)}static disconnectShadowRoot(e){this.observedTargets.has(e)&&(this.observedTargets.delete(e),this.isRefreshing||(this.isRefreshing=!0,$t(()=>{this.isRefreshing=!1;let i=this.mutationObserver.takeRecords();i.length&&s.mutationCallback(i),this.mutationObserver.disconnect(),this.observedTargets.forEach(r=>{this.mutationObserver.observe(r,mc)})})))}static observe(e,i){csArray.prototype.push.call(this.callbacks,e),i&&csArray.prototype.push.call(this.shadowRootCallbacks,i),this.started?i&&csArray.prototype.forEach.call(Ps.getAllShadowHosts(document),r=>i(csElementshadowRoot.apply(r),"initial")):(this.mutationObserver=new csMutationObserver(this.mutationCallback),this.Bl(document),this.shadowRootObserver=new pi(this.onShadowRoot),this.shadowRootObserver.observe(),this.started=!0,X(this.shadowRootObserver.shadowRoots,r=>{this.Bl(r)}))}static disconnect(e,i){var r,o;this.callbacks=csArray.prototype.filter.call(this.callbacks,c=>c!==e),i&&(this.shadowRootCallbacks=csArray.prototype.filter.call(this.shadowRootCallbacks,c=>c!==i)),this.callbacks.length===0&&(this.callbacks=[],this.shadowRootCallbacks=[],s.shadowRootFilters=[],(r=this.shadowRootObserver)===null||r===void 0||r.disconnect(),(o=this.mutationObserver)===null||o===void 0||o.disconnect(),this.observedTargets.clear(),this.started=!1)}constructor(e,i){this.A=e,this.Hf=i;let r=Zn(o=>e(o,this),!0);this.A=ms("DocumentMutationObserver:callback",o=>{X(o,c=>r.push(c))})}get shadowRoots(){var e,i;return(i=(e=s.shadowRootObserver)===null||e===void 0?void 0:e.shadowRoots)!==null&&i!==void 0?i:[]}takeRecords(){var e;let i=(e=s.mutationObserver)===null||e===void 0?void 0:e.takeRecords(),r=s.shadowRootObserver.takeRecords();return i!=null&&i.length&&r.length?Cd(i,r):i!=null?i:r}observe(){s.observe(this.A,this.Hf)}disconnect(){s.disconnect(this.A,this.Hf)}}return s=n,n.callbacks=[],n.shadowRootCallbacks=[],n.started=!1,n.observedTargets=new Set,n.shadowRootFilters=[],n.mutationCallback=t=>{wt.mutations.count.increase(t.length),csArray.prototype.forEach.call(s.callbacks,e=>e(t,s.mutationObserver))},n.onShadowRoot=(t,e)=>{X(s.shadowRootCallbacks,i=>i(t,e)),e!=="removed"?s.Bl(t):s.disconnectShadowRoot(t)},n.isRefreshing=!1,st([N()],n.prototype,"observe",null),st([N()],n.prototype,"disconnect",null),n})(),Fy=(()=>{class s{constructor(t){this.A=t,this.Fl=!1,this.$v=e=>{e.sheet.ownerNode&&(e.type==="cssRuleInserted"?this.A({type:e.type,target:e.sheet.ownerNode,rule:e.rule,index:e.index}):e.type==="cssRuleDeleted"?this.A({type:e.type,target:e.sheet.ownerNode,index:e.index}):e.type==="cssRuleUpdated"?this.A({type:e.type,target:e.sheet.ownerNode,rule:e.rule,index:e.index}):e.type==="cssStyleSheetDisabled"&&this.A({type:e.type,target:e.sheet.ownerNode,disabled:e.disabled}))},this.A=e=>$t(()=>t(e)),this.Bf=new Zo(e=>$t(async()=>{await ul(),this.$v(e)})),"adoptedStyleSheets"in Document.prototype&&(this.Ff=new Ny(t))}observe(){var t;this.Fl=!1,this.L=new ye(e=>this.zv(e),(e,i)=>{i==="added"&&this.Gv(e)}),this.L.observe(),this.Bf.observe(),(t=this.Ff)===null||t===void 0||t.observe()}disconnect(){var t,e;(t=this.L)===null||t===void 0||t.disconnect(),this.Bf.disconnect(),(e=this.Ff)===null||e===void 0||e.disconnect(),this.Fl=!0}zv(t){if(this.Fl)return;let e=My(t);for(let i=0;i<e.length;i++){let r=e[i];if(!r){et.error("processRawMutations: empty record");continue}switch(r.type){case"attributes":this.processAttributeChanged(r);break;case"characterData":this.processCharacterDataChanged(r);break;case"childList":this.processChildListChanged(r);break;default:et.error(`processRawMutations: unknown record type '${r.type}'`);break}}}processAttributeChanged(t){let e={type:"attributeChanged",target:t.target,attribute:t.attributeName,namespace:t.attributeNamespace,oldValue:t.oldValue,newValue:Z.getAttributeNS(t.target,t.attributeNamespace,t.attributeName)};this.A(e)}processCharacterDataChanged(t){let e={type:"characterDataChanged",target:t.target,oldValue:t.oldValue,newValue:t.target.data};this.A(e)}processChildListChanged(t){var e,i,r;if(!((e=t.movedNodes)===null||e===void 0)&&e.length){let o={type:"nodesMoved",target:t.target,nodes:t.movedNodes,previousSibling:t.previousSibling,nextSibling:t.nextSibling};this.A(o)}if(!((i=t.addedNodes)===null||i===void 0)&&i.length){let o={type:"nodesAdded",target:t.target,previousSibling:t.previousSibling,nextSibling:t.nextSibling,nodes:ri(t.addedNodes)};this.A(o)}if(!((r=t.removedNodes)===null||r===void 0)&&r.length){let o={type:"nodesRemoved",target:t.target,nodes:He(t.removedNodes,c=>c)};this.A(o)}}Gv(t){let e={type:"shadowRootAttached",target:t.host,shadowRoot:t};this.A(e)}}return st([N()],s.prototype,"processAttributeChanged",null),st([N()],s.prototype,"processCharacterDataChanged",null),st([N()],s.prototype,"processChildListChanged",null),s})(),$y=(()=>{class s extends Hs{constructor(t){super(t),this.nodeType=4,this.data=t.data}}return s})(),zy=(()=>{class s extends Hs{constructor(t){super(t),this.nodeType=8,this.data=t.data}}return s})(),Gy=(()=>{class s extends Hs{constructor(t){super(t),this.nodeType=10,this.name=t.name,this.publicId=t.publicId,this.systemId=t.systemId}}return s})(),qy=(()=>{class s extends Hs{constructor(t){super(t),this.nodeType=9,this.baseURI=s.getBaseURI(t),this.children=[]}static getBaseURI(t){let e=t.baseURI;if(e==null){let i=t.getElementsByTagName("base");e=i.length!==0?i[0].href:t.URL}return e}}return s})(),Wy=(()=>{class s extends Hs{constructor(t){super(t),this.nodeType=11,this.mode=t.mode,this.children=[]}}return s})(),Yy=(()=>{class s{constructor(t,e,i){var r;typeof t=="string"?(this.name=t,this.value=e,this.namespaceURI=i!=null?i:""):(this.name=t.name,this.value=t.value,this.namespaceURI=(r=t.namespaceURI)!==null&&r!==void 0?r:"")}static create(t){let e=t.attributes,i=new csArray(e.length);for(let r=0;r<i.length;r++){let o=e[r];i[r]=new s(o.name,o.value,o.namespaceURI),o.name==="href"&&Do(t)&&(i[r].value=eh(t))}return i}}return s})(),yc={workTime:40,async:!0,initialDOM:!0};var ki=csSymbol("InitialDom"),Ec=csSymbol.for("ignoreNextSerialization");function rh(s){return s[Ec]?(delete s[Ec],!0):!1}function Xy(s=yc){return function(t,e){var i;(i=s.workTime)!==null&&i!==void 0||(s.workTime=yc.workTime);let r=ms("serialize:callback",m=>e(m)),o=new Wi,c=(m,y)=>{m.hasChildNodes()&&o.push({node:m,serializedNode:y});let S=m instanceof Element&&csElementshadowRoot.apply(m);if(S){let O=y.shadowRoot=xi(S);s.async&&s.initialDOM&&at.setProperty(S,ki,!0),c(S,O)}},l,h=!0,f=8,u=ms("work",()=>{var m;if(h)l=xi(t),s.async&&s.initialDOM&&at.setProperty(t,ki,!0),c(t,l),h=!1;else if(o.isEmpty)return;let y=Qy(100);for(;!o.isEmpty;){if(s.async&&y.elapsed()>=s.workTime){--f<=0&&csSetTimeout(u);return}let{node:S,serializedNode:O}=o.pop(),D=(m=O.children)!==null&&m!==void 0?m:[];if(Ki(S))continue;let v=0;for(let _=csNodefirstChild.apply(S);_;_=csNodenextSibling.apply(_)){if(rh(_))continue;let I=xi(_);s.async&&s.initialDOM&&at.setProperty(_,ki,!0),D[v++]=I,c(_,I)}}s.async?csSetTimeout(()=>r(l)):e(l)});if(!s.async)s.workTime=1/0,u();else for(let m=0;m<f;m++)csSetTimeout(u,1)}}function Ky(s){let n=xi(s),t=n;if(Ki(s))return n;let e=0;for(let r=csNodefirstChild.apply(s);r;r=csNodenextSibling.apply(r))rh(r)||(t.children[e++]=ao(r));let i=s.shadowRoot;return i&&(t.shadowRoot=ao(i)),n}var ao=js(Ky,"serializeSync");function xi(s){let n,t;switch(csNodenodeType.apply(s)){case 1:t=n=new je(s),n.attributes=Zy(s);break;case 3:t=new ih(s);break;case 4:t=new $y(s);break;case 8:t=new zy(s);break;case 10:t=new Gy(s);break;case 9:t=new qy(s);break;case 11:t=new Wy(s);break;default:throw new Error("Node type not supported: "+csNodenodeType.apply(s))}return t}function Jy(){ki=csSymbol("InitialDom")}function Qy(s){if(s<1)throw new Error("Precision should be >= 1");let n=0,t=C.elapsed();return{started:t,elapsed(){return++n%s===0&&(t=C.elapsed()),t-this.started}}}function Zy(s){return Ki(s)?[]:Yy.create(s)}var ta=(()=>{class s{constructor(t){this.type="asyncEvent",this.$l=!1,t&&t(e=>this.resolve(e))}resolve(t){if(this.$l)throw new Error("AsyncEvent already resolve.");t.timestamp==null&&(t={...t,timestamp:this.timestamp}),this.Zs=t,this.$l=!0,this.A&&this.A(this.Zs)}complete(t){this.$l&&t(this.Zs),this.A=t}wait(){return new Promise(t=>this.complete(t))}}return s})(),Ee=(()=>{class s{constructor(){this.Ct=[],this.isStarted=!1}async produceEvent(t){var e;this.isStarted&&(t.timestamp=(e=t.timestamp)!==null&&e!==void 0?e:C.now(),t.timestamp==null&&(t.timestamp=C.now()),csArray.prototype.forEach.call(this.Ct,i=>i(t)))}onStop(){}start(){this.isStarted||(this.isStarted=!0,this.onStart())}stop(){this.isStarted&&(this.isStarted=!1,this.onStop(),this.Ct=[])}stopForInactivity(){this.isStarted&&(this.isStarted=!1,this.onStop())}subscribe(t){return csArray.prototype.push.call(this.Ct,t),()=>{let e=csArray.prototype.indexOf.call(this.Ct,t);csArray.prototype.splice.call(this.Ct,e,1)}}}return s})(),tE=Xy(),eE=(()=>{class s extends Ee{constructor(){super(...arguments),this.ya=!1}onStart(){this.ya=!0,this.A=Ey(this.qv,this),this.z=new Fy(this.A),this.z.observe();let t=wt.mutations.initialDOM.asyncMeasure(),e=()=>{this.ya=!1,Jy(),t()};this.produceEvent(new ta(i=>tE(document,r=>{e(),i({type:"DomEvent",domEvent:"initialDOM",initialDOM:r})})))}onStop(){var t,e;this.ya=!1,(t=this.A)===null||t===void 0||t.cancel(),(e=this.z)===null||e===void 0||e.disconnect()}Wt(t,e){let i={type:"DomEvent",domEvent:e.type,target:0,targetProps:{}};return"target"in e&&(i.target=q(e.target),i.targetProps=at.getProperties(e.target)),[e,i]}qv(t){if(!this.Wv(t))switch(t.type){case"attributeChanged":{let[e,i]=this.Wt(t.type,t);i.attribute=e.attribute,i.isSvg=fi(e.target),i.namespace=e.namespace,i.newValue=e.newValue,i.oldValue=e.oldValue,i.localName=Pi(e.target),i.linkRel=gl(e.target)?e.target.rel:null,i.parentLocalName=e.target.parentElement?Pi(e.target.parentElement):void 0,i.localName==="input"&&(i.inputType=e.target.getAttribute("type")),this.produceEvent(i)}break;case"characterDataChanged":{let[e,i]=this.Wt(t.type,t);i.newValue=e.newValue,i.oldValue=e.oldValue,i.targetNodeType=csNodenodeType.apply(e.target),i.parentLocalName=e.target.parentElement?Pi(e.target.parentElement):null,i.parentProps=e.target.parentElement?at.getProperties(e.target.parentElement):void 0,this.produceEvent(i)}break;case"nodesAdded":{let[e,i]=this.Wt(t.type,t);i.targetLocalName=ft(e.target)?Pi(e.target):null,i.nextSibling=e.nextSibling?q(e.nextSibling):null,i.previousSibling=e.previousSibling?q(e.previousSibling):null,wt.mutations.serializedMutations.measure(()=>{i.nodes=He(e.nodes,ao)}),this.produceEvent(i);break}case"nodesMoved":{let[e,i]=this.Wt(t.type,t);i.previousSibling=e.previousSibling?q(e.previousSibling):null,i.nextSibling=e.nextSibling?q(e.nextSibling):null,i.nodesIds=He(e.nodes,q),this.produceEvent(i);break}case"nodesRemoved":{let[e,i]=this.Wt(t.type,t);i.nodesIds=He(e.nodes,q),this.produceEvent(i);break}case"shadowRootAttached":{let[e,i]=this.Wt(t.type,t);i.shadowRoot=xi(e.shadowRoot),this.produceEvent(i);break}case"cssRuleInserted":{let[e,i]=this.Wt(t.type,t);i.index=e.index,i.rule=e.rule,this.produceEvent(i);break}case"cssRuleDeleted":{let[e,i]=this.Wt(t.type,t);i.index=e.index,this.produceEvent(i);break}case"cssRuleUpdated":{let[e,i]=this.Wt(t.type,t);i.rule=e.rule,i.index=e.index,this.produceEvent(i);break}case"cssStyleSheetDisabled":{let[e,i]=this.Wt(t.type,t);i.disabled=e.disabled,this.produceEvent(i);break}case"adoptedStyleSheetRegistered":{let[e,i]=this.Wt(t.type,t);i.sheetId=e.sheetId,i.cssRules=e.cssRules,i.disabled=e.disabled,this.produceEvent(i);break}case"adoptedStyleSheetsSet":{let[e,i]=this.Wt(t.type,t);i.sheetsIds=e.sheetsIds,this.produceEvent(i);break}case"adoptedStyleSheetRuleInserted":{let[e,i]=this.Wt(t.type,t);i.sheetId=e.sheetId,i.rule=e.rule,i.index=e.index,this.produceEvent(i);break}case"adoptedStyleSheetRuleDeleted":{let[e,i]=this.Wt(t.type,t);i.sheetId=e.sheetId,i.index=e.index,this.produceEvent(i);break}case"adoptedStyleSheetRuleUpdated":{let[e,i]=this.Wt(t.type,t);i.sheetId=e.sheetId,i.rule=e.rule,i.index=e.index,this.produceEvent(i);break}case"adoptedStyleSheetDisabled":{let[e,i]=this.Wt(t.type,t);i.sheetId=e.sheetId,i.disabled=e.disabled,this.produceEvent(i);break}}}Ea(t){return this.ya&&!at.getProperty(t,ki)}Wv(t){switch(t.type){case"nodesAdded":case"nodesMoved":case"nodesRemoved":case"shadowRootAttached":return this.Ea(t.target)||k.isMaskedElement(t.target)||k.isMaskedElementChild(t.target);case"characterDataChanged":{let e=t.target.parentElement;return e!==null&&(this.Ea(e)||k.isMaskedElement(e)||k.isMaskedElementChild(e))}case"attributeChanged":return this.Ea(t.target)||k.isMaskedElementChild(t.target)||k.isMaskedAttribute(t.target,t.attribute);case"cssRuleInserted":case"cssRuleDeleted":case"cssRuleUpdated":case"cssStyleSheetDisabled":return this.Ea(t.target)||k.isMaskedElementChild(t.target);default:return!1}}}return s})(),ui=(()=>{let s;return function(n){function t(e){return e.type==="DomEvent"}n.isDOMEvent=t}(s||(s={})),s})(),gi=(()=>{class s{constructor(){this.Ct=[]}start(){}stop(){this.Ct.length=0,this.Ct=[]}pushEvent(t){if(s.pendingEvents++,this.isListening(t)){let e=this.Ct;csSetTimeout(()=>{let r=ms("Processor:processEvent",o=>this.processEvent(o))(t);r!=null&&csArray.prototype.forEach.call(e,o=>o(r)),s.pendingEvents--})}else csSetTimeout(()=>{csArray.prototype.forEach.call(this.Ct,e=>e(t))})}subscribe(t){return csArray.prototype.push.call(this.Ct,t),()=>{this.Ct=csArray.prototype.filter.call(this.Ct,e=>e!==t)}}emitEvent(t){$t(()=>csArray.prototype.forEach.call(this.Ct,e=>e(t)))}}return s.pendingEvents=0,s})(),sE=(()=>{class s extends gi{isListening(t){return t.type==="DOM_PATCH"||t.type==="DOM_INITIAL_STATE"||ui.isDOMEvent(t)&&(t.domEvent==="initialDOM"||t.domEvent==="nodesAdded")}processEvent(t){if(t.type==="DOM_PATCH"||t.type==="DOM_INITIAL_STATE")return this.zl(t),t;let e=0,i=t.domEvent==="initialDOM"?[t.initialDOM]:t.nodes;for(let r of i){if(r instanceof je){let c=k.getMaskedAttributeDetails(r);r.attributes=this.Sa(r,c)}if(k.getMaskedElementDetails(r).state===k.MaskedElementState.Child){if(t.domEvent==="initialDOM")return null;t.nodes=csArray.prototype.filter.call(t.nodes,c=>c!==r);continue}at.traverse(r,c=>{if(c instanceof je){let l=k.getMaskedAttributeDetails(c);c.attributes=this.Sa(c,l);let h=k.getMaskedElementDetails(c);h.state===k.MaskedElementState.Parent&&(this.va(c,h),e++)}})}return e>0&&F.counters.sensitiveElements.count("masked-elements",e),t}zl(t){let{MaskedElementState:e}=k,i=t.type==="DOM_PATCH"?t.diff:t.state,r=t.state;for(let o in i){let c=i[o],l=r[o],h=k.getMaskedElementDetails(l);if(h.state===e.Child){delete i[o];continue}else if(l.type!==1)continue;let f=k.getMaskedAttributeDetails(l);for(let u of f.attributes)c.attributes&&delete c.attributes[u];h.state===e.Parent&&this.va(c,h)}}Sa(t,e){return e.attributes.length===0?t.attributes:csArray.prototype.filter.call(t.attributes,i=>csArray.prototype.indexOf.call(e.attributes,i.name)===-1)}va(t,e){var i;let r=`width: ${e.width}px !important; height: ${e.height}px !important;`;"nodeType"in t?(t.children=[],t.shadowRoot=void 0,csArray.prototype.push.call(t.attributes,{name:"style",value:r,namespaceURI:""}),je.getAttribute(t,"data-cs-mask")||csArray.prototype.push.call(t.attributes,{name:"data-cs-mask",value:"",namespaceURI:""})):((i=t.attributes)!==null&&i!==void 0||(t.attributes={}),delete t.firstChild,delete t.shadowRoot,t.attributes.style=r,t.attributes["data-cs-mask"]||(t.attributes["data-cs-mask"]=""))}}return ge([Nt("MaskedElementProcessor.processEvent")],s.prototype,"processEvent",null),s})(),de=(()=>{let s;return function(n){n.ANONYMIZED_TEXT_STATUS_PROP="anonymizationStatus",n.WHITELISTED_STATUS="whitelisted";function t(r){return at.getProperty(r,n.ANONYMIZED_TEXT_STATUS_PROP)===n.WHITELISTED_STATUS}n.isWhitelistedElement=t;function e(r){at.setProperty(r,n.ANONYMIZED_TEXT_STATUS_PROP,n.WHITELISTED_STATUS)}n.whitelistElement=e;function i(r){at.setProperty(r,n.ANONYMIZED_TEXT_STATUS_PROP,void 0)}n.removeWhitelistElement=i}(s||(s={})),s})(),iE=/[\u4E00-\u9FFF]|[\u3000-\u303F]|[\u3040-\u309F]|[\u30A0-\u30FF]|[\uFF00-\uFFEF]/g,nE="\uFF41",rE=/[^\s]/g,oE="a";function Cr(s){let n=csString.prototype.replace.call(s,iE,nE);return csString.prototype.replace.call(n,rE,oE)}var aE=(()=>{class s{constructor(t,e,i,r=null,o=!1){this.cs=t,this.Rr=e,this.M=i,this.wa=r,this.Yv=o,this.Cr=Uo(this.Rr)}sanitize(t,e){return at.traverse(t,(i,r)=>{if(i.anonymized=this.cs,i.nodeType===ps.TEXT_NODE){let o=i,{anonymizedValue:c,withAnonymization:l}=this.getAnonymizedValue(o.data,r?at.getProperties(r):e);i.anonymized=l,o.data=c;return}if(je.isElement(i))return this.Xv(i);if(i.nodeType===ps.CDATA_SECTION_NODE){let o=i;o.data=this.cs?Cr(o.data):this.M.checkAndAnonymizePII(o.data,this.wa);return}}),t}setAnonymization(t){this.cs=t}getAnonymizedValue(t,e){let i=(e==null?void 0:e[de.ANONYMIZED_TEXT_STATUS_PROP])===de.WHITELISTED_STATUS;return this.cs&&!i?{anonymizedValue:Cr(t),withAnonymization:!0}:{anonymizedValue:this.M.checkAndAnonymizePII(t,this.wa),withAnonymization:!1}}Xv(t){let e=Us(t.attributes,r=>r.name==="type"),i=e==null?void 0:e.value;t.attributes=csArray.prototype.map.call(t.attributes,r=>(r.anonymized=this.cs,r.value=this.getAnonymizedAttributeValue(t.namespaceURI,t.localName,r.name,r.value,i),r))}getAnonymizedAttributeValue(t,e,i,r,o){if(t==="http://www.w3.org/2000/svg"||t==="svg"||this.Kv(e,i,o))return r;if(Pf(i))return Of(e,i,r)?this.M.anonymizePII(r):r;let c=this.Yv&&i==="placeholder";return this.cs&&(Nf(e,i,o)||c)?Cr(r):this.cs?"":this.M.checkAndAnonymizePII(r,null)}Kv(t,e,i){return If(t,e,i)||this.Cr.has(e)}}return s})(),Sc=(()=>{class s{static create(t,e){if(!s.isSupported())throw new Error("IntersectionObserver is not supported");if(e&&e.delay&&e.delay<100)throw new Error("Visibility delay should be > 100ms");return e!=null&&e.trackVisibility&&(t=s.Jv(t)),new csIntersectionObserver(t,e)}static isSupported(){return!!window.csIntersectionObserver&&!!window.IntersectionObserverEntry}static Jv(t){return(e,i)=>t(He(e,cE),i)}}return s})();function cE(s){return s.isVisible||!Z.isVisibleInViewportInForeground(s.target)?s:{boundingClientRect:s.boundingClientRect,intersectionRatio:s.intersectionRatio,intersectionRect:s.intersectionRect,isIntersecting:s.isIntersecting,rootBounds:s.rootBounds,target:s.target,time:s.time,isVisible:!0}}var co=()=>(s,n,t)=>{t.value=lE(t.value)};function lE(s){let n=csSymbol("oncePerTickSymbol"),t=null,e={},i=function(){var r;let o=(r=this)!==null&&r!==void 0?r:e;if(t=arguments,o[n])return;o[n]=!0,Po(()=>{o[n]=!1,s.apply(o,t)})};return i.oncePerTickSymbol=n,i}co.isScheduled=(s,n)=>{let t=n.oncePerTickSymbol;return s[t]};var hE=(()=>{class s{constructor(t){this.A=t,this.ti=new Map,this.$f=e=>{let i=e.target;if(this.ti.has(i))return!0;let r=!1;return this.ti.forEach((o,c)=>{r||!this.ti.get(c).subtree||(r=c.contains(i))}),r},wt.general.nbOfMutationObservers.increase(),this.L=new csMutationObserver(e=>{co.isScheduled(this,this.garbageCollect)&&(e=Hi(e,this.$f)),e.length&&$t(()=>t(e,this))})}disconnect(){wt.general.nbOfMutationObservers.decrease(),this.L.disconnect(),this.ti=new Map}takeRecords(){return this.L.takeRecords()}observe(t,e){return wt.mutations.elementMutationObserved.increase(),this.ti.set(t,e),this.L.observe(t,e)}unobserve(t){this.ti.has(t)&&(wt.mutations.elementMutationObserved.decrease(),this.ti.delete(t),this.garbageCollect())}garbageCollect(){wt.mutations.unobserveGarbageCollection.measure(()=>{let t=Hi(this.takeRecords(),this.$f);t.length&&this.A(t,this),this.L.disconnect(),this.ti.forEach((e,i)=>this.L.observe(i,e))})}}return st([co()],s.prototype,"garbageCollect",null),s})(),uE=(()=>{class s{constructor(t){this.A=t,this._a=new Set}onMutations(t){if(ji(t,e=>{var i;return!!(!((i=e.removedNodes)===null||i===void 0)&&i.length)}))for(let e of this._a.values())Z.isConnected(e)||(this._a.delete(e),this.A(e))}observe(t){this.z||(this.z=new ye(e=>csSetTimeout(()=>this.onMutations(e))),this.z.observe()),this._a.add(t)}disconnect(){var t;(t=this.z)===null||t===void 0||t.disconnect(),this._a.clear(),this.z=void 0}}return st([N("NodeDisconnectedObserver.onMutations")],s.prototype,"onMutations",null),s})(),dE=300,gs=(()=>{class s{constructor(t){this.ba=new Set,this.Qv=new uE(e=>this.zf(e)),this.Y=!1,this.It=t?{...vc,...t}:vc}stop(){var t,e;this.Y=!1,(t=this.Ir)===null||t===void 0||t.disconnect(),(e=this.L)===null||e===void 0||e.disconnect()}start(t){if(this.Y)throw new Error("VisibilityObserver is already started");this.A=ms("VisibilityObserver:callback",(i,r)=>t(i,r));let e={root:null,rootMargin:"0px",threshold:.5,trackVisibility:!0,delay:dE};this.Ir=Sc.create(i=>this.handleIntersection(i),e),this.L=new hE(i=>csSetTimeout(()=>{X(i,r=>this.zf(r.target))})),this.Gl(),this.Y=!0}observe(t){if(!this.Y)throw new Error("Observer is stopped.");this.It.reobserve===!1&&t[this.ql]||(wt.visibilityObserver.nbElements.increase(),t[this.ql]=!0,this.watchIntersection(t))}Gl(){this.Ta=csSymbol("isVisible"),this.ql=csSymbol("ObservedElement"),this.Wl=csSymbol("LinkedElement"),this.Gf=csSymbol("Tracked")}zf(t){this.ba.add(t);for(let e of this.Zv(t))this.ba.add(e);this.recheckCssVisibilityAll()}recheckCssVisibilityAll(){X(this.ba.keys(),t=>{!t.isConnected||Z.areAncestorsHiddenByCSS(t)||t[this.ql]&&this.watchIntersection(t)}),this.ba.clear()}watchIntersection(t){this.L.unobserve(t),this.Ir.unobserve(t);let e=Z.getTopAncestorHiddenByCSS(t);e?(e!==t&&(this.qf(e,t),this.watchMutation(e)),this.watchMutation(t)):this.Ir.observe(t)}watchMutation(t,e=!0){e&&delete t[this.Ta],this.Ir.unobserve(t);let i={attributeFilter:["style","class","hidden"]};this.L.observe(t,i)}handleIntersection(t){for(let e of t){let i=e.target;if(!e.isVisible){Z.isVisibleInDocument(i)||this.tw(i);continue}let r=this.It.allowSameMatch||!e.target[this.Ta];e.target[this.Ta]=!0,r&&!this.It.delay&&this.onVisibilityChanged(e.target,ti.VisibleInViewPort)}this.It.delay&&csSetTimeout(()=>{for(let e of t){let i=e.isIntersecting&&e.isVisible;e.target[this.Ta]&&i&&this.onVisibilityChanged(e.target,ti.VisibleInViewPort)}},this.It.delay)}tw(t){wt.visibilityObserver.hiddenElements.increase();let e=Z.getTopElement(t);this.watchMutation(t),e&&(this.Qv.observe(e),this.qf(e,t),this.watchMutation(e,!1))}qf(t,e){var i;(t[this.Wl]=(i=t[this.Wl])!==null&&i!==void 0?i:new Set).add(e)}Zv(t){var e,i;let r=[],o=(i=(e=t[this.Wl])===null||e===void 0?void 0:e.values())!==null&&i!==void 0?i:[];return X(o,c=>csArray.prototype.push.call(r,c)),r}onVisibilityChanged(t,e){if(e===ti.VisibleInViewPort&&this.It.trackOnce){if(this.Ir.unobserve(t),this.L.unobserve(t),t[this.Gf])return;t[this.Gf]=!0}this.A(t,e)}static isSupported(){return Sc.isSupported()}}return st([N()],s.prototype,"observe",null),st([Qi({wait:50}),N(),Nt("recheckCssVisibilityAll")],s.prototype,"recheckCssVisibilityAll",null),st([N()],s.prototype,"watchIntersection",null),st([N()],s.prototype,"watchMutation",null),st([N(),Nt("VisibilityObserver.handleIntersection")],s.prototype,"handleIntersection",null),st([N()],s.prototype,"onVisibilityChanged",null),s})(),ti=(()=>{let s;return function(n){n.VisibleInViewPort="VisibleInViewPort",n.HiddenByAnother="HiddenByAnother",n.Hidden="Hidden"}(s||(s={})),s})(),vc={delay:1e3,trackOnce:!0,reobserve:!1},fE=(()=>{class s{constructor(t){this.A=t,this.Is=new en,this.ew=e=>{$t(()=>{for(let i of e)i.type==="childList"&&X(i.addedNodes,r=>{Xt(r,NodeFilter.SHOW_TEXT).visitAll(c=>{this.Is.has(c)||(this.Is.add(c),this.A(c))})})})},this.Pr=new ye(this.ew)}observe(){this.Pr.observe(),Xt(document,NodeFilter.SHOW_TEXT).visitAll(e=>{this.Is.add(e),this.A(e)})}disconnect(){this.Is.clear(),this.Pr.disconnect()}}return s})(),oh=(()=>{let s;return function(n){n.ENCRYPTED_NODE_PROP="encrypted";function t(r){return at.getProperty(r,n.ENCRYPTED_NODE_PROP)===!0}n.shouldEncrypt=t;function e(r){at.setProperty(r,n.ENCRYPTED_NODE_PROP,!0)}n.markEncryptedNode=e;function i(r){at.setProperty(r,n.ENCRYPTED_NODE_PROP,void 0)}n.unmarkEncryptedNode=i}(s||(s={})),s})(),Ve=(()=>{let s;return function(n){n.EDITABLE_NODE_PROP="editableNode";function t(r){var o;return"nodeType"in r?at.getProperty(r,n.EDITABLE_NODE_PROP)===!0:((o=r.metadata)===null||o===void 0?void 0:o[n.EDITABLE_NODE_PROP])===!0}n.isEditableNode=t;function e(r){at.setProperty(r,n.EDITABLE_NODE_PROP,!0)}n.markEditableNode=e;function i(r){at.setProperty(r,n.EDITABLE_NODE_PROP,void 0)}n.unmarkEditableNode=i}(s||(s={})),s})(),pE=(()=>{class s extends Ee{constructor(){super(),this.ei=new Set,this.Yl=new Set,this.Xl=new Set,this.cs=!1,this.Nt=new gs,this.Wf=new fE(t=>{let e=Z.getParentElement(t);!e||!e.isConnected||k.isMaskedElement(e)||k.isMaskedElementChild(e)||oh.shouldEncrypt(e)||Ve.isEditableNode(e)||Xi(e)||Ki(e)||oi(e)||Wn(t.data)||(this.ei.add(e),this.watchElements())})}onStart(){gs.isSupported()&&(this.Nt.start((t,e)=>this.onVisibilityChanged(t,e)),this.Wf.observe())}onStop(){gs.isSupported()&&(this.Nt.stop(),this.Wf.disconnect(),this.ei.clear(),this.Yl.clear(),this.Xl.clear())}setAnonymization(t){this.cs=t}watchElements(){if(!this.isStarted)return;let t=this.ei;this.ei=new Set;for(let e of $e(t))!e.isConnected||this.Yl.has(e)||(this.Yl.add(e),ji(csNodechildNodes.apply(e),i=>csNodenodeType.apply(i)===3)&&this.Nt.observe(e))}onVisibilityChanged(t,e){e!==ti.VisibleInViewPort||this.cs&&!de.isWhitelistedElement(t)||X(csNodechildNodes.apply(t),i=>{if(csNodenodeType.apply(i)!==3)return;let r=i.data;this.Xl.has(r)||(this.Xl.add(r),this.produceEvent({type:"TextVisibility",text:r,state:e}))})}}return ge([N(),Qi({wait:50,mode:"trailing"})],s.prototype,"watchElements",null),ge([N()],s.prototype,"onVisibilityChanged",null),s})(),wc=(()=>{let s;return function(n){function t(e){return e.type==="TextVisibility"}n.isTextVisibilityEvent=t}(s||(s={})),s})(),gE=(()=>{class s extends gi{constructor(t,e,i=new ks,r=null,o=!1){super(),this.M=i,this.wa=r,this.captureAnonymizedPlaceholders=o,this.Tn=new aE(t,e,i,r,o)}setAnonymization(t){this.Tn.setAnonymization(t)}isListening(t){return t.type==="DOM_PATCH"||t.type==="DOM_INITIAL_STATE"||wc.isTextVisibilityEvent(t)||ui.isDOMEvent(t)&&(t.domEvent==="initialDOM"||t.domEvent==="nodesAdded"||t.domEvent==="attributeChanged"||t.domEvent==="characterDataChanged")}processEvent(t){if(t.type==="DOM_PATCH"||t.type==="DOM_INITIAL_STATE")return this.iw(t);if(wc.isTextVisibilityEvent(t))return t.text=this.M.checkAndAnonymizePII(t.text,this.wa),t;switch(t.domEvent){case"initialDOM":case"nodesAdded":this.Kl(t);break;case"attributeChanged":this.nw(t);break;case"characterDataChanged":this.rw(t);break}return t}iw(t){var e,i;let r=t.type==="DOM_PATCH"?t.diff:t.state,o=t.state;for(let c in r){let l=o[c],h=o[l.parent];switch(l.type){case ps.TEXT_NODE:case ps.COMMENT_NODE:{let f=r[c];if(J(f.data)){if(h.localName==="script"){f.data="";continue}}else continue;f.data=this.Tn.getAnonymizedValue((e=f.data)!==null&&e!==void 0?e:"",h.metadata).anonymizedValue;break}case ps.ELEMENT_NODE:{let f=r[c];if(f.attributes)for(let u in f.attributes){let m=f.attributes[u],y=l.localName==="input"?(i=l.attributes)===null||i===void 0?void 0:i.type:void 0;f.attributes[u]=this.Tn.getAnonymizedAttributeValue(l.namespaceURI,l.localName,u,m,y)}break}}}return t}Kl(t){let e=t.domEvent==="initialDOM"?[t.initialDOM]:t.nodes;for(let i of e)this.Tn.sanitize(i,t.targetProps)}nw(t){if(!t.isSvg&&t.newValue){if(t.localName===null){t.newValue="";return}t.newValue=this.Tn.getAnonymizedAttributeValue(t.namespace,t.localName,t.attribute,t.newValue,t.inputType)}}rw(t){t.newValue=this.Tn.getAnonymizedValue(t.newValue,t.parentProps).anonymizedValue}}return ge([Nt("AnonymizedTextProcessor.processEvent")],s.prototype,"processEvent",null),s})();var ot=(()=>{let s;return function(n){n[n.ELEMENT_NODE=1]="ELEMENT_NODE",n[n.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",n[n.TEXT_NODE=3]="TEXT_NODE",n[n.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",n[n.COMMENT_NODE=8]="COMMENT_NODE",n[n.DOCUMENT_NODE=9]="DOCUMENT_NODE",n[n.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",n[n.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE",n[n.CSS_STYLESHEET_NODE=50]="CSS_STYLESHEET_NODE"}(s||(s={})),s})();function ea(s){let n=csString.prototype.trim.call(s);if(s==="")return[];let[t,e]=mE(n);return e?(di(t,",")||(e=yE(e)),[_c(t),...ea(e)]):[_c(t)]}function mE(s){return csString.prototype.split.call(s,/\s(.+)/)}function _c(s){return csString.prototype.split.call(s,/,$/)[0]}function yE(s){return csString.prototype.split.call(s,/,(.+)/)[1]||""}var EE=/(@import\s*("([^"]+)"|'([^']+)'))|(url\s*\(\s*((("([^"\]]+)"|'([^'\]]+)')\s*)|([^)\]]+))\)(?!\\))/g;function SE(s,n){return csString.prototype.replace.call(s,EE,(...e)=>{let i=e[3]||e[4],r=e[9]||e[10]||e[11],o=wE((i||r).trim()),c=i?"@import ":"",l=n(o)||o;return`${c}url(${vE(l)})`})}function vE(s){return csString.prototype.indexOf.call(s,'"')===-1?`"${s}"`:csString.prototype.indexOf.call(s,"'")===-1?`'${s}'`:s}function Li(s){let n=new Set;return SE(s,t=>{var e,i;return n.add((i=(e=csString.prototype.match.call(t,/^["|'](.*)?["|']$/))===null||e===void 0?void 0:e[1])!==null&&i!==void 0?i:t),t}),$e(n)}function wE(s){let n=/(\\)*\\(?:([a-fA-F0-9]{1,6})|(.))[\n\t\x20]?/g;return csString.prototype.replace.call(s,n,(t,e,i,r)=>{if(e==="\\")return csString.prototype.slice.call(t,1);if(r)return r;let o=parseInt(i,16);return 55296<=o&&o<=57343||o===0||o>1114111?"\uFFFD":csString.fromCodePoint(o)})}var bc=(()=>{class s{static async toStaticResourceEvent(t,e,i){let r=await s.hw(t);if(!r)return null;let o=await s.Xf(r),c=oe(t)?void 0:t,l={type:"StaticResourceManagerEvent",timestamp:i,resourceId:e,resource:{hash:o,data:r}};return c&&(l.originalResourceName=c),l}static async toCSSStaticResourceEvent(t,e,i,r){let o=await s.uw(t,r),c=fe(t),l=o.get(c);if(!l)return null;let h={type:"StaticResourceManagerEvent",timestamp:i,resourceId:e,resource:{hash:l.hash,data:l.data}};return o.delete(c),o.size&&(h.nestedResources=[],o.forEach(f=>{f&&csArray.prototype.push.call(h.nestedResources,{hash:f.hash,data:f.data})})),h}static async Xf(t){let e=await t.arrayBuffer(),i=await crypto.subtle.digest(this.Kf,e);return Dn(i)}static async hw(t){let e;if(!oe(t))e=await(await window.fetch(t)).blob();else{let i=Da(t);if(!i)return null;e=i}return e}static async uw(t,e){let i=new Map,r=fe(t),c=[{resourceRawPath:t,resourceAbsolutePath:r}];for(;c.length>0;){let l=csArray.prototype.pop.call(c);if(!e&&l.resourceAbsolutePath!==null&&!oe(l.resourceAbsolutePath)){i.set(l.resourceAbsolutePath,null);continue}if(i.get(l.resourceAbsolutePath)===void 0)try{if(l.resourceRawPath===null||csString.prototype.indexOf.call(l.resourceRawPath,".css")>0){if(!l.data){let y=await fetch(l.resourceAbsolutePath);l.data=await y.text()}l.nestedResources||(l.nestedResources=Li(l.data));let u=!1,m=!1;for(let y of l.nestedResources){let S=oe(y)?y:l.resourceAbsolutePath?cp(y,l.resourceAbsolutePath):fe(y),O=i.get(S);if(O!==void 0){if(O!==null){let v=s.fw(O,y);l.data=W.stringReplaceAll(l.data,y,v)}continue}Us(c,v=>v.resourceAbsolutePath===S)!==void 0||(u=!0,m||(csArray.prototype.push.call(c,l),m=!0),csArray.prototype.push.call(c,{resourceRawPath:y,resourceAbsolutePath:S}))}if(!u){let y=await s.pw(l.data);i.set(l.resourceAbsolutePath,{hash:y.hash,data:y.data})}}else{let u;if(!oe(l.resourceAbsolutePath))u=await(await fetch(l.resourceAbsolutePath)).blob();else{let y=Da(l.resourceAbsolutePath);if(!y){i.set(l.resourceAbsolutePath,null);continue}u=y}let m=await s.Xf(u);i.set(l.resourceAbsolutePath,{hash:m,data:u})}}catch{i.set(l.resourceAbsolutePath,null)}}return i}static fw(t,e){let i=`cs://resources/${t.hash}`;return oe(e)||(i+=`?${s.Ql}=${e}`),i}static async pw(t){let e=new Blob([t],{type:"text/css"}),i=await e.arrayBuffer(),r=await crypto.subtle.digest(s.Kf,i);return{data:e,hash:Dn(r)}}}return s.Kf="SHA-256",s.Ql="original-resource-name",s})(),lo=(()=>{class s extends gi{get busy(){return this.Zl>0}constructor(){super(),this.gw="cssrm://",this.mw=1,this.ls=!1,this.Zl=0}isListening(t){if(s.isSupported()){if(t.type==="DOM_PATCH"||t.type==="DOM_INITIAL_STATE")return!0;if(!ui.isDOMEvent(t))return!1}else return!1;return t.domEvent==="initialDOM"||t.domEvent==="nodesAdded"||t.domEvent==="attributeChanged"||t.domEvent==="characterDataChanged"}processEvent(t){if(t.type!=="DomEvent")return this.yw(t);switch(t.domEvent){case"initialDOM":case"nodesAdded":this.Ew(t);break;case"attributeChanged":this.Sw(t);break;case"characterDataChanged":this.vw(t);break}return t}disableOnlineAssets(){this.ls=!1}enableOnlineAssets(){this.ls=!0}isOnlineAssetsActivated(){return this.ls}yw(t){var e;let i=t.type==="DOM_PATCH"?t.diff:t.state;for(let r in i){let o=i[r],c=t.state[r],l=t.state[c.parent];switch(c.type){case ot.TEXT_NODE:this.Jf(o,l==null?void 0:l.localName);break;case ot.ELEMENT_NODE:{o=o;let h=o.attributes;if(!h)continue;if(h.style&&(h.style=this.Or(h.style)),(this.Qf(c.localName)||this.Zf(c.localName,l==null?void 0:l.localName))&&("src"in h&&(h.src=this.th(h.src)),"srcset"in h&&(h.srcset=this.eh(h.srcset))),this.ls&&c.localName==="link"&&(!((e=h.href)===null||e===void 0)&&e.length)&&h.rel==="stylesheet"){let f=this.Mi(fe(h.href),!0);h["data-cs-original-href"]=h.href,h.href=f}}}}return t}Ew(t){let e=t.domEvent==="initialDOM"?[t.initialDOM]:t.nodes;for(let i of e)at.traverse(i,(r,o)=>{if(r.nodeType===ps.TEXT_NODE&&o){this.Jf(r,o.localName);return}if(!je.isElement(r))return;let c=je.getAttribute(r,"style");if(c!=null&&c.value&&(c.value=this.Or(c.value)),this.Qf(r.localName)||this.Zf(r.localName,o==null?void 0:o.localName)){let l=je.getAttribute(r,"src");l!=null&&l.value&&(l.value=this.th(l.value));let h=je.getAttribute(r,"srcset");if(h){h.value=this.eh(h.value);return}}if(this._w(r)&&this.ls){let l=Us(r.attributes,f=>f.name==="href");if(!l||!l.value)return;let h=this.Mi(fe(l.value),!0);csArray.prototype.push.call(r.attributes,{name:"data-cs-original-href",namespaceURI:"",value:l.value}),l.value=h}})}Jf(t,e){if(!t||e!=="style")return;let i=this.Or(t.data);i!==null&&(t.data=i)}vw(t){if(t.parentLocalName!=="style"||!t.newValue)return;let e=this.Or(t.newValue);e!==null&&(t.newValue=e)}Sw(t){if(!t.newValue||t.newValue===t.oldValue)return;let e=t.attribute==="src",i=t.attribute==="srcset";if(t.attribute==="style"){t.newValue=this.Or(t.newValue);return}if(!e&&!i)return;let o=t.localName==="img",c=t.localName==="source"&&t.parentLocalName&&t.parentLocalName==="picture";!o&&!c||(e&&(t.newValue=this.th(t.newValue)),i&&(t.newValue=this.eh(t.newValue)))}th(t){return oe(t)||this.ls?this.Mi(t,!1,C.now()):t}eh(t){if(!this.ls)return t;let e=t,i=ea(t);for(let r of i){let o=this.Mi(fe(r),!1);e=csString.prototype.replace.call(e,r,o)}return e}Or(t){let e=Li(t),i=t,r=C.now();for(let o of e){let c=oe(o);if(!(c||this.ls)||this.bw(o))continue;let l=Tf(o),h=o;c?h=this.Mi(o,!1,r):this.ls&&(l?h=this.Mi(o,!0,r):h=this.Mi(fe(o),!1,r)),i=csString.prototype.replace.call(i,o,h)}return i}Mi(t,e,i=C.now()){let r=this.mw++;this.Zl++;let o=e?bc.toCSSStaticResourceEvent:bc.toStaticResourceEvent,c=new ta(async l=>{try{let h=await o(t,r,i,this.ls);l(h||{type:"warning",message:`Failed to process static resource: ${t}`})}catch(h){l({type:"warning",message:h})}finally{this.Zl--}});return this.emitEvent(c),this.gw+r}Qf(t){return t==="img"}Zf(t,e){return t==="source"&&e==="picture"}_w(t){return t.localName==="link"&&csArray.prototype.some.call(t.attributes,e=>e.name==="rel"&&e.value==="stylesheet")}static isSupported(){return ll()&&Io()&&!!csArray.from}bw(t){return csString.prototype.replace.call(t,/['"]+/g,"").length===0}}return ge([Nt("StaticResourceManagerProcessor.processEvent")],s.prototype,"processEvent",null),s})(),Ri=console;var Os={debug:(...s)=>Ri.debug(...s),log:(...s)=>Ri.log(...s),info:(...s)=>Ri.info(...s),warn:(...s)=>Ri.warn(...s),error:(...s)=>Ri.error(...s)},ho=(()=>{class s{push(t){let e={value:t};this.An?(this.ih.next=e,this.ih=e):(this.An=e,this.ih=e)}pushMany(t){for(let e of t)this.push(e)}shift(){if(!this.An)return;let t=this.An;return this.An=t.next,this.An||(this.ih=void 0),t.value}isEmpty(){return!this.An}}return s})(),zi=(()=>{let s;return function(n){n[n.High=0]="High",n[n.Low=1]="Low"}(s||(s={})),s})(),sa=(()=>{class s{constructor(){this.tp=new ho,this.ep=new ho,this.length=0}push(t,e=zi.Low){return e===zi.High?this.tp.push(t):this.ep.push(t),this.length+=1}shift(){if(this.length!==0)return this.length-=1,this.tp.shift()||this.ep.shift()}isEmpty(){return this.length===0}}return s})(),_E=(()=>{class s{get length(){return this.vt.length}constructor(){this.Nr=[],this.vt=new sa,this.nh=new Set}Tw(t){switch(t.type){case"attributes":return`-${t.attributeNamespace}-${t.attributeName}`;default:return""}}Aw(t){switch(t.type){case"pointerOverElement":case"customElementRegistration":return}return`${q(t.target)}-${t.type}${this.Tw(t)}`}Rw(t){switch(t.type){case"state":return zi.High;default:return zi.Low}}Cw(t){let e=this.Aw(t);if(e){if(this.nh.has(e))return;this.nh.add(e)}return this.vt.push({mutation:t,key:e},this.Rw(t))}Iw(){this.Nr.length!==0&&(csArray.prototype.forEach.call(csArray.prototype.flat.call(this.Nr),t=>this.Cw(t)),this.Nr=[])}push(t){csArray.prototype.push.call(this.Nr,t)}shift(){this.Iw();let t=this.vt.shift();if(t)return t.key&&this.nh.delete(t.key),t.mutation}isEmpty(){return this.vt.isEmpty()&&this.Nr.length===0}}return s})(),Ir=new WeakMap,Pr=new WeakMap;function Tc(s,n){if(!s||typeof s!="object"&&typeof s!="function")return s;if(Ir.has(s))return Ir.get(s);let t=n();return Ir.set(s,t),t}function uo(s,n){return s.prototype=n.prototype,Object.defineProperty(s,"toString",{value:()=>n.toString()}),s}function bE(s,n,t,e,i){Object.defineProperty(s,n,{set(r){var o;let c=(o=t.set)===null||o===void 0?void 0:o.apply(this,[r]);return e(this,[n],[r],c),c},get(){var r;let o=(r=t.get)===null||r===void 0?void 0:r.apply(this);return Tc(o,()=>{let c=new Proxy(o,{get(l,h){let f=Reflect.get(l,h);return typeof f!="function"?f:Tc(f,()=>i&2?uo(function(...u){let m=Pr.get(this)||this,y=Reflect.apply(f,m,u);return e(m,[n,h],u,y),y},f):uo(function(...u){let m=Pr.get(this)||this;return Reflect.apply(f,m,u)},f))},set:i&1?(l,h,f)=>{let u=Reflect.set(l,h,f);return e(l,[n,h],[f],u),u}:Reflect.set});return Pr.set(c,o),c})}})}function TE(s,n,t,e){let i={};t.get&&(i.get=t.get),t.set&&(i.set=function(r){let o=t.set.call(this,r);return e(this,[n],[r],o),o}),t.value&&(i.value=uo(function(...r){let o=Reflect.apply(t.value,this,r);return e(this,[n],r,o),o},t.value),i.writable=t.writable!==!1),t.configurable!==void 0&&(i.configurable=t.configurable),t.enumerable!==void 0&&(i.enumerable=t.enumerable),Object.defineProperty(s,n,i)}function vt(s,n,t,e={}){let i=s&&s.prototype?s.prototype:s;if(!i)return()=>{};let r=csSymbol.for(`fd_spy_${n}`);if(r in i){let h=i[r];return h.add(t),()=>h.delete(t)}let o=i[r]=new Set([t]),c=Object.getOwnPropertyDescriptor(i,n);if(!c)return Os.warn(`Could not find descriptor for ${n} on target`,i),()=>o.delete(t);let l=(...h)=>{for(let f of o)try{f(...h)}catch(u){Os.warn(`Error in spy hook for ${n} on target`,i,u)}};return e.mode?bE(i,n,c,l,e.mode):TE(i,n,c,l),()=>o.delete(t)}function Qt(s,n,t){let e=i=>t(i.target);return s.addEventListener(n,e,{capture:!0,passive:!0}),()=>{s.removeEventListener(n,e,{capture:!0})}}var AE=(()=>{class s{constructor(t){this.qe=t,this.Ct=new WeakMap,this.ye=e=>this.qe({type:"state",target:e}),this.sp=e=>this.qe({type:"setAdoptedStyleSheets",target:e}),this.Rn=e=>this.qe({type:"styleSheetUpdated",target:e}),this.Mr=e=>{var i;let r=(i=this.Pw(e))===null||i===void 0?void 0:i.parentStyleSheet;r&&this.Rn(r)},this.Ow=e=>this.qe({type:"styleSheetDisabledChanged",target:e}),this.ip=e=>this.qe({type:"activeElementChanged",target:e.ownerDocument})}Nw(t){return csNodenodeType.apply(t)===ot.DOCUMENT_NODE}Mw(t){let e=[Qt(t,"input",this.ye),Qt(t,"change",this.ye),Qt(t,"checked",this.ye),Qt(t,"scroll",this.ye),Qt(t,"toggle",this.ye),Qt(t,"focusin",this.ip),Qt(t,"focusout",this.ip),Qt(t,"pointerover",i=>{this.qe({type:"pointerOverElement",target:i.ownerDocument,element:i})}),Qt(t,"pointerout",i=>{this.qe({type:"pointerOverElement",target:i.ownerDocument,element:null})}),Qt(t,"load",i=>{switch(i.localName){case"iframe":case"link":this.qe({type:"loaded",target:i});break}})];this.rh(t,()=>{csArray.prototype.forEach.call(e,i=>i())})}Dw(t){let e=t.defaultView;if(!e)return;let i=[Qt(e,"resize",()=>this.ye(t)),Qt(t,"visibilitychange",()=>this.ye(t)),Qt(t,"fullscreenchange",()=>this.ye(t)),vt(e.Document,"adoptedStyleSheets",this.sp,{mode:2}),vt(e.ShadowRoot,"adoptedStyleSheets",this.sp,{mode:2}),vt(e.Element,"attachShadow",(r,o,c,l)=>{this.qe({type:"attachShadow",target:r,shadowRoot:l})}),vt(e.HTMLInputElement,"value",this.ye),vt(e.HTMLInputElement,"checked",this.ye),vt(e.HTMLSelectElement,"selectedIndex",this.ye),vt(e.CSSStyleSheet,"insertRule",this.Rn),vt(e.CSSStyleSheet,"deleteRule",this.Rn),vt(e.CSSStyleSheet,"replace",this.Rn),vt(e.CSSStyleSheet,"replaceSync",this.Rn),vt(e.CSSStyleSheet,"addRule",this.Rn),vt(e.CSSStyleRule,"style",this.Mr,{mode:1}),vt(e.CSSGroupingRule,"insertRule",this.Mr),vt(e.CSSGroupingRule,"deleteRule",this.Mr),vt(e.CSSStyleDeclaration,"setProperty",this.Mr),vt(e.CSSStyleDeclaration,"removeProperty",this.Mr),vt(e.StyleSheet,"disabled",this.Ow),vt(e.HTMLDialogElement,"show",this.ye),vt(e.HTMLDialogElement,"showModal",this.ye),vt(e.HTMLDialogElement,"close",this.ye),vt(e.CustomElementRegistry,"define",(r,o,c)=>{this.qe({type:"customElementRegistration",target:t,name:c[0]})})];this.rh(t,()=>{csArray.prototype.forEach.call(i,r=>r())})}Pw(t){for(;t.parentRule!==null;)t=t.parentRule;return t}kw(t){let e=new csMutationObserver(i=>{this.qe(i)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),this.rh(t,()=>{e.disconnect()})}rh(t,e){this.Ct.get(t)==null||csArray.prototype.push.call(this.Ct.get(t),e)}observe(t){this.Ct.has(t)||(this.Ct.set(t,[]),this.Mw(t),this.Nw(t)&&this.Dw(t),this.kw(t))}disconnect(t){let e=this.Ct.get(t)||[];for(let i of e)try{i()}catch(r){Os.warn(r)}this.Ct.delete(t)}}return s})(),ah=new sa,ht,RE=40,CE=10;function IE(s){return csSetTimeout(()=>{let n=0,t=0,e=performance.now(),i=!0;s({get hasTimeLeft(){return n%CE===0&&(t=performance.now(),i=t-e<RE),n++,i}})},0)}function Ac(){var s;let n=(s=ht==null?void 0:ht.subTasks)===null||s===void 0?void 0:s.shift();return n?(n.subTasks=ht==null?void 0:ht.subTasks,n):ah.shift()}function ch(){IE(s=>{for(ht||(ht=Ac());s.hasTimeLeft&&ht;){ht.isRunning=!0;try{ht.isEnded=ht.run(s)!==!0}catch(n){Os.error("Error occurred while running task:",n),ht.isEnded=!0}ht.isRunning=!1,(ht.isEnded||ht.isAborted)&&(ht=Ac())}ht&&ch()})}function Ci(s,n=zi.Low){let t={run:s,isAborted:!1,isEnded:!1,abort:()=>{t.isAborted=!0}};return ht!=null&&ht.isRunning?(ht.subTasks=ht.subTasks||new sa,ht.subTasks.push(t,n)):ah.push(t,n)===1&&!ht&&ch(),t}var PE=40;function Rc(s){return csString.prototype.replace.call(s,/[:\\]/g,"\\$&")}function Or(s){return csString.prototype.replace.call(s,/\\([:\\\\])/g,"$1")}var Nr=["nextSibling","firstChild","contentDocument","shadowRoot","sheetId"];function Mr(s,n){return!!s&&n in s&&!!s[n]}var Cc={"http://www.w3.org/1999/xhtml":void 0,"http://www.w3.org/2000/svg":"svg"},OE=(()=>{class s{constructor(t){this.A=t,this.z=new AE(e=>{this.oh.push(e),this.xw()}),this.We={},this.Ye=new Map,this.oh=new _E,this.Dr=new Map,this.processedMutationsCount=0,this.serializedNodeCount=0,this.np=0,this.rp=PE}disconnect(){for(let t of this.Dr.values())this.z.disconnect(t);this.Dr.clear()}observe(t){return this.disconnect(),this.Aa(t),this}getState(t=!0){let e=this.We;return this.We={...e},t&&this.op(),e}getChanges(){let t={};for(let[i,r]of this.Ye){let o=this.We[i];if(!(r&&!o))if(o&&!r)t[i]=Mi(o);else{let c=kl(r,o);c!==void 0&&(t[i]=c)}}return this.op(),Dl(t)?t:void 0}setFrameRate(t){return this.rp=t/1e3,this}onChange(t){return this.A=t,()=>{this.A===t&&(this.A=void 0,this.kr&&(csClearTimeout(this.kr),this.kr=void 0))}}async getStateAsync(t=!0){return await this.ap(),this.getState(t)}async getChangesAsync(){return await this.ap(),this.getChanges()}async ap(){return new Promise(t=>{Ci(()=>t())})}op(){this.Ye.clear()}static*findNodes(t,e){for(let i of Object.values(t))e(i)&&(yield i)}static stringifyAttrKey(t,e){let i=Rc(e);return t?`${Rc(t)}:${i}`:i}static parseAttrKey(t){let e=!1,i=-1;for(let c=0;c<t.length;c++){let l=t[c];if(e)e=!1;else if(l==="\\")e=!0;else if(l===":"){i=c;break}}if(i===-1)return{namespaceURI:null,name:Or(t)};let r=csString.prototype.slice.call(t,0,i),o=csString.prototype.slice.call(t,i+1);return{namespaceURI:Or(r),name:Or(o)}}static apply(t,e,i){let r={...t},o=new Set,c=new Set,l=m=>{c.has(m)?c.delete(m):o.add(m)},h=m=>{o.has(m)?o.delete(m):c.add(m)};function f(m,y){for(let S of Nr)S in y&&(Mr(m,S)&&l(m[S]),Mr(y,S)&&h(y[S]))}for(let[m,y]of Object.entries(e)){if(y===null)continue;let S=m,O=r[S],D=O===void 0?y:xl(O,y);f(O,y),r[S]=D}let u=m=>{if(c.has(m))return;let y=r[m];if(y){delete r[m],i==null||i(m);for(let{nodeId:S}of s.nodeRelationsEntries(y))u(S)}};for(let m of o)u(m);return r}static nodeRelationsEntries(t,e=!1){let i=e?Nr.filter(o=>o!=="nextSibling"):Nr,r=[];for(let o of i)Mr(t,o)&&csArray.prototype.push.call(r,{key:o,nodeId:t[o]});return r}bt(t){if(t in this.We&&!this.Ye.has(t)){let e=this.We[t];this.Ye.set(t,Mi(e)),this.We[t]=Mi(e)}return this.We[t]}Lw(t){try{let e=t.cssRules.length,i={};for(let r=0;r<e;r++){let o=t.cssRules[r];i[r]=o.cssText}return{type:ot.CSS_STYLESHEET_NODE,cssRules:i,disabled:t.disabled}}catch{return{type:ot.CSS_STYLESHEET_NODE,cssRules:{}}}}Uw(t){return csArray.prototype.pop.call(csArray.from(window.csquerySelectorAll[t.nodeType].call(t,":hover")))||void 0}Vw(t){let e=Di.getAll(t);switch(csNodenodeType.apply(t)){case ot.DOCUMENT_NODE:{let i=t,r=i.activeElement||void 0,o=this.Uw(i);return{type:ot.DOCUMENT_NODE,baseURI:i.baseURI,activeId:r&&q(r),hoveredId:o&&q(o),...this.cp(t),metadata:e}}case ot.DOCUMENT_FRAGMENT_NODE:return{type:ot.DOCUMENT_FRAGMENT_NODE,mode:t.mode,metadata:e};case ot.COMMENT_NODE:return{type:ot.COMMENT_NODE,data:void 0,metadata:e};case ot.ELEMENT_NODE:{let i=t,r=i.namespaceURI||"";return{type:ot.ELEMENT_NODE,namespaceURI:r in Cc?Cc[r]:r,localName:i.localName,attributes:this.jw(i),state:this.lp(i),metadata:e}}case ot.TEXT_NODE:return{type:ot.TEXT_NODE,data:t.data||"",metadata:e};case ot.CDATA_SECTION_NODE:return{type:ot.CDATA_SECTION_NODE,data:t.data,metadata:e};case ot.DOCUMENT_TYPE_NODE:return{type:ot.DOCUMENT_TYPE_NODE,name:t.name,publicId:t.publicId,systemId:t.systemId,metadata:e};default:return null}}jw(t){return csArray.prototype.reduce.call(csArray.from(t.attributes),(e,i)=>{let r=e||{};return r[s.stringifyAttrKey(i.namespaceURI,i.name)]=i.value,r},void 0)}cp(t){let e=t.defaultView,i=e==null?void 0:e.visualViewport;return{state:{scrollX:e==null?void 0:e.scrollX,scrollY:e==null?void 0:e.scrollY,visibility:t.visibilityState},viewport:{width:i==null?void 0:i.width,height:i==null?void 0:i.height},screen:{width:e==null?void 0:e.screen.width,height:e==null?void 0:e.screen.height}}}lp(t){let e={};return"value"in t&&t.value&&(e.value=t.value),"selectedIndex"in t&&t.selectedIndex!==void 0&&t.selectedIndex>=0&&(e.selectedIndex=t.selectedIndex),"checked"in t&&t.checked&&(e.checked=t.checked),t.popover&&t.matches(":popover-open")?e.popover=!0:t.localName==="dialog"&&(e.open=t.open),t.scrollLeft&&(e.scrollX=t.scrollLeft),t.scrollTop&&(e.scrollY=t.scrollTop),e}xw(){var t;((t=this.Hw)===null||t===void 0?void 0:t.isEnded)!==!1&&(this.Hw=Ci(e=>(this.Cn(e),this.hp(),!this.oh.isEmpty())))}hp(){if(!this.A||this.kr)return;let t=performance.now()-this.np,e=Math.max(0,this.rp-t);this.kr=csSetTimeout(()=>{this.kr=void 0;let i=this.getChanges();this.np=performance.now(),i&&this.A(i,this.getState())},e)}Bw(t){for(let e=t==null?void 0:t.previousSibling;e;e=e.previousSibling)if(this.Ps(e))return q(e)}Fw(t){var e;let i=csNodeparentNode.apply(t)||t.host||((e=t.defaultView)===null||e===void 0?void 0:e.frameElement);if(this.Ps(i))return q(i)}Aa(t){let e=new ho;e.pushMany(this.up(t,!1)),!e.isEmpty()&&Ci(i=>{let r;for(;i.hasTimeLeft&&(r=e.shift());){e.pushMany(this.up(r));let o=csNodenextSibling.apply(r);o&&e.push(o)}return!!r})}$w(t){switch(t){case ot.DOCUMENT_NODE:return"contentDocument";case ot.DOCUMENT_FRAGMENT_NODE:return"shadowRoot";default:return"childList"}}In(t){Ci(()=>{let e=t.ownerNode;if(e&&(!this.bn(e)||!this.Ps(e)))return!1;if(this.dp(t),e&&this.Ps(e)){let i=q(e);this.bt(i).sheetId=q(t)}return!1})}fp(t){let e=0,i=q(t),r=t.adoptedStyleSheets||[],o=r.length,c={};Ci(l=>{if(!this.Ps(t)||!this.bn(t)||r!==t.adoptedStyleSheets)return!1;for(;l.hasTimeLeft&&e<o;){let f=r[e];c[e]=this.Ps(f)?q(f):this.dp(f),e+=1}if(e<o)return!0;let h=this.bt(i);return h&&(h.adoptedStyleSheets=c),!1})}dp(t){let e=q(t);return this.pp(e,this.Lw(t)),e}pp(t,e){this.serializedNodeCount++,this.We[t]=e,this.hp(),this.Ye.has(t)||this.Ye.set(t,null)}Ps(t){return q(t)in this.We}gp(t){var e;if(t.localName!=="iframe")return!1;let i=t;try{return!!i.contentDocument&&!!(!((e=i.contentWindow)===null||e===void 0)&&e.document)}catch{return!1}}mp(t){let e=q(t),i=this.We[e];if(!i){Os.warn(`No serialized node id ${e}`);return}let r=this.Fw(t);if(!r){Os.warn("No parent id for node",t);return}let o=this.$w(i.type);if(o==="childList"){let c=this.Bw(t);this.ah(e,c,r,!0)}else{let c=this.bt(r);c[o]=e,i.parent=r}}*up(t,e=!0){var i,r,o;if(!this.bn(t))return;if(this.Ps(t)){e&&this.mp(t);return}let c=q(t),l=this.Vw(t);if(!l){Os.warn("Node was not serialized",t);return}switch(this.pp(c,l),e&&this.mp(t),l.type){case ot.DOCUMENT_NODE:case ot.DOCUMENT_FRAGMENT_NODE:{let f=t;this.Dr.set(c,f),this.z.observe(f),!((i=f.adoptedStyleSheets)===null||i===void 0)&&i.length&&this.fp(f);break}case ot.ELEMENT_NODE:{let f=t;switch(l.localName){case"iframe":this.gp(f)&&(yield f.contentDocument);break;case"link":f.rel==="stylesheet"&&f.sheet&&this.In(f.sheet);break;case"style":{let u=f.sheet;u&&this.In(u);break}default:Zp(l.localName)&&(!((o=(r=t.ownerDocument)===null||r===void 0?void 0:r.defaultView)===null||o===void 0)&&o.customElements.get(l.localName))&&this.yp(q(t.ownerDocument),l.localName),csElementshadowRoot.apply(f)&&(yield csElementshadowRoot.apply(f));break}break}}let h=csNodefirstChild.apply(t);h&&(yield h)}yp(t,e){let i=this.bt(t),r=i.customElements||(i.customElements={});r[e]=1}ch(t){let e=this.bt(t);if(e){switch(e.type){case ot.DOCUMENT_NODE:case ot.DOCUMENT_FRAGMENT_NODE:this.z.disconnect(this.Dr.get(t)),this.Dr.delete(t)}delete this.We[t];for(let{nodeId:i}of s.nodeRelationsEntries(e))this.ch(i)}}ah(t,e,i,r){let o;if(e){let c=this.bt(e);o=c.nextSibling,c.nextSibling=t}else{let c=this.bt(i);o=c.firstChild,c.firstChild=t}if(r&&t&&o!==t){let c=this.bt(t);if(c.nextSibling=o,o){let l=this.bt(o);l.previousSibling=t}}if(t){let c=this.bt(t);c.parent=i,c.previousSibling=e}}zw(t){var e;let i=this.bt(t),r=new Set;for(let o=i==null?void 0:i.firstChild;o;o=(e=this.bt(o))===null||e===void 0?void 0:e.nextSibling)r.add(o);return r}bn(t){return"isConnected"in t?t.isConnected:!t.ownerNode||t.ownerNode.isConnected}Gw(t){let e=this.bt(t);e&&(e.parent=void 0,e.nextSibling=void 0,e.previousSibling=void 0)}Cn(t){var e;let i;for(;t.hasTimeLeft&&(i=this.oh.shift());){if(this.processedMutationsCount++,!this.Ps(i.target)||!this.bn(i.target))continue;let r=q(i.target);switch(i.type){case"attachShadow":{this.Aa(i.shadowRoot),this.bt(r).shadowRoot=q(i.shadowRoot);break}case"childList":{let o,c=this.zw(r);for(let h=csNodefirstChild.apply(i.target);h;h=csNodenextSibling.apply(h)){this.Ps(h)||this.Aa(h);let f=q(h);c.delete(f),this.ah(f,o,r),o=f}this.ah(void 0,o,r);for(let h of c)this.Gw(h),this.ch(h);let l=this.bt(r);if(l.type===ot.ELEMENT_NODE&&l.localName==="style"){let h=i.target.sheet;h&&this.In(h)}break}case"characterData":{let o=this.bt(r);o.type===ot.TEXT_NODE&&(o.data=i.target.data,((e=i.target.parentElement)===null||e===void 0?void 0:e.localName)==="style"&&this.In(i.target.parentElement.sheet));break}case"attributes":{let o=s.stringifyAttrKey(i.attributeNamespace,i.attributeName),c=i.target,l=this.bt(r),h=c.getAttributeNS(i.attributeNamespace,i.attributeName);l.attributes=l.attributes||{},h===null?delete l.attributes[o]:l.attributes[o]=h;break}case"state":{let o=this.bt(r);o.type===ot.DOCUMENT_NODE?Object.assign(o,this.cp(i.target)):o.state=this.lp(i.target);break}case"setAdoptedStyleSheets":{this.fp(i.target);break}case"styleSheetUpdated":{this.In(i.target);break}case"styleSheetDisabledChanged":{let o=this.bt(r);o.disabled=i.target.disabled;break}case"loaded":{switch(i.target.localName){case"link":{let o=i.target;o.rel==="stylesheet"&&o.sheet&&this.In(o.sheet);break}case"iframe":{let o=i.target,c=this.bt(r),l=o.contentDocument,h=l&&q(l);c.contentDocument&&c.contentDocument!==h&&(this.ch(c.contentDocument),delete c.contentDocument),this.gp(o)&&this.Aa(l);break}}break}case"activeElementChanged":{let o=this.bt(r),c=i.target.activeElement||void 0;o.activeId=c&&q(c);break}case"pointerOverElement":{let o=this.bt(r),c=i.element||void 0;o.hoveredId=c&&q(c);break}case"customElementRegistration":{this.yp(r,i.name);break}}}}}return s})(),NE=(()=>{class s extends gi{constructor(t){super(),this.Q=t}isListening(t){return t.type==="DOM_INITIAL_STATE"||ui.isDOMEvent(t)&&t.domEvent==="initialDOM"}processEvent(t){if(ui.isDOMEvent(t))t.initialDOM.baseURI=this.Q.anonymizeUrl(t.initialDOM.baseURI);else for(let e of OE.findNodes(t.state,i=>i.type===ot.DOCUMENT_NODE))e&&e.type===ot.DOCUMENT_NODE&&(e.baseURI=this.Q.anonymizeUrl(e.baseURI));return t}}return ge([Nt("UrlAnonymizationProcessor.processEvent")],s.prototype,"processEvent",null),s})(),ME="textarea",DE=(()=>{class s extends gi{isListening(t){return t.type==="DOM_PATCH"||t.type==="DOM_INITIAL_STATE"||ui.isDOMEvent(t)&&(t.domEvent==="initialDOM"||t.domEvent==="nodesAdded"||t.domEvent==="characterDataChanged")}processEvent(t){if(t.type==="DOM_PATCH"||t.type==="DOM_INITIAL_STATE")return this.zl(t),t;switch(t.domEvent){case"initialDOM":case"nodesAdded":this.qw(t);break;case"characterDataChanged":this.Ww(t);break}return t}zl(t){let e=t.type==="DOM_PATCH"?t.diff:t.state,i=t.state;for(let r of Object.keys(e)){let o=e[r],c=i[r];if(!c.parent||!("data"in o)||c.type!==3)continue;let l=i[c.parent];this.Ep(o,c.metadata,l.localName)}}qw(t){let e=t.domEvent==="initialDOM"?[t.initialDOM]:t.nodes;for(let i of e)at.traverse(i,(r,o)=>{var c;let l=(c=o==null?void 0:o.localName)!==null&&c!==void 0?c:t.targetLocalName,h=r.props;r.nodeType===3&&this.Ep(r,h,l)})}Ep(t,e,i){this.Sp(i,e)&&(t.data=this.vp(t.data))}Ww(t){this.Sp(t.parentLocalName,t.targetProps)&&(t.newValue=this.vp(t.newValue))}vp(t){return csString.prototype.replace.call(t,/\S/g,"\u2022")}Sp(t,e){return t===ME||(e==null?void 0:e[Ve.EDITABLE_NODE_PROP])===!0}}return ge([Nt("AnonymizedEditableTextProcessor.processEvent")],s.prototype,"processEvent",null),s})();var lh=!0,Nn=csSymbol("safe"),Ic=csSymbol("task");function yt(s,n=lh){var t;(t=s[Nn])!==null&&t!==void 0||(s[Nn]=function(e){let i=arguments;Vs(()=>(e[Ic]=Ht,s.listener.apply(s.boundElement,i)),[Ce.EventListener,s.type],e[Ic])}),s.boundElement.addEventListener(s.type,s[Nn],n)}function Et(s,n=lh){s.boundElement.removeEventListener(s.type,s[Nn],n)}var kE=(()=>{class s{constructor(t){this.A=t,this.Yt={boundElement:window,type:"resize",listener:()=>this.resizeListener()},this.A=t}observe(){yt(this.Yt),this.lh()}lh(){this.resizeListener()}disconnect(){Et(this.Yt)}resizeListener(){let t={width:_t.windowWidth(),height:_t.windowHeight()};this.A(t)}}return st([N("resize")],s.prototype,"resizeListener",null),s})(),as=(()=>{let s;return function(n){n.PORTRAIT="Portrait",n.LANDSCAPE="Landscape"}(s||(s={})),s})(),vn=(()=>{let s;return function(n){n.PORTRAIT_PRIMARY="portrait-primary",n.PORTRAIT_SECONDARY="portrait-secondary",n.LANDSCAPE_PRIMARY="landscape-primary",n.LANDSCAPE_SECONDARY="landscape-secondary"}(s||(s={})),s})(),wn=(()=>{let s;return function(n){n[n.PORTRAIT=0]="PORTRAIT",n[n.PORTRAIT_REVERSE=180]="PORTRAIT_REVERSE",n[n.LANDSCAPE=-90]="LANDSCAPE",n[n.LANDSCAPE_REVERSE=90]="LANDSCAPE_REVERSE"}(s||(s={})),s})(),xE=(()=>{let s;return function(n){let t=null;n.isScreenOrientationApiSupported=()=>{var c;return t!=null?t:t=!!(!((c=rt.screen)===null||c===void 0)&&c.orientation)},n.isDeprecatedScreenOrientationApiSupported=()=>"orientation"in rt;function e(){return as.LANDSCAPE}function i(){var c;switch((c=rt.screen.orientation)===null||c===void 0?void 0:c.type){case vn.PORTRAIT_PRIMARY:case vn.PORTRAIT_SECONDARY:return as.PORTRAIT;case vn.LANDSCAPE_PRIMARY:case vn.LANDSCAPE_SECONDARY:return as.LANDSCAPE;default:return as.PORTRAIT}}function r(){switch(window.orientation){case wn.PORTRAIT:case wn.PORTRAIT_REVERSE:return as.PORTRAIT;case wn.LANDSCAPE:case wn.LANDSCAPE_REVERSE:return as.LANDSCAPE;default:return as.PORTRAIT}}function o(){return n.isScreenOrientationApiSupported()?i():n.isDeprecatedScreenOrientationApiSupported()?r():e()}n.getCurrentOrientation=o}(s||(s={})),s})(),LE=(()=>{class s extends Ee{constructor(){super(...arguments),this.hh=null,this.uh=null,this.si=new kE(t=>{this.produceEvent({...t,type:"viewportResize"}),this.onScreenPotentiallyChanged()})}onScreenPotentiallyChanged(){let t=xE.getCurrentOrientation(),{screenWidth:e,screenHeight:i}=this.Yw(t);if(e!==this.hh||i!==this.uh){this.hh=e,this.uh=i;let r={type:"screenResize",width:e,height:i};this.produceEvent(r)}}Yw(t){let e,i,r=_t.screenWidth(),o=_t.screenHeight();return t===as.PORTRAIT?(e=r,i=o):(e=Math.max(r,o),i=Math.min(r,o)),{screenWidth:e,screenHeight:i}}onStart(){this.si.observe()}onStop(){this.hh=null,this.uh=null,this.si.disconnect()}}return s})();function UE(s){let n=csEventtarget.apply(s);return n&&ft(n)&&csElementshadowRoot.apply(n)&&s.composedPath?s.__csOriginalTarget||s.composedPath()[0]:n}var me=(()=>{class s{get selectors(){return this.Xe===""?null:this.Xe}constructor(t,e={closest:!1}){this.A=t,this.It=e,this.Xe="",this.Lr=new en,this.Cn=js(i=>{if(this.Xe==="")return;let r=[];for(let o of Oo(i,c=>c.addedNodes)){if(!(Jd(o)||this.It.closest&&Ln(o)))continue;let c=this.It.closest?this.Xw(o,this.Xe):this.findMatchingElements(o,this.Xe);Ha(c,r)}r.length&&this.A(r,"added")},"SelectorObserver.processMutations"),this.Kw=(i,r)=>{if(this.Xe===""||r!=="added")return;let o=this.findMatchingElements(i,this.Xe);o.length&&this.A(o,"added")},this.z=new ye(this.Cn,this.Kw)}observe(t){this.Xe===""?this.z.observe():this.Xe+=",",this.Xe+=t;let e=this.findMatchingElements(document,t);for(let i of this.z.shadowRoots){let r=this.findMatchingElements(i,t);Ha(r,e)}e.length&&(X(e,i=>{this.Lr.add(i)}),this.A(e,"initial"))}processPendingMutations(){this.Cn(this.z.takeRecords())}disconnect(){this.z.disconnect(),this.Lr.clear(),this.Xe=""}Xw(t,e){let i=[];if(Ln(t)){if(t.parentElement){let r=li(t.parentElement,e);r&&csArray.prototype.push.call(i,r)}return csArray.prototype.filter.call(i,r=>this.Lr.has(r)===!1)}else{if(Re(t)){let r=li(t,e);if(r)return csArray.prototype.push.call(i,r),csArray.prototype.filter.call(i,o=>this.Lr.has(o)===!1)}return this.findMatchingElements(t,e)}}findMatchingElements(t,e){let i=ri(window.csquerySelectorAll[t.nodeType].call(t,e));return ft(t)&&ee.call(t,e)&&csArray.prototype.push.call(i,t),csArray.prototype.filter.call(i,r=>this.Lr.has(r)===!1)}}return st([N()],s.prototype,"observe",null),st([N()],s.prototype,"disconnect",null),st([Nt("SelectorObserver.findMatchingElements")],s.prototype,"findMatchingElements",null),s})(),VE=(()=>{class s extends Ee{constructor(){super(),this.wp=t=>{let e=UE(t);e&&this.fh(e,t.type)},this.ge=new pi((t,e)=>{switch(e){case"initial":case"added":this._p(t);break;case"removed":this.bp(t);break}}),this.G=new me((t,e)=>{(e==="initial"||e==="added")&&this.Jw(t)})}static shouldProcessElement(t){return t.tagName==="VIDEO"&&Z.isConnected(t)&&!k.isMaskedElement(t)&&!k.isMaskedElementChild(t)}static isPlaying(t){return!t.paused&&!t.ended}onStart(){this._p(document),this.ge.observe(),this.G.observe("video")}onStop(){this.bp(document),this.ge.disconnect(),this.G.disconnect()}fh(t,...e){if(this.isStarted&&s.shouldProcessElement(t))for(let i of e){let r=q(t),o={type:"VideoEvent",videoEventType:i,nodeId:r};i==="seeked"&&(o.newTimePositionInSec=t.currentTime),Po(()=>this.produceEvent(o))}}Jw(t){for(let e of t)this.fh(e,"seeked"),s.isPlaying(e)&&this.fh(e,"play")}_p(t){for(let e of["play","pause","seeked"])yt({type:e,listener:this.wp,boundElement:t})}bp(t){for(let e of["play","pause","seeked"])Et({type:e,listener:this.wp,boundElement:t})}}return s})();function jE(s){return s.nodeName==="SELECT"}function ia(s){return s.nodeName==="INPUT"}function HE(s){return s.nodeName==="TEXTAREA"||ia(s)&&!hh(s)&&!uh(s)}function hh(s){return ia(s)&&s.type==="number"}function uh(s){return ia(s)&&(s.type==="checkbox"||s.type==="radio")}var BE=(()=>{class s extends Ee{constructor(t){super(),this.ht=t,this.ph=new Oy("low"),this.On=e=>this.inputHandler(e),this.Di=[],this.Qw(),this.Zw(),this.G=new me(e=>{for(let i of e)this.gh(i)&&$t(()=>{this.mh(i,q(i))},"low")}),this.ge=new pi((e,i)=>{switch(i){case"initial":case"added":yt({type:"change",listener:this.On,boundElement:e});break;case"removed":Et({type:"change",boundElement:e,listener:this.On});break}})}onStart(){yt({type:"keyup",boundElement:document,listener:this.On}),yt({type:"change",boundElement:document,listener:this.On}),X(this.Di,t=>t.activate()),this.G.observe(csArray.prototype.join.call(s.t_,",")),this.ge.observe()}onStop(){Et({type:"keyup",boundElement:document,listener:this.On}),Et({type:"change",boundElement:document,listener:this.On}),X(this.Di,t=>t.deactivate()),this.G.disconnect(),this.ge.disconnect(),this.ph.clear()}mh(t,e){var i,r,o;if(this.ph.has(t))return;if(this.ph.add(t),jE(t)){let h={type:"InputEvent",inputType:"select",target:q(t),selectedIndex:t.selectedIndex,timestamp:C.now()};this.produceEvent(h);return}if(uh(t)){let h={type:"InputEvent",inputType:"checkable",target:q(t),checked:t.checked,timestamp:C.now()};this.produceEvent(h);return}let c=HE(t),l=hh(t);if(c||l){let h=(i=t.value)!==null&&i!==void 0?i:"";if(!((r=this.ht)===null||r===void 0)&&r.shouldEncrypt(t)){(o=this.ht)===null||o===void 0||o.registerInputNodeToEncrypt({targetId:e,targetValue:h,date:C.now()});return}let f=l?"0":"\u2022",u={type:"InputEvent",inputType:"text",target:q(t),value:csString.prototype.replace.call(h,/\S/g,f),timestamp:C.now()};this.produceEvent(u)}}inputHandler(t){if(!this.isStarted)return;let e=Ot(t),i=q(e);!i||!this.gh(e)||Z.isConnected(e)&&$t(()=>{this.mh(e,i)},"low")}Qw(){this.trackChanges(HTMLInputElement,"checked"),this.trackChanges(HTMLInputElement,"value"),this.trackChanges(HTMLTextAreaElement,"value")}Zw(){this.trackChanges(HTMLSelectElement,"selectedIndex"),this.trackChanges(HTMLSelectElement,"value"),this.trackChanges(HTMLOptionElement,"selected",!0)}trackChanges(t,e,i=!1){let r=zn(t.prototype,e,(o,c,l)=>{if(l!==c&&Z.isConnected(o)){let h=i?o.parentElement:o;this.e_(h)}});r&&csArray.prototype.push.call(this.Di,r)}gh(t){return!k.isMaskedElement(t)&&!k.isMaskedElementChild(t)&&(ys(t)||ai(t)||oi(t))}e_(t){if(this.isStarted&&Z.isConnected(t)){let e=q(t);e&&this.gh(t)&&$t(()=>{this.mh(t,e)},"low")}}}return s.t_=["textarea","input:not([type])",'input[type="text"]','input[type="email"]','input[type="search"]','input[type="tel"]','input[type="url"]','input[type="password"]','input[type="number"]','input[type="checkbox"]','input[type="radio"]',"select"],ge([ut()],s.prototype,"inputHandler",null),ge([N()],s.prototype,"trackChanges",null),s})();var FE=(()=>{class s{constructor(t=Number.POSITIVE_INFINITY){this.ii=[],this.ot=[],this.s_=t}next(t){this.ot.length===this.s_&&csArray.prototype.shift.call(this.ot),csArray.prototype.push.call(this.ot,t),this.ot.length===1&&csSetTimeout(()=>this.clear());for(let e of this.ii)e(t)}subscribe(t){if(Us(this.ii,i=>t===i))return()=>{this.ii=csArray.prototype.filter.call(this.ii,i=>i!==t)};csArray.prototype.push.call(this.ii,t);for(let i of this.ot)t(i);return()=>{this.ii=csArray.prototype.filter.call(this.ii,i=>i!==t)}}clear(){this.ot=[]}hasObservers(){return this.ii.length>0}}return s})(),dh=(()=>{var s;class n{constructor(e){this.A=e}observe(){this.i_=s.Ur.subscribe(e=>this.A(e)),s.Ra||(s.Ra=!0,s.Pr.observe(),Xt(document,NodeFilter.SHOW_ELEMENT).visitAll(i=>{s.Is.add(i),s.Ur.next(i)}))}disconnect(){s.Ra&&(this.i_(),s.Ur.hasObservers()||(s.Ra=!1,s.Pr.disconnect(),s.Ur.clear(),s.Is.clear()))}}return s=n,n.Is=new en,n.Ur=new FE,n.n_=js(t=>{$t(()=>{for(let e of t)e.type==="childList"&&X(e.addedNodes,i=>{Xt(i,NodeFilter.SHOW_ELEMENT).visitAll(o=>{s.Is.has(o)||(s.Is.add(o),s.Ur.next(o))})})})},"ElementObserver.findAllElements"),n.Ra=!1,n.Pr=new ye(s.n_),st([N()],n.prototype,"observe",null),st([N()],n.prototype,"disconnect",null),n})(),$E=(()=>{class s extends Ee{constructor(){super(),this.Os=typeof window.customElements=="object"&&typeof window.customElements.whenDefined=="function"&&typeof window.Promise=="function",this.r_=ms("CustomElementRegistrationProducer:onElementsFound",e=>{for(let i of e)k.isMaskedElement(i)||k.isMaskedElementChild(i)||Zd(i)&&this.register(csString.prototype.toLowerCase.call(i.tagName))});let t=Zn(this.r_);this.Vr=new dh(e=>t.push(e)),this.ei=new Set}onStart(){this.Os&&this.Vr.observe()}onStop(){this.ei.clear(),this.Vr.disconnect()}async register(t){this.ei.has(t)||(this.ei.add(t),await window.customElements.whenDefined(t),this.produceEvent({type:"CustomElementRegistration",tagName:csString.prototype.toLowerCase.call(t)}))}}return ge([N()],s.prototype,"register",null),s})(),Pc=(()=>{class s{static isNavigationTimingObserverSupported(){var t,e;return(((t=window.PerformanceObserver)===null||t===void 0?void 0:t.supportedEntryTypes)==null?void 0:csArray.prototype.indexOf.call((e=window.PerformanceObserver)===null||e===void 0?void 0:e.supportedEntryTypes,"navigation"))>=0}static getTimeOrigin(){return window.performance.timeOrigin}static Tp(){if(this.isNavigationTimingObserverSupported())return new window.PerformanceObserver(t=>s.o_(t))}static o_(t){let i=t.getEntriesByType("navigation")[0];i&&(this.ki=i,s.Nn(i))}static br(t){this.a_(t),this.ki&&t(this.ki),this.Ve||this.c_()}static a_(t){this.xt.add(t)}static l_(t){this.xt.delete(t)}static c_(){if(this.jr||(this.jr=this.Tp()),!this.jr){this.ki||(this.ki={requestStart:window.performance.timing.requestStart,domInteractive:window.performance.timing.domInteractive}),this.Nn(this.ki);return}this.jr.observe({type:"navigation",buffered:!0}),this.Ve=!0}static Nn(t){this.xt.forEach(e=>e(t))}static Ar(t){this.l_(t),this.xt.size===0&&this.Hr()}static Hr(){var t;this.Ve&&((t=this.jr)===null||t===void 0||t.disconnect(),this.Ve=!1,this.ki=null,this.jr=this.Tp())}constructor(t){this.A=t}observe(){s.br(this.A)}disconnect(){s.Ar(this.A)}}return s.Ve=!1,s.xt=new Set,s.ki=null,s})(),zE=(()=>{class s extends Ee{constructor(){super(...arguments),this.Ca=null,this.Ap=new Pc(t=>{if(this.Ca)return;let e=this.h_(t);e&&(this.Ca=e,this.produceEvent(e))})}onStart(){if(this.Ca){this.produceEvent(this.Ca);return}this.Ap.observe()}onStop(){this.Ap.disconnect()}h_(t){let e=Pc.getTimeOrigin();return{type:"PerformanceTiming",timings:{timeOrigin:e,requestStart:Math.floor(e+t.requestStart),domInteractive:Math.floor(e+t.domInteractive)},timestamp:C.now()}}}return s})(),Ct=(()=>{let s;return function(n){n[n.TAP=0]="TAP",n[n.LONG_PRESS=1]="LONG_PRESS",n[n.DRAG=2]="DRAG",n[n.FLICK=3]="FLICK",n[n.PINCH_IN=4]="PINCH_IN",n[n.PINCH_OUT=5]="PINCH_OUT"}(s||(s={})),s})(),_n=(()=>{let s;return function(n){n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n[n.LEFT=3]="LEFT",n[n.RIGHT=4]="RIGHT"}(s||(s={})),s})(),GE=(()=>{class s{compute(t,e){let i=this.ni(e.x)-this.ni(t.x),r=this.ni(e.y)-this.ni(t.y),o=e.time-t.time;return{duration:o,distance:this.Rp(i,r),direction:this.u_(i,r),velocity:this.d_(i,r,o)}}computePinchMetrics(t,e){let i=this.ni(e.x)-this.ni(t.x),r=this.ni(e.y)-this.ni(t.y);return{duration:e.time-t.time,distance:this.Rp(i,r)}}getScale(t,e){return Math.abs(e/t-1)}ni(t){return t/window.devicePixelRatio}Rp(t,e){return Math.round(Math.sqrt(t*t+e*e))}d_(t,e,i){let r=i/1e3,o=t/r,c=e/r;return Math.round(Math.abs(o)+Math.abs(c))}u_(t,e){return Math.abs(t)>Math.abs(e)?t>0?_n.RIGHT:_n.LEFT:e>0?_n.DOWN:_n.UP}}return s})(),fh=typeof performance!="undefined"&&!!performance.now,Oc=fh?()=>performance.now():()=>csDate.now(),qE=(()=>{var s;return fh?(s=performance.timing)===null||s===void 0?void 0:s.navigationStart:0})(),bn={now(){return Math.round(Oc()+qE)},elapsed(){return Oc()}};function Nc(s,n=0){let t=Math.pow(10,n);return Math.round(s*t)/t}var WE=1e3,YE=100,XE=.1,fo=(()=>{class s{constructor(){this.Xt={},this.yh=()=>{},this.Ia=new GE,this.Ie()}static isGestureDetectionSupported(){return typeof devicePixelRatio!="undefined"}onGesture(t){this.yh=t}isValidTouchEvent(t){return"touches"in t&&"changedTouches"in t}processActionDown(t){if(!this.f_(t))return;this.p_(t)&&this.Ie();let e={x:t.touches[0].clientX,y:t.touches[0].clientY,time:bn.now()};if(t.touches.length===1)this.Xt.startPinchTime=e.time,this.Xt.firstTouch=e;else if(t.touches.length===2&&(this.Xt.secondTouch={x:t.touches[1].clientX,y:t.touches[1].clientY,time:bn.now()},this.Xt.firstTouch&&this.Xt.secondTouch)){let i=this.Ia.computePinchMetrics(this.Xt.firstTouch,this.Xt.secondTouch);this.Mn=i.distance}csArray.prototype.push.call(this.Br,e),this.Pa=Ot(t)}processActionMove(){this.Eh=!0}processActionUp(t){if(this.g_(t)){if(csArray.prototype.push.call(this.Br,{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:bn.now()}),this.m_(t)&&this.Xt.startPinchTime){let e={x:t.touches[0].clientX,y:t.touches[0].clientY,time:this.Xt.startPinchTime},i={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:bn.now()};this.Xt.firstTouch&&(this.Xt.firstTouch=e,this.Xt.secondTouch=i),this.y_(t)}this.Mn||this.E_()&&this.S_(t)}}Ie(){this.Br=[],this.Pa=null,this.Eh=!1,this.Mn=null,this.Fr=!0}S_(t){let e=this.Ia.compute(this.Br[0],this.Br[1]);this.Fr=t.isTrusted;let i=this.Eh?this.v_(e):this.w_(e);if(this.__(i.type,t.changedTouches)){let r=t.changedTouches[0];i.pageX=Nc(r.pageX,1),i.pageY=Nc(r.pageY,1)}this.yh(i,t)}y_(t){if(!(this.Xt.firstTouch&&this.Xt.secondTouch))return;let e=this.Ia.computePinchMetrics(this.Xt.firstTouch,this.Xt.secondTouch);this.Fr=t.isTrusted;let i=this.b_(e);i&&this.yh(i,t)}b_(t){return!this.Mn||this.Ia.getScale(this.Mn,t.distance)<XE?void 0:{type:this.Mn>t.distance?Ct.PINCH_IN:Ct.PINCH_OUT,target:this.Pa,distance:t.distance,isTrusted:this.Fr}}v_(t){return{type:t.velocity<YE?Ct.DRAG:Ct.FLICK,target:this.Pa,velocity:t.velocity,distance:t.distance,direction:t.direction,isTrusted:this.Fr}}w_(t){return{type:t.duration<WE?Ct.TAP:Ct.LONG_PRESS,target:this.Pa,isTrusted:this.Fr}}__(t,e){return t===Ct.TAP&&e&&e.length===1}p_(t){return t.touches.length===1}E_(){return this.Br.length===2}f_(t){return t.touches.length>0}g_(t){return t.changedTouches.length>0}m_(t){return this.Eh&&!!this.Mn&&t.changedTouches.length===1&&t.touches.length===1}}return s})(),KE="touchstart",JE="touchmove",QE="touchend",ph=(()=>{class s{constructor(t){this.A=t}observe(){s.Cp&&s.Sh(this.A)}disconnect(){s.Cp&&s.xr(this.A)}static T_(t,e){csArray.prototype.forEach.call($e(s.xt),i=>i(t,e))}static Sh(t){s.xt.has(t)||(s.xt.add(t),s.xt.size===1&&(s.$r.onGesture(s.T_),csArray.prototype.forEach.call(s.oi,e=>yt(e))))}static xr(t){s.xt.delete(t),s.xt.size===0&&csArray.prototype.forEach.call(s.oi,e=>Et(e))}static vh(t){if(s.$r.isValidTouchEvent(t))switch(t.type){case"touchstart":s.$r.processActionDown(t);break;case"touchmove":s.$r.processActionMove();break;case"touchend":s.$r.processActionUp(t);break}}}return s.oi=[{boundElement:rt.document,type:KE,listener:n=>s.vh(n)},{boundElement:rt.document,type:JE,listener:n=>s.vh(n)},{boundElement:rt.document,type:QE,listener:n=>s.vh(n)}],s.Cp=fo.isGestureDetectionSupported(),s.xt=new Set,s.$r=new fo,s})(),ZE=(()=>{class s extends Ee{constructor(){super(),this.zr=new ph(this._h.bind(this))}onStart(){this.zr.observe()}onStop(){this.zr.disconnect()}_h(t){let e=this.A_(t);e&&this.produceEvent(e)}A_(t){return this.R_(t)?{type:"Gesture",targetId:q(t.target),data:{type:t.type,direction:t.direction,distance:t.distance,velocity:t.velocity,pageX:t.pageX,pageY:t.pageY}}:null}R_(t){return t.target!==null&&!(ft(t.target)&&k.isMaskedElementChild(t.target))}}return s})(),gh=(()=>{class s{constructor(t){this.A=t,this.ai=!1,this.Yt={boundElement:rt,type:"error",listener:e=>this.C_(e)}}observe(){yt(this.Yt,this.ai)}disconnect(){Et(this.Yt,this.ai)}C_(t){this.A(t)}}return s})(),tS=(()=>{class s extends Ee{constructor(){super(...arguments),this.Ip=new gh(t=>this.Oa(t))}Oa({message:t,filename:e,lineno:i,colno:r}){t=t!=null?t:"[NO ERROR MESSAGE]",e=!e||oe(e)?"":e,this.produceEvent({type:"JSError",message:t,filename:e,lineno:i,colno:r})}onStart(){this.Ip.observe()}onStop(){this.Ip.disconnect()}}return s})(),eS=(()=>{class s extends gi{constructor(t){super(),this.I_=t,this.bh=1024,this.Th=150}isListening(t){return t.type==="JSError"}processEvent(t){return t.message=W.truncate(t.message,this.bh,W.ELLIPSIS),t.filename=W.truncate(t.filename,this.Th,W.ELLIPSIS),this.I_(t)}}return s})();var Js=[],po=!1,mh=js(iS,"executeTasks");function sS(s){if(csArray.prototype.push.call(Js,s),!po){for(let n=0;n<3;n++)csSetTimeout(mh);po=!0}}function iS(){let s=csDate.now();for(let n=0;n<Js.length;n++)if(Js[n](),csDate.now()-s>=35){Js=csArray.prototype.slice.call(Js,n+1),csSetTimeout(mh);return}Js=[],po=!1}var ns=(()=>{let s;return function(n){n[n.Started=0]="Started",n[n.Stopped=1]="Stopped",n[n.Processing=2]="Processing",n[n.Completed=3]="Completed"}(s||(s={})),s})(),yh=(()=>{class s{constructor(){this.vt=new Wi,this.Mt=ns.Stopped,this.A=null,this.Op=t=>{this.Mt===ns.Stopped||!t||(this.A(t),this.Np())}}get queueLength(){return this.vt.length}start(t){if(this.A)throw new Error("callback already set");this.Mt=ns.Started,this.A=t}push(t){this.vt.push(t),this.Ih()}stop(){this.A=null,this.Mt=ns.Stopped,this.vt.clear()}static pipe(t,e){let i=t,r=new csArray;for(let c of e){let l=new s;l.start(h=>{c.pushEvent(h)}),csArray.prototype.push.call(r,l),X(i,h=>h.subscribe(f=>l.push(f))),i=[c]}let o=new nS(r);return X(i,c=>c.subscribe(l=>o.push(l))),o}Mp(){return this.Mt===ns.Stopped}hs(){return this.Mt===ns.Processing}Np(){if(!this.Mp()){if(this.vt.isEmpty){this.Mt=ns.Completed;return}this.Mt=ns.Processing,sS(()=>{let t=this.vt.pop();t instanceof ta?t.complete(this.Op):this.Op(t)})}}Ih(){this.Mp()||this.hs()||this.Np()}}return s})(),nS=(()=>{class s extends yh{constructor(t){super(),this.Dp=t}get queueLength(){return csArray.prototype.reduce.call(this.Dp,(t,e)=>t+e.queueLength,0)}stop(){super.stop(),X(this.Dp,t=>t.stop())}}return s})(),rS=(()=>{class s{constructor(t,e=[]){this.producers=t,this.processors=e,this.Y=!1,this.xt=[]}get pendingEvents(){var t,e;return(e=(t=this.vt)===null||t===void 0?void 0:t.queueLength)!==null&&e!==void 0?e:0}start(){if(this.Y)throw new Error("Recording is already started.");let t=this.xt;this.vt=yh.pipe(this.producers,this.processors),this.vt.start(e=>csArray.prototype.forEach.call(t,i=>i(e))),X(this.producers,e=>e.start()),X(this.processors,e=>e.start()),this.Y=!0}stop(){this.vt.stop(),this.xt.length=0;for(let t of this.producers)t.stop();for(let t of this.processors)t.stop();this.Y=!1,this.xt=[]}subscribe(t){if(this.Y)throw new Error("Recording is already started.");return csArray.prototype.push.call(this.xt,t),()=>this.xt=csArray.prototype.filter.call(this.xt,e=>e!==t)}}return s})(),oS=2,na=(()=>{class s{constructor(t){this.M_=t,this.Na=0}addString(t){this.Na+=t.length*oS}addArrayBuffer(t){this.Na+=t.byteLength}isThresholdReached(){return this.Na>this.M_}reset(){this.Na=0}}return s})(),aS=(()=>{class s{constructor(t){this.Ma={},this.Pe=new na(t)}save({key:t,metadata:e,events:i}){this.Pe.isThresholdReached()||(this.Pe.addString(t),typeof i=="string"?this.Pe.addString(i):this.Pe.addArrayBuffer(i),!this.Pe.isThresholdReached()&&(this.Ma[t]={metadata:e,events:i}))}recover(t){let e=[];csArray.prototype.forEach.call(this.D_(),i=>{let r=this.Ma[i];r!==void 0&&(delete r.metadata.datatype,csArray.prototype.push.call(e,r),this.k_(i))}),e.length!==0&&(t(e),this.Pe.reset())}D_(){return Object.keys(this.Ma)}k_(t){delete this.Ma[t]}}return s})(),rs=(()=>{let s;return function(n){n[n.NOT_STARTED=0]="NOT_STARTED",n[n.OPEN_IN_PROGRESS=1]="OPEN_IN_PROGRESS",n[n.OPEN_FAILED=2]="OPEN_FAILED",n[n.READY=3]="READY"}(s||(s={})),s})(),cS=(()=>{class s{constructor(t,e,i){this.Dn=t,this.x_=i,this.xi=rs.NOT_STARTED,this.Da=[],this.Ph=0,this.L_=self.origin,this.Oe=typeof window=="object"?"":"worker-",this.Pe=new na(e),this.Gl()}async Gl(){await this.kp(),this.xi===rs.READY?this.U_():this.x_(this.Da)}U_(){csArray.prototype.forEach.call(this.Da,t=>{this.save(t)}),this.Da=[]}async save(t){try{if(this.xi===rs.OPEN_IN_PROGRESS){csArray.prototype.push.call(this.Da,t);return}if(this.xi!==rs.READY||this.Pe.isThresholdReached())return;let{key:e,metadata:i,events:r}=t;if(this.Pe.addString(e),typeof r=="string"?this.Pe.addString(r):this.Pe.addArrayBuffer(r),this.Pe.isThresholdReached())return;await this.ne.put(`${this.L_}/${e}`,new Response(r,{headers:i}))}catch{}}async recover(t){!this.ne&&(await this.kp(),this.xi!==rs.READY)||this.V_(t)}async kp(){try{this.xi=rs.OPEN_IN_PROGRESS,this.ne=await self.caches.open(`${this.Oe}${this.Dn}`),this.xi=rs.READY}catch{this.xi=rs.OPEN_FAILED}}async V_(t){try{if(this.Ph++,this.Ph>1)return;let e=await this.ne.keys();if(e.length===0)return;let i=await this.ne.matchAll(),r=csArray.prototype.map.call(i,c=>{let l={};c.headers.forEach((f,u)=>{l[u]=f}),delete l["content-type"];let h=l.datatype;return delete l.datatype,h==="json"||h==="base64"?c.text().then(f=>({metadata:l,events:f})):c.arrayBuffer().then(f=>({metadata:l,events:f}))}),o=await Promise.all(r);await Promise.all(csArray.prototype.map.call(e,c=>this.ne.delete(c))),t(o),this.Pe.reset()}catch{}finally{this.Ph--}}}return s})(),lS=(()=>{class s{constructor(t){try{this.j_(t)}catch{this.Oh()}}j_(t){self.caches?this.H_(t):this.Oh()}save(t){this.ka.save(t)}recover(t){this.ka.recover(t)}H_(t){this.ka=new cS(t,s.xp,e=>{this.Oh(e)})}Oh(t){this.ka=new aS(s.xp),t&&csArray.prototype.forEach.call(t,e=>{this.ka.save(e)})}}return s.xp=1024*1024*16,s})(),tr=(()=>{let s;return function(n){n.UNCOMPRESSED="0",n.GZIP="2"}(s||(s={})),s})(),Eh=(()=>{class s{}return s})(),Sh=(()=>{class s{constructor(t){this.Lp=[],this.Up=[],this.Ke={},this.xa=t}setQueryParams(t){csArray.prototype.forEach.call(Object.keys(t),e=>{this.Ke[e]=t[e]})}removeQueryParams(t){t?csArray.prototype.forEach.call(t,e=>{delete this.Ke[e]}):this.Ke={}}onBeaconSuccess(t){csArray.prototype.push.call(this.Lp,t)}onBeaconFailure(t){csArray.prototype.push.call(this.Up,t)}send(t){let e=Fi.toQuery({...this.Ke,ct:tr.UNCOMPRESSED}),i=this.B_(e,t);return i?csArray.prototype.forEach.call(this.Lp,r=>r()):csArray.prototype.forEach.call(this.Up,r=>r(this.Ke)),i}B_(t,e){try{if(typeof csNavigatorsendBeacon!="function")return!1;let i=csNavigatorsendBeacon(`${this.xa}?${t}`,e||"");if(i)return i}catch{}return typeof navigator.sendBeacon!="function"?!1:navigator.sendBeacon(`${this.xa}?${t}`,e||"")}}return s})(),hS=(()=>{class s{constructor(t,e){this.w=t,this.C=e,this.Gr=re.ETR_DISABLED,this.La=re.ETR_PENDING,this.Nh=!0}getEtrStatus(t){t===void 0&&(t=this.C.getSession());let e=t==null?void 0:t.etrStatus;return this.Vp()&&e===re.ETR_SAVED_SESSION?e:this.Gr}onEventTriggerRecording(t,e){switch(e){case fs.ETR_PAGE:this.jp(re.ETR_SAVED_PAGE);break;case fs.ETR_LEGACY:case fs.ETR_SESSION:this.jp(re.ETR_SAVED_SESSION);break}}onCollectStateChange(t,e){t===U.RECORDING_TEMPORARILY?this.Nh=!0:this.Nh=!1,t===U.ANALYTICS_ONLY&&e===te.ETR_ON?this.Hp(this.La):this.Hp(re.ETR_DISABLED)}Hp(t){this.Gr=t,this.La=re.ETR_PENDING,this.Bp(t),this.w.emitRecordingContextChange()}jp(t){this.Nh?Number(t)>Number(this.La)&&(this.La=t):this.Vp()&&Number(t)>Number(this.Gr)&&(this.Gr=t,this.Bp(t),this.w.emitRecordingContextChange())}Bp(t){let e=this.C.getSession();e!==null&&e.etrStatus===re.ETR_NOT_SAVED_SESSION&&t===re.ETR_SAVED_SESSION&&(e.etrStatus=t,this.C.setSession(e))}Vp(){return this.Gr!==re.ETR_DISABLED}}return s})(),uS=(()=>{class s{constructor(t=100){this.F_=t,this.Ua={},this.qr=null,this.Ql="original-resource-name"}onEvent(t){this.$_=t}processEvent(t){this.z_(t.resourceId,t.resource.hash,t.originalResourceName),this.G_(t)}flushEvents(){this.qr&&csClearTimeout(this.qr),this.Fp()}onSendStaticResource(t){this.G_=t}Fp(){if(!Object.keys(this.Ua).length)return;let t={type:x.RESOURCE_HASHES,date:C.now(),args:[this.Ua]};this.qr=null,this.Ua={},this.$_(t)}z_(t,e,i){let r=e;i&&(r+=`?${this.Ql}=${i}`),this.Ua[t]=r,!this.qr&&(this.qr=window.csSetTimeout(()=>this.Fp(),this.F_))}}return s})();function dS(s,n,t){let{timestamp:e}=s;switch(s.domEvent){case"initialDOM":{let{initialDOM:i}=s,r={type:x.INITIAL_DOM,date:e,args:[i]};t.emitInitialDomDone(r);break}case"nodesAdded":{csArray.prototype.forEach.call(s.nodes,i=>{n({type:x.MUTATION_INSERT,date:e,args:[s.target,s.nextSibling,i]})});break}case"nodesMoved":{for(let i of s.nodesIds)n({type:x.MUTATION_MOVE,date:e,args:[i,s.nextSibling,s.target]});break}case"nodesRemoved":{csArray.prototype.forEach.call(s.nodesIds,i=>{n({type:x.MUTATION_REMOVE,date:e,args:[i]})});break}case"attributeChanged":{let{target:i,namespace:r,attribute:o,newValue:c}=s;n({type:x.MUTATION_ATTRIBUTE,date:e,args:[i,r,o,c]});break}case"characterDataChanged":{let{target:i,newValue:r}=s;n({type:x.MUTATION_CHARACTER_DATA,date:e,args:[i,r]});break}case"cssRuleInserted":{let{target:i,rule:r,index:o}=s,c=J(o)?[i,r,o]:[i,r];n({type:x.STYLESHEET_RULE_INSERT,date:e,args:c});break}case"cssRuleDeleted":{let{target:i,index:r}=s;n({type:x.STYLESHEET_RULE_DELETE,date:e,args:[i,r]});break}case"cssRuleUpdated":{let{target:i,rule:r,index:o}=s;n({type:x.STYLESHEET_RULE_UPDATE,date:e,args:[i,r,o]});break}case"cssStyleSheetDisabled":{let{target:i,disabled:r}=s;n({type:x.STYLESHEET_DISABLED,date:e,args:[i,r]});break}case"shadowRootAttached":{let{target:i,shadowRoot:r}=s;n({type:x.ATTACH_SHADOW,date:e,args:[i,r]});break}case"adoptedStyleSheetRegistered":{let{sheetId:i,cssRules:r,disabled:o}=s;n({type:x.REGISTER_ADOPTED_STYLE_SHEET,date:e,args:[i,{cssRules:r,disabled:o}]});break}case"adoptedStyleSheetsSet":{let{target:i,sheetsIds:r}=s;n({type:x.SET_ADOPTED_STYLE_SHEETS,date:e,args:[i,r]});break}case"adoptedStyleSheetRuleInserted":{let{sheetId:i,rule:r,index:o}=s,c=J(o)?[i,r,o]:[i,r];n({type:x.ADOPTED_STYLESHEET_RULE_INSERT,date:e,args:c});break}case"adoptedStyleSheetRuleDeleted":{let{sheetId:i,index:r}=s;n({type:x.ADOPTED_STYLESHEET_RULE_DELETE,date:e,args:[i,r]});break}case"adoptedStyleSheetRuleUpdated":{let{sheetId:i,rule:r,index:o}=s,c=[i,r,o];n({type:x.ADOPTED_STYLESHEET_RULE_UPDATE,date:e,args:c});break}case"adoptedStyleSheetDisabled":{let{sheetId:i,disabled:r}=s,o=[i,r];n({type:x.ADOPTED_STYLESHEET_DISABLED,date:e,args:o});break}default:B.error("translateDOMEvent: DOMEvent not supported");break}}function fS(s){let n=pS(s.data);return{type:x.GESTURE_RECOGNITION,args:[s.targetId,n],date:s.timestamp}}function pS(s){let n={type:gS(s.type)};for(let t in s){let e=s[t];e!==void 0&&t!=="type"&&(n[t]=e)}return n}function gS(s){switch(s){case Ct.DRAG:case Ct.FLICK:return Ti.SWIPE;case Ct.LONG_PRESS:return Ti.LONG_PRESS;case Ct.TAP:return Ti.TAP;case Ct.PINCH_IN:return Ti.PINCH_IN;case Ct.PINCH_OUT:return Ti.PINCH_OUT}}function mS(s){switch(s.inputType){case"text":return{type:x.INPUT_TEXT,args:[s.target,s.value],date:s.timestamp};case"select":return{type:x.INPUT_SELECT,args:[s.target,s.selectedIndex],date:s.timestamp};case"checkable":return{type:x.INPUT_CHECKABLE,args:[s.target,s.checked],date:s.timestamp}}}var Dr=(()=>{let s;return function(n){n.REQUEST_START="requestStart",n.DOM_INTERACTIVE="domInteractive",n.TIME_ORIGIN="timeOrigin"}(s||(s={})),s})(),vh={connectEnd:"ce",connectStart:"cs",decodedBodySize:"dbs",domainLookupEnd:"dle",domainLookupStart:"dls",duration:"d",fetchStart:"fs",initiatorType:"it",name:"n",nextHopProtocol:"nhp",redirectEnd:"re",redirectStart:"rs",requestStart:"rqs",responseEnd:"rse",responseStart:"rss",responseStatus:"rst",secureConnectionStart:"scs",startTime:"st",transferSize:"ts"},yS={...vh,domComplete:"dc",domContentLoadedEventEnd:"dclee",domContentLoadedEventStart:"dcles",domInteractive:"di",loadEventEnd:"lee",loadEventStart:"les",type:"t"};function ES(s){return{type:x.PERFORMANCE_TIMINGS,args:[{performanceTiming:Dr.REQUEST_START,timestamp:s.timings.requestStart},{performanceTiming:Dr.DOM_INTERACTIVE,timestamp:s.timings.domInteractive},{performanceTiming:Dr.TIME_ORIGIN,timestamp:s.timings.timeOrigin}],date:s.timestamp}}var SS=500,kr=0;function vS(){return{processEvent(s,n){if(s.originalEvent.type===x.PERFORMANCE_RESOURCE_TIMING)return kr>=SS?null:(kr+=1,n({...s.originalEvent,date:s.timestamp}));n(s.originalEvent)},reset(){kr=0}}}function wS(s,n){let t=[],e=!1;return{push(i){if(csArray.prototype.push.call(t,i),t.length===n.batchSize){this.flush();return}n.autoFlushDelay&&n.autoFlushDelay>0&&!e&&(e=!0,csSetTimeout(()=>{e=!1,t.length>0&&this.flush()},n.autoFlushDelay))},flush(){if(!t.length)return;let i=t;t=[],s(i)}}}var _S=20;function bS(s){return wS(n=>{let t={visibleInViewPort:n},e={type:x.TEXT_VISIBILITY,date:C.now(),args:[t]};s(e)},{batchSize:_S,autoFlushDelay:1e3})}function TS(s){switch(s.videoEventType){case"play":return{type:x.VIDEO_PLAY,args:[s.nodeId],date:s.timestamp};case"pause":return{type:x.VIDEO_PAUSE,args:[s.nodeId],date:s.timestamp};case"seeked":{let n=s;return{type:x.VIDEO_SEEK,args:[n.nodeId,n.newTimePositionInSec],date:s.timestamp}}default:return null}}var AS=(()=>{class s{get pendingEvents(){return this.Va.pendingEvents}constructor(t,e,i,r,o){this.Va=t,this.w=e,this.Ne=i,this.us=r,this.ds=o,this.Kt=()=>{},this.ja=()=>{},this.$p=bS(c=>this.Kt(c))}start(){var t,e;this.zp=vS(),this.Va.subscribe(i=>{var r,o,c,l,h,f;let u=i,{timestamp:m}=u;switch(u.type){case"Legacy":{let y=u.eventType==="user"?(r=this.ja)!==null&&r!==void 0?r:()=>{}:this.Kt;this.zp.processEvent(u,y)}break;case"CustomElementRegistration":{this.Kt({type:x.CUSTOM_ELEMENT_REGISTRATION,date:m,args:[u.tagName]});break}case"DomEvent":{dS(u,this.Kt,this.w);break}case"InputEvent":{let y=mS(u);(o=this.ja)===null||o===void 0||o.call(this,y);break}case"encryptedCharacterDataChanged":{let{target:y,rawData:S,encryptedData:O,encryptionMetadata:D}=u;this.Kt({type:x.MUTATION_ENCRYPTED_CHARACTER_DATA,date:m,args:[y,S,O,D]});break}case"StaticResource":{let{url:y}=u;this.Kt({type:x.STATIC_RESOURCE_URL,date:m,args:[y]});break}case"ResizeMaskedElement":{let{target:y,width:S,height:O}=u;this.Kt({type:x.MUTATION_ATTRIBUTE,date:m,args:[y,"","style",`width:${S}px !important;height:${O}px !important;`]});break}case"Gesture":{let y=fS(i);(c=this.ja)===null||c===void 0||c.call(this,y);break}case"TextVisibility":{this.$p.push(u.text);break}case"StaticResourceManagerEvent":{(l=this.Ne)===null||l===void 0||l.processEvent(u);break}case"screenResize":{let{width:y,height:S}=u,O={type:x.SCREEN_RESIZE,date:m,args:[y,S]};this.Kt(O);break}case"viewportResize":{let{width:y,height:S}=u,O={type:x.RESIZE,date:m,args:[y,S]};this.Kt(O);break}case"PerformanceTiming":{this.Kt(ES(u));break}case"CustomError":{let y=(h=this.ds)===null||h===void 0?void 0:h.translate(u);y&&this.Kt(y);break}case"JSError":{let y=(f=this.us)===null||f===void 0?void 0:f.translate(u);y&&this.Kt(y);break}case"VideoEvent":{let y=TS(u);y&&this.Kt(y);break}case"DOM_INITIAL_STATE":{let y={type:x.DOM_INITIAL_STATE,date:m,args:[u.state]};this.w.emitInitialDomDone(y);break}case"DOM_PATCH":{let y={type:x.DOM_PATCH_STATE,date:m,args:[u.diff]};this.Kt(y);break}case"warning":{B.warn(u.message);break}default:B.error(`WebRecorderEventTranslator: Event not supported (${u.type})`);break}}),this.w.emitInitialDomStart(),(t=this.us)===null||t===void 0||t.start(),(e=this.ds)===null||e===void 0||e.start(),this.Va.start()}stop(){var t,e,i;this.reset(),this.flush(),this.Va.stop(),(t=this.Ne)===null||t===void 0||t.flushEvents(),(e=this.us)===null||e===void 0||e.stop(),(i=this.ds)===null||i===void 0||i.stop()}flush(){this.$p.flush()}onEvent(t,e){var i;this.Kt=t,this.ja=e,(i=this.Ne)===null||i===void 0||i.onEvent(r=>this.Kt(r))}reset(){this.zp.reset()}}return s})(),RS=(()=>{class s{constructor(){this.Wr=20,this.Li=0,this.V=!1}translate(t){if(this.Li>=this.Wr)return null;this.Li+=1;let{message:e,attributes:i,timestamp:r}=t;return{type:x.CUSTOM_ERROR,date:r,args:[{errorType:"customError",message:e,attributes:i}]}}start(){this.V||(this.Li=0,this.V=!0)}stop(){this.V=!1}}return s})(),CS=(()=>{class s{constructor(t){this.Ha=t,this.Wr=20,this.Ui=0,this.V=!1}translate(t){if(this.Ui>=this.Wr)return this.Ha.stop(),null;this.Ui+=1;let{filename:e,message:i,lineno:r,colno:o,timestamp:c}=t;return{type:x.JAVASCRIPT_ERROR,date:c,args:[{errorType:"jsError",message:i,filename:e,lineno:r,colno:o}]}}start(){this.V||(this.Ui=0,this.V=!0)}stop(){this.V=!1}}return s})(),IS=(()=>{class s extends Ee{constructor(t){super(),this.je=t}subscribe(t){return super.subscribe(t)}onStart(){X(this.je,t=>{t.onEvent(e=>{var i;return this.kn(e,(i=t.eventType)!==null&&i!==void 0?i:"browser")})}),X(this.je,t=>{var e;(e=t.start)===null||e===void 0||e.call(t)})}onStop(){X(this.je,t=>{var e;return(e=t.stop)===null||e===void 0?void 0:e.call(t)})}kn(t,e){this.produceEvent({timestamp:C.now(),type:"Legacy",originalEvent:t,eventType:e})}}return s})(),wh=(()=>{class s{emit(t,e,i,r=document){let c=`${i!==void 0?`${i}`:`${s.q_}`}${t}`,l=s.createEvent(c,{detail:e});l!==null&&r.dispatchEvent(l)}static createEvent(t,e={}){if(typeof CustomEvent=="function")return new CustomEvent(t,e);let i=this.W_();if(i===null)return null;let{bubbles:r=!1,cancelable:o=!1,detail:c}=e;return i.initCustomEvent(t,r,o,c),i}static W_(){try{return document.createEvent("CustomEvent")}catch{return null}}}return s.q_="cs.tracking.",s})(),ae=(()=>{let s;return function(n){n.Visible="visible",n.Hidden="hidden",n.Blur="blur",n.PagehideVisible="pagehideVisible",n.PagehideHidden="pagehideHidden",n.ExitPageByNavigate="exitPageByNavigate"}(s||(s={})),s})(),_h=(()=>{class s{constructor(){this.V=!1,this.ci=t=>{try{switch(t.type){case"visibilitychange":return document.visibilityState==="hidden"?this.re(ae.Hidden):this.re(ae.Visible);case"pagehide":return document.visibilityState==="hidden"?this.re(ae.PagehideHidden):this.re(ae.PagehideVisible);case"blur":return this.re(ae.Blur);case"navigate":return this.Y_(t)?this.re(ae.ExitPageByNavigate):void 0;default:return}}catch{}}}start(){this.V||(this.V=!0,this.Mh(),this.X_(),this.K_(),La()&&this.J_())}stop(){this.V&&(this.V=!1,this.Dh(),this.Q_(),this.Z_(),La()&&this.tb())}onEvent(t){this.re=t}J_(){window.navigation.addEventListener("navigate",this.ci)}tb(){window.navigation.removeEventListener("navigate",this.ci)}Mh(){document.addEventListener("visibilitychange",this.ci)}Dh(){document.removeEventListener("visibilitychange",this.ci)}X_(){window.addEventListener("pagehide",this.ci)}Q_(){window.removeEventListener("pagehide",this.ci)}K_(){window.addEventListener("blur",this.ci)}Z_(){window.removeEventListener("blur",this.ci)}Y_(t){return t instanceof NavigateEvent?!t.hashChange&&!t.downloadRequest&&!t.formData:!1}}return s})(),Vt=(()=>{let s;return function(n){n[n.Active=0]="Active",n[n.Paused=1]="Paused",n[n.Stopped=2]="Stopped"}(s||(s={})),s})(),PS=(()=>{class s{constructor(t,e,i=[]){this.kn=t,this.kh=e,this.eb=i,this.Ba=null,this.Mt=Vt.Active,this.ot=[]}reset(){this.Ba=null,this.ot=[],this.Mt=Vt.Active}disconnect(){this.Mt=Vt.Stopped}sb(){this.kh(Vt.Paused),this.Mt=Vt.Paused,csSetTimeout(()=>{this.Mt===Vt.Paused&&this.xh()},s.STOP_TIMEOUT)}ib(){this.kh(Vt.Active),this.Mt=Vt.Active,X(this.ot,this.kn),this.ot=[]}xh(){this.ot=[],this.kh(Vt.Stopped),this.Mt=Vt.Stopped}pushEvent(t,e){if(e.isUserEvent&&(this.Ba=t.date,this.Mt!==Vt.Active)){this.ib(),this.kn(t);return}if(this.nb(t)){this.kn(t);return}switch(this.Mt){case Vt.Active:if(this.rb(t,e)){this.sb(),csArray.prototype.push.call(this.ot,t);return}this.kn(t);break;case Vt.Paused:csArray.prototype.push.call(this.ot,t);break;case Vt.Stopped:break}}rb(t,e){return!e.isUserEvent&&this.Ba!==null&&t.date-this.Ba>s.INACTIVITY_TIMEOUT}nb(t){return csArray.prototype.indexOf.call(this.eb,t.type)>-1}}return s.INACTIVITY_TIMEOUT=5e3,s.STOP_TIMEOUT=5e3,s})(),OS=2e3,NS=(()=>{class s extends Tt{constructor(t,e,i,r,o,c,l,h,f,u,m,y,S,O=[],D,v,_,I,M){super(),this.E=t,this.F=e,this.ob=i,this.j=r,this.C=o,this.Ee=c,this.mt=l,this.Se=h,this.ht=f,this.X=u,this.Lt=m,this.Pt=y,this.He=S,this.je=O,this.Gp=D,this.Jt=v,this.xn=_,this.us=I,this.ds=M,this.li=0,this.hi=new wh,this.Ln={allowFromQuotaService:!0,allowFromSerialization:!0},this.qp=Kn(()=>{this.F.eventsCount()>0&&this.Wp()},OS),this.Ns=T=>this.processBrowserEvent(T),this.Yr=T=>this.Ut(T),this.Fa=0,this.Xr=0,this.Je=new _h,this.Lh=!1,this.Yp=50*1024,this.Vi=!1,this.Kr=!1,this.Ni=[],this.$a=new PS(T=>this.tt(T),T=>{switch(T){case Vt.Active:this.ab();break;case Vt.Stopped:this.cb();break}},[x.RESOURCE_HASHES,x.TEXT_VISIBILITY,x.API_ERROR,x.JAVASCRIPT_ERROR]),this.Xp=T=>{this.Lt.removeBatchInProgress(`${T.params.sn}.${T.params.pn}.${T.params.ri}`)}}init(){this.Uh(),this.X.onLoad(this.Xp),this.X.onError(this.Xp)}ab(){csArray.prototype.forEach.call(this.Gp,t=>t.start())}cb(){csArray.prototype.forEach.call(this.Gp,t=>t.stopForInactivity())}Uh(){var t,e,i;this.He.onEvent(this.Ns,this.Yr),(t=this.ht)===null||t===void 0||t.onInputNodeToEncrypt(this.Yr),(e=this.ht)===null||e===void 0||e.onApiErrorToEncrypt(r=>{this.Kp(r)}),(i=this.ht)===null||i===void 0||i.onUserIdentifierToEncrypt(this.Ns),this.Je.onEvent(r=>{if(csSetTimeout(()=>this.ji("page-state",r)),r!==ae.Visible){if(r===ae.Blur)return this.Jp();if(!this.Lh)return this.Lh=!0,csSetTimeout(()=>{this.Lh=!1}),r===ae.Hidden?this.Jp():this.lb()}})}isRecording(){return this.C.hasValidSession()&&this.isStarted}Jp(){if(!this.canSendEvents())return;this.He.flush(),this.Lt.saveBatchesInProgress(),X(this.je,c=>{var l,h;return X((h=(l=c.getPendingEvents)===null||l===void 0?void 0:l.call(c))!==null&&h!==void 0?h:[],f=>this.F.addEvent(f))});let t=this.F.getEvents();if(t.length===0)return;this.ji("pending-events",this.He.pendingEvents);let e=this.X.getQueryParams();e.rst=this.getRecordingStartTimestamp(),this.Xr=t[t.length-1].date,e.let=this.getRecordingLastEventTimestamp();let i=this.F.getCurrentRequestIndex(),r=i.getCurrentIndex();e.ri=r.toString(),this.Pt.removeQueryParams(),this.Pt.setQueryParams(e);let o=this.F.stringifyEvents();if(o.length>this.Yp){let c=this.Qp();if(c.length>0){let l=Ds(c);this.Pt.send(l)||this.Lt.save({key:`${e.sn}.${e.pn}.${e.ri}.last`,metadata:{...e,datatype:"json"},events:l}),i.increment()}if(this.F.eventsCount()>0){e.ri=i.getCurrentIndex().toString();let l=this.F.stringifyEvents();this.Lt.save({key:`${e.sn}.${e.pn}.${e.ri}.last`,metadata:{...e,datatype:"json"},events:l}),i.increment()}}else this.Pt.send(o)||this.Lt.save({key:`${e.sn}.${e.pn}.${e.ri}.last`,metadata:{...e,datatype:"json"},events:o}),i.increment();this.Pt.removeQueryParams(),this.F.clearEvents()}lb(){if(!this.canSendEvents())return;this.He.flush();let t=this.X.getQueryParams();this.Lt.saveBatchesInProgress(),t.rst=this.getRecordingStartTimestamp(),delete t.ri,t.hlm="true",this.Pt.removeQueryParams(),X(this.je,r=>{var o,c;return X((c=(o=r.getPendingEvents)===null||o===void 0?void 0:o.call(r))!==null&&c!==void 0?c:[],l=>this.F.addEvent(l))});let e=this.F.getEvents();if(e.length===0){delete t.let,delete t.rst,this.Pt.setQueryParams(t),this.Pt.send(),this.Pt.removeQueryParams();return}this.ji("pending-events",this.He.pendingEvents),this.Xr=e[e.length-1].date,t.let=this.getRecordingLastEventTimestamp(),this.Pt.setQueryParams(t);let i=this.F.stringifyEvents();if(i.length>this.Yp){let r=this.Qp();if(r.length>0){let o=Ds(r);this.Pt.send(o)||this.Lt.save({key:`${t.sn}.${t.pn}.last`,metadata:{...t,datatype:"json"},events:o})}else delete t.let,delete t.rst,delete t.ri,this.Pt.removeQueryParams(),this.Pt.setQueryParams(t),this.Pt.send(),this.Pt.removeQueryParams();if(this.F.eventsCount()>0){t.rst=this.getRecordingStartTimestamp(),t.let=this.getRecordingLastEventTimestamp();let o=this.F.getCurrentRequestIndex(),c=o.getCurrentIndex();t.ri=c.toString();let l=this.F.stringifyEvents();this.Lt.save({key:`${t.sn}.${t.pn}.${t.ri}.last`,metadata:{...t,datatype:"json"},events:l}),o.increment()}}else this.Pt.send(i)||(this.Lt.save({key:`${t.sn}.${t.pn}.${t.ri}.last`,metadata:{...t,datatype:"json"},events:i}),this.F.getCurrentRequestIndex().increment());this.Pt.removeQueryParams(),this.F.clearEvents()}blockSendingEventsFromQuotaService(){this.Ln.allowFromQuotaService=!1}allowSendingEventsFromQuotaService(){this.Ln.allowFromQuotaService=!0}blockSendingEventsFromSerialization(){this.Ln.allowFromSerialization=!1}allowSendingEventsFromSerialization(){this.Ln.allowFromSerialization=!0}canSendEvents(){return this.Ln.allowFromQuotaService&&this.Ln.allowFromSerialization}onIframeJavascriptError(t){var e;if(this.Ee&&this.us){(e=this.Ee)===null||e===void 0||e.anonymize(t);let i=this.us.translate({message:t.message,colno:t.colno,lineno:t.lineno,filename:t.filename,timestamp:C.now(),type:"JSError"});i&&this.Ns(i)}}onIframeCustomError(t){if(this.ds){let e=this.ds.translate({...t,timestamp:C.now(),type:"CustomError"});e&&this.Ns(e)}}onIframeDetailedApiError(t){this.Zp(t)}onIframeRecordingUserEvent(t){for(let e of t)this.Ut(e)}onIframeRecordingBrowserEvent(t){if(this.isStarted)for(let e of t)this.processBrowserEvent(e)}processBrowserEvent(t){this.j.isCurrentPageviewValid()&&this.$a.pushEvent(t,{isUserEvent:!1})}Ut(t){this.j.refreshSession(),this.j.isSessionValid()&&this.$a.pushEvent(t,{isUserEvent:!0})}tt(t){wt.general.nbEvents.increase(),this.F.addEvent(t),this.F.isThresholdReached()?this.pushEvents():this.F.isFull()&&this.qp(),this.tg(t)}tg(t){this.E.emitDebugEvents&&this.hi.emit("recordingEvent",{...t,typeName:x[t.type]})}onStart(){var t;this.ji("tag-version","15.150.0"),this.ji("page-state",document.visibilityState),this.$a.reset(),this.Je.start(),this.initStates(),this.He.start(),this.mt&&this.Se&&this.mt.subscribe(s.Vt,e=>this.Zp(e),{detailedEvent:!0}),this.E.emitDebugEvents&&this.hi.emit("replayRecordingStarted"),csArray.prototype.forEach.call(this.Ni,e=>this.eg(e)),this.Ni=[],this.Vi&&((t=this.Jt)===null||t===void 0||t.enableOnlineAssets(),this.Vi=!1)}onStop(){var t;this.Je.stop(),this.mt&&this.mt.unsubscribe(s.Vt),this.He.stop(),this.$a.disconnect(),(t=this.Jt)===null||t===void 0||t.disableOnlineAssets()}clearStates(){this.He.flush(),this.qp.cancel(),this.pushEvents(),this.X.removeQueryParams()}initStates(){this.Fa=C.now(),this.F.getCurrentRequestIndex().reset(),this.li=0,this.X.setQueryParams(this.ob.getRequestParameters())}pushEvents(){X(this.je,t=>{var e;return(e=t.flushEvents)===null||e===void 0?void 0:e.call(t)}),this.F.eventsCount()>0&&(this.isStarted?this.Wp():this.F.clearEvents())}Wp(){if(!this.canSendEvents())return;let t=this.F.getOrderedBatchSlots();for(let e of t){let i=e.batch.getEvents();if(!i.length)continue;this.Xr=i[i.length-1].date;let r=e.metadata.requestIndex,o=r.getCurrentIndex(),c=this.Fa>this.Xr?i[0].date:this.Fa;this.X.setQueryParams({pn:csString(e.metadata.pageNumber),ri:o.toString(),rst:c.toString(),let:this.getRecordingLastEventTimestamp()});let l=this.X.getQueryParams();this.Lt.addBatchInProgress(`${l.sn}.${l.pn}.${o}`,{...this.X.getQueryParams()},i),this.X.send(i),r.increment(),e.batch.clearEvents(),this.sg&&this.sg()}this.F.clearEmptyBatchSlots()}addInitialDom(t){this.F.addEventByTimestamp(t),this.tg(t)}Zp(t){if(this.xn&&(t.plainCustomRequestHeaders||t.plainCustomResponseHeaders||t.requestBodyAttributes||t.responseBodyAttributes||t.customRequestHeaders||t.customResponseHeaders||t.queryParameters||t.requestBody||t.responseBody)){if(this.xn.truncate(t),this.ht){this.ht.registerApiErrorToEncrypt(t);return}t.customRequestHeaders="",t.customResponseHeaders="",t.requestBodyAttributes="",t.responseBodyAttributes="",t.queryParameters="",t.requestBody="",t.responseBody=""}this.Kp(t)}Kp(t){if(this.li<s.hb){let e={type:x.API_ERROR,date:C.now(),args:[this.Se.anonymize(t)]};this.Ns(e),this.li=this.li+1,F.counters.networkRequests.count("collected")}}db(t){t===fs.ETR_SESSION?this.X.setQueryParams({[s.fb]:s.ig}):t===fs.ETR_PAGE&&this.X.setQueryParams({[s.pb]:s.ig})}clearEvents(){this.F.clearEvents()}onCustomJavaScriptErrorEvent(t){var e;let i=(e=this.us)===null||e===void 0?void 0:e.translate({type:"JSError",timestamp:C.now(),message:t.message,colno:t.colno,lineno:t.lineno,filename:t.filename});i&&this.Ns(i)}onCustomErrorEvent(t){var e;let i=(e=this.ds)===null||e===void 0?void 0:e.translate({type:"CustomError",timestamp:C.now(),message:t.message,attributes:t.attributes});i&&this.Ns(i)}onPageEvent(t){this.ng(t)}onUserIdentifierEvent(t){var e;let i={userIdentifier:t,date:C.now(),keyId:this.E.encryptionPublicKeyId};(e=this.ht)===null||e===void 0||e.registerUserIdentifierToEncrypt(i)}onEventTriggerRecording(t,e){this.isStarted?this.eg({eventName:t,eventType:e}):csArray.prototype.push.call(this.Ni,{eventName:t,eventType:e})}eg(t){this.db(t.eventType),this.ng(t.eventName),this.pushEvents()}ng(t){let e={type:x.PAGE_EVENT,date:C.now(),args:[{eventName:csString.prototype.slice.call(t,0,s.gb)}]};this.F.addEvent(e)}triggerUnanonymizationConsentGranted(){let t={date:C.now(),type:x.UNANONYMIZED_CONSENT_GRANTED};this.F.addEvent(t)}triggerUnanonymizationConsentWithdrawn(){let t={date:C.now(),type:x.UNANONYMIZED_CONSENT_WITHDRAWN};this.F.addEvent(t)}triggerRecordingForSessionGranted(){this.ji("consent-granted")}triggerRecordingForSessionWithdrawn(){this.ji("consent-withdrawn")}activateOnlineAssetsOnNextPageview(){this.Kr=!0}getStaticResourceManagerStatus(){return this.Jt?{isStarted:this.E.useStaticResourceManager&&lo.isSupported(),onlineAssets:{activated:this.Jt.isOnlineAssetsActivated(),enabledOnNextPageview:this.Kr}}:null}resetOnlineAssetsOnPageview(){this.Vi=!1,this.Kr=!1}updateOnlineAssetsOnPageview(){this.Jt&&this.Kr&&(this.Vi=!0,this.Kr=!1)}onRecordingRequestSent(t){this.sg=t}getRecordingStartTimestamp(){return this.Fa.toString()}getRecordingLastEventTimestamp(){return this.Xr.toString()}onOptOut(){X(this.je,t=>{var e;return(e=t.releaseResources)===null||e===void 0?void 0:e.call(t)})}ji(t,e){if(!this.E.emitRecordInfoEvents)return;let i={date:C.now(),type:x.RECORDING_INFO_EVENT,args:e==null?[t]:[t,e]};this.F.addEvent(i)}Qp(){return this.F.extractEvents(x.API_ERROR,x.JAVASCRIPT_ERROR,x.CUSTOM_ERROR,x.TEXT_VISIBILITY,x.POINTER_DOWN)}}return s.Vt="RecordingService",s.gb=255,s.hb=20,s.pb="etrp",s.fb="etrs",s.ig="1",j([Nt("addInitialDom")],s.prototype,"addInitialDom",null),s})(),MS=(()=>{class s extends Tt{constructor(t,e,i){super(),this.oe=t,this.Pt=e,this.X=i,this.Vh=!1,this.Jr={},this.mb=r=>{if(r.length!==0)for(let o of r){let{metadata:c,events:l}=o;this.yb(c.rt)&&this.X.send(l,c)}},window.addEventListener("focus",()=>{this.recover()})}onStart(){this.Jr={}}onStop(){}recover(){this.oe.recover(this.mb)}addBatchInProgress(t,e,i){this.Jr[t]={metadata:{...e},events:i}}removeBatchInProgress(t){delete this.Jr[t]}blockSendingLastMessage(){this.Vh=!1}allowSendingLastMessage(){this.Vh=!0}sendLastMessageBeacon(){if(this.Vh){let{ri:t,rst:e,let:i,...r}=this.X.getQueryParams();r.hlm="true",this.Pt.setQueryParams(r),this.Pt.send()}}yb(t){return!!t&&csString.prototype.indexOf.call(t,U.RECORDING_TEMPORARILY)===-1}saveBatchesInProgress(){csArray.prototype.forEach.call(Object.keys(this.Jr),t=>{let{metadata:e,events:i}=this.Jr[t];this.oe.save({key:`${e.sn}.${e.pn}.${e.ri}`,metadata:{...e,datatype:"json"},events:csJSON.stringify(i)})})}save(t){this.oe.save(t)}}return j([N("RecordingRecovery")],s.prototype,"recover",null),s})(),DS=(()=>{let s;return function(n){n[n.NOT_EXIST=2]="NOT_EXIST"}(s||(s={})),s})(),kS=8*1024*1024,xS=(()=>{class s extends Tt{constructor(t,e,i){super(),this.Ne=t,this.rg=e,this.St=i,this.jh={},this.og=new Set,this.hs=!1}initState(){ll()&&(this.Le=this.St.getRequestParameters(),this.Eb=`${this.rg}/exist?${Fi.toQuery(this.Le)}`,this.Sb=`${this.rg}/putTag?${Fi.toQuery(this.Le)}`,this.ag=ni(async()=>{if(this.hs){this.ag();return}this.hs=!0;try{await this.vb()}finally{this.hs=!1}},300),this.Ne.onSendStaticResource(t=>{this.cg(t)}))}onStart(){}onStop(){}onIframeStaticResource(t){this.cg(t)}cg(t){this.lg(t.resource.hash,t.resource.data),t.nestedResources&&t.nestedResources.length>0&&csArray.prototype.forEach.call(t.nestedResources,e=>{this.lg(e.hash,e.data)})}lg(t,e){this.og.has(t)||(this.og.add(t),this.jh[t]=e,this.ag())}async vb(){let t=this.jh;this.jh={};let e=await this.wb(t);if(!e.length)return;let i=this._b(e);await Promise.all(csArray.prototype.map.call(i,r=>window.fetch(this.Sb,{method:"POST",body:r})))}async bb(t){try{let e=Object.keys(t);if(!e.length)return[];let i={projectId:this.Le.pid,filter:DS.NOT_EXIST,hashes:e,touch:!0};return await(await window.fetch(this.Eb,{method:"POST",body:csJSON.stringify(i)})).json()}catch{return[]}}async wb(t){let e=[],i=await this.bb(t);return csArray.prototype.forEach.call(i,r=>{let o=t[r];o?csArray.prototype.push.call(e,{hash:r,data:o}):B.warn("SRM: received unknown hash: "+r)}),e}_b(t){let e=0,i=[new FormData];for(let r of t){let{data:o,hash:c}=r,l=i.length-1;if(e=e+o.size,e<kS)i[l].append("",o,c);else{let h=new FormData;h.append("",o,c),e=o.size,csArray.prototype.push.call(i,h)}}return i}}return s})(),bh=2*1e3*1024,LS=200,Mc=(()=>{class s{constructor(t=bh){this.jt=[],this.Hh=new na(t)}addEvent(t){this.Hh.addString(Ds(t)),csArray.prototype.push.call(this.jt,t)}addEventByTimestamp(t){let e=0;for(;e<this.jt.length&&!(this.jt[e].date>=t.date);e+=1);csArray.prototype.splice.call(this.jt,e,0,t)}eventsCount(){return this.jt.length}clearEvents(){this.Hh.reset(),this.jt=[]}isFull(){return this.eventsCount()>=LS}isThresholdReached(){return this.Hh.isThresholdReached()}getEvents(){return this.jt}extractEvents(...t){let e=[],i=[];return csArray.prototype.forEach.call(this.jt,r=>{csArray.prototype.indexOf.call(t,r.type)!==-1?csArray.prototype.push.call(e,r):csArray.prototype.push.call(i,r)}),this.jt=i,e}stringifyEvents(){return Ds(this.jt)}tO(t){t.type===x.INITIAL_DOM&&(window.CSDomSerialized=window.CSDomSerialized?window.CSDomSerialized+1:1)}}return j([Nt("RecordingBatch.addEvent")],s.prototype,"addEvent",null),s})();function US(s){if(typeof Object.values=="function")return Object.values(s);let n=[];for(let t in s)s.hasOwnProperty(t)&&csArray.prototype.push.call(n,s[t]);return n}var Dc=(()=>{class s{constructor(){this.za=1}getCurrentIndex(){return this.za}increment(){this.za+=1}reset(){this.za=1}getRequestParameters(){return{ri:`${this.za}`}}}return s})(),VS=3,jS=8,HS=(()=>{class s{constructor(t,e=bh,i=VS){this.Tb=t,this.hg=e,this.Bh=i,this.Ga={}}addEvent(t){this.ug().addEvent(t)}addEventByTimestamp(t){this.ug().addEventByTimestamp(t)}eventsCount(){return csArray.prototype.reduce.call(this.Hi(),(t,e)=>t+e.batch.eventsCount(),0)}isFull(){return csArray.prototype.some.call(this.Hi(),t=>t.batch.isFull())}isThresholdReached(){let t=this.Hi();return t.length>=this.Bh||csArray.prototype.some.call(t,e=>e.batch.isThresholdReached())}getEvents(){return csArray.prototype.reduce.call(this.getOrderedBatchSlots(),(t,e)=>csArray.prototype.concat.call(t,e.batch.getEvents()),[])}extractEvents(...t){return csArray.prototype.reduce.call(this.getOrderedBatchSlots(),(e,i)=>csArray.prototype.concat.call(e,i.batch.extractEvents(...t)),[])}stringifyEvents(){return Ds(this.getEvents())}clearEvents(){csArray.prototype.forEach.call(this.Hi(),t=>t.batch.clearEvents())}clearEmptyBatchSlots(){let t=this.getOrderedBatchSlots();for(let e=0;e<t.length-1;e++)t[e].batch.eventsCount()===0&&delete this.Ga[t[e].metadata.pageNumber]}Hi(){return US(this.Ga)}getOrderedBatchSlots(){return csArray.prototype.sort.call(this.Hi(),BS)}dg(){let t=this.Tb();if(t<=0)return{batch:new Mc(this.hg),metadata:{pageNumber:0,requestIndex:new Dc}};let e=this.Ga[t];if(e)return e;let i={batch:new Mc(this.hg),metadata:{pageNumber:t,requestIndex:new Dc}};return this.Ga[t]=i,this.Hi().length>Math.max(this.Bh,jS)&&B.warn(`RecordingBatchGroup: max number of slots overflowed(${this.Hi().length}/${this.Bh})`),i}ug(){return this.dg().batch}getCurrentRequestIndex(){return this.dg().metadata.requestIndex}}return s})();function BS(s,n){return s.metadata.pageNumber-n.metadata.pageNumber}function jt(s,n=0){let t=Math.pow(10,n);return Math.round(s*t)/t}var FS=(()=>{class s{constructor(t,e){this.Q=t,this.ft=e,this.U=Bn,this.qa=!1,this.Ve=!1,this.Qr=null,this.Qe=this.Ab()}onEvent(t){this.U=t}start(){this.Qe&&(this.Ve=!0,this.Fh())}stop(){this.Ve=!1}releaseResources(){this.Hr()}Fh(){this.qa||(this.qa=!0,this.Qr=this.Rb(),this.Qr.observe({type:"navigation",buffered:!0}))}Rb(){return new window.PerformanceObserver(t=>{this.Ve&&csArray.prototype.forEach.call(t.getEntriesByType("navigation"),e=>{let i=this.Cb(e);this.U(i)})})}Hr(){this.Qr&&(this.Qr.disconnect(),this.Qr=null)}Cb(t){let e={};for(let r in t){let o=yS[r],c=t[r];!o||c instanceof csArray||c instanceof Function||(A(c)?e[o]=c:mt(c)&&(e[o]=jt(c,1)))}F.counters.networkRequests.count("collected");let i={...e,n:this.Q.anonymizeUrl(this.Q.removeQueryString(t.name),{maskingPatterns:this.ft.getUrlMaskingPatterns(),partialMaskingPatterns:this.ft.getPartialUrlMaskingPatterns()})};return{date:C.now(),type:x.PERFORMANCE_NAVIGATION_TIMING,args:[i]}}Ab(){var t,e;return((t=window.PerformanceObserver)===null||t===void 0?void 0:t.supportedEntryTypes)==null?void 0:csArray.prototype.includes.call((e=window.PerformanceObserver)===null||e===void 0?void 0:e.supportedEntryTypes,"navigation")}}return s})(),$S=(()=>{class s{constructor(t,e){this.Q=t,this.ft=e,this.Ve=!1,this.U=Bn,this.Zr=null,this.Qe=this.Ib()}onEvent(t){this.U=t}start(){this.Qe&&(this.Ve=!0,this.Fh())}stop(){this.Ve=!1}releaseResources(){this.Hr()}Fh(){this.qa||(this.qa=!0,this.Zr=this.Pb(),this.Zr.observe({type:"resource",buffered:!0}))}Pb(){return new window.PerformanceObserver(t=>{this.Ob(t)})}Ob(t){if(this.Ve){let e=t.getEntries();csArray.prototype.forEach.call(csArray.prototype.map.call(e,i=>this.Nb(i)),i=>{this.U(i)})}}Hr(){this.Zr&&(this.Zr.disconnect(),this.Zr=null)}Nb(t){let e={};for(let r in t){let o=vh[r],c=t[r];!o||c instanceof csArray||c instanceof Function||(typeof c=="string"&&o?e[o]=c:typeof c=="number"&&o&&(e[o]=jt(c,1)))}F.counters.networkRequests.count("collected");let i={...e,n:this.Q.anonymizeUrl(this.Q.removeQueryString(t.name),{maskingPatterns:this.ft.getUrlMaskingPatterns(),partialMaskingPatterns:this.ft.getPartialUrlMaskingPatterns()})};return{date:C.now(),type:x.PERFORMANCE_RESOURCE_TIMING,args:[i]}}Ib(){var t,e;return((t=window.PerformanceObserver)===null||t===void 0?void 0:t.supportedEntryTypes)==null?void 0:csArray.prototype.includes.call((e=window.PerformanceObserver)===null||e===void 0?void 0:e.supportedEntryTypes,"resource")}}return s})(),zS=(()=>{class s{constructor(t,e){this.kt=t,this.M=e,this.oi=[{boundElement:window,type:"hashchange",listener:()=>this.hashChangeListener()},{boundElement:document,type:"visibilitychange",listener:()=>this.visibilityChangeListener()}]}onEvent(t){this.U=t}start(){this.Bi(),this.triggerInitialEvents()}stop(){this.Fi()}Bi(){csArray.prototype.forEach.call(this.oi,t=>yt(t))}Fi(){csArray.prototype.forEach.call(this.oi,t=>Et(t))}triggerInitialEvents(){this.hashChangeListener()}hashChangeListener(){let t={type:x.HASH_CHANGE,args:[this.M.anonymizePII(this.kt.href)],date:C.now()};this.U(t)}visibilityChangeListener(){let t={type:x.VISIBILITY_CHANGE,args:[document.visibilityState],date:C.now()};this.U(t)}}return j([N("hashChange")],s.prototype,"hashChangeListener",null),j([N("visibilityChange")],s.prototype,"visibilityChangeListener",null),s})(),ei=(()=>{let s;return function(n){n[n.COPY=0]="COPY",n[n.CUT=1]="CUT",n[n.PASTE=2]="PASTE"}(s||(s={})),s})(),Y=(()=>{let s;return function(n){n[n.SPACE=0]="SPACE",n[n.ENTER=1]="ENTER",n[n.BACKSPACE=2]="BACKSPACE",n[n.DELETE=3]="DELETE",n[n.ARROWUP=4]="ARROWUP",n[n.ARROWDOWN=5]="ARROWDOWN",n[n.ARROWLEFT=6]="ARROWLEFT",n[n.ARROWRIGHT=7]="ARROWRIGHT",n[n.CAPSLOCK=8]="CAPSLOCK",n[n.SHIFT=9]="SHIFT",n[n.TAB=10]="TAB",n[n.ALPHANUMERICAL=11]="ALPHANUMERICAL",n[n.ESCAPE=12]="ESCAPE",n[n.END=13]="END",n[n.ALT=14]="ALT",n[n.CTRL=15]="CTRL",n[n.META=16]="META"}(s||(s={})),s})();function GS(s){if(!A(s))return null;let t=/iP(ad|hone|od).+Version\/(\d+)\..*Safari/i.exec(s);return t?Number(t[2]):null}var kc="data-cs-scroll-container";function qS(s){try{if(dt(csEventtarget.apply(s)))return!0}catch{}return!1}var si=(()=>{let s;return function(n){function t(i){return!!(dt(i)&&qS(i)&&Re(csEventtarget.apply(i))&&csEventtarget.apply(i).getAttribute(kc)!==null)}n.isEventOnScrollContainer=t;function e(){return window.csquerySelector[document.nodeType].call(document,`[${kc}]`)}n.getScrollContainer=e}(s||(s={})),s})(),WS=33,YS=(()=>{class s{constructor(){this.eventType="user",this.$h=[],this.Mb=[{type:"pointerup",listener:e=>this.pointerUpListener(e),boundElement:document},{type:"pointermove",listener:e=>this.pointerMoveListener(e),boundElement:document},{type:"pointerdown",listener:e=>this.pointerDownListener(e),boundElement:document}],this.Db=[{type:"touchstart",listener:e=>this.touchStartListener(e),boundElement:document},{type:"touchmove",listener:e=>this.touchMoveListener(e),boundElement:document},{type:"touchend",listener:e=>this.touchEndCancelListener(e),boundElement:document},{type:"touchcancel",listener:e=>this.touchEndCancelListener(e),boundElement:document}],this.Wa=[{type:"click",listener:e=>this.clickListener(e),boundElement:document},{type:"keyup",listener:e=>this.keyUpListener(e),boundElement:document},{type:"keydown",listener:e=>this.keyDownListener(e),boundElement:document},{type:"copy",listener:e=>this.copyListener(e),boundElement:document},{type:"cut",listener:e=>this.cutListener(e),boundElement:document},{type:"paste",listener:e=>this.pasteListener(e),boundElement:document},{type:"scroll",listener:e=>this.scrollListener(csEventtarget.apply(e)),boundElement:document},{type:"mouseover",listener:e=>this.mouseOverListener(e),boundElement:document}],this.zh=[{type:"scroll",listener:e=>this.scrollListener(csEventtarget.apply(e))}];let t=GS(window.navigator.userAgent);(t===null||t&&t>=16)&&csArray.prototype.push.call(this.zh,{type:"mouseover",listener:e=>this.mouseOverListener(e)}),this.ge=new pi((e,i)=>{switch(i){case"initial":case"added":this.Bi(e);break;case"removed":this.Fi(e);break}})}init(){this.kb(),this.xb(),this.Gh()}onEvent(t){csArray.prototype.push.call(this.$h,t)}ae(t,e=!1){csArray.prototype.forEach.call(this.$h,i=>i(t,e))}start(){this.lh(),this.Bi(document),this.ge.observe()}stop(){this.Fi(document),this.ge.disconnect(),this.$h=[]}xb(){this.Lb()&&csArray.prototype.push.call(this.Wa,...this.Mb)}kb(){this.Ub()&&csArray.prototype.push.call(this.Wa,...this.Db)}Bi(t){Un(t)?csArray.prototype.forEach.call(this.Wa,e=>yt(e)):csArray.prototype.forEach.call(this.zh,e=>{let i={type:e.type,listener:e.listener,boundElement:t};yt(i)})}Fi(t){Un(t)?csArray.prototype.forEach.call(this.Wa,e=>Et(e)):csArray.prototype.forEach.call(this.zh,e=>{let i={type:e.type,listener:e.listener,boundElement:t};Et(i)})}Lb(){return"PointerEvent"in window&&typeof window.PointerEvent=="function"}Ub(){return"TouchEvent"in window&&typeof window.TouchEvent=="function"}lh(){this.Vb()}Vb(){let t=si.getScrollContainer()||document,e=q(t),i=this.fg(t);if(i.top!==0||i.left!==0){let r={type:x.SCROLL,args:[e,i.left,i.top],date:C.now()};this.ae(r,!0)}}fg(t){return t===document?{top:window.pageYOffset,left:window.pageXOffset}:{top:t.scrollTop,left:t.scrollLeft}}scrollListener(t){if(k.isMaskedElement(t)||k.isMaskedElementChild(t))return;let e=q(t),i=this.fg(t),r={type:x.SCROLL,args:[e,i.left,i.top],date:C.now()};this.ae(r)}mouseOverListener(t){if(k.isMaskedElementChild(t.target))return;let e=q(t.target),i={type:x.MOUSE_OVER,args:[e],date:C.now()};this.ae(i)}clickListener(t){let e=Ot(t);if(k.isMaskedElementChild(e))return;let i=q(e),r={type:x.CLICK,args:[i],date:C.now()};this.ae(r)}keyUpListener(t){let e=Ot(t);if(k.isMaskedElementChild(e))return;let i=q(e),r=this.B[t.key];if(r===void 0)return;let o={type:x.KEY_UP,args:[i,r],date:C.now()};this.ae(o)}keyDownListener(t){let e=Ot(t);if(k.isMaskedElementChild(e))return;let i=q(e),r=this.B[t.key];if(r===void 0)return;let o={type:x.KEY_DOWN,args:[i,r],date:C.now()};this.ae(o)}copyListener(t){let e=Ot(t);if(k.isMaskedElementChild(e))return;let i=q(e),r={type:x.CLIPBOARD_COMMAND,args:[i,ei.COPY],date:C.now()};this.ae(r)}cutListener(t){let e=Ot(t);if(k.isMaskedElementChild(e))return;let i=q(e),r={type:x.CLIPBOARD_COMMAND,args:[i,ei.CUT],date:C.now()};this.ae(r)}pasteListener(t){let e=Ot(t);if(k.isMaskedElementChild(e))return;let i=q(e),r={type:x.CLIPBOARD_COMMAND,args:[i,ei.PASTE],date:C.now()};this.ae(r)}pointerUpListener(t){let e=Ot(t);if(k.isMaskedElementChild(e))return;let i=q(e),r={type:x.POINTER_UP,args:[t.pointerId,t.pointerType,jt(t.clientX,1),jt(t.clientY,1),i,t.button],date:C.now()};this.ae(r)}pointerMoveListener(t){let e={type:x.POINTER_MOVE,args:[t.pointerId,t.pointerType,jt(t.clientX,1),jt(t.clientY,1)],date:C.now()};this.ae(e)}pointerDownListener(t){let e=Ot(t);if(k.isMaskedElementChild(e))return;let i=q(e),r={type:x.POINTER_DOWN,args:[t.pointerId,t.pointerType,jt(t.clientX,1),jt(t.clientY,1),i,t.button,{pageX:jt(t.pageX,1),pageY:jt(t.pageY,1)}],date:C.now()};this.ae(r)}touchStartListener(t){if(!t.changedTouches)return;let{changedTouches:e}=t;for(let i=0;i<e.length;i+=1){let r=e[i],o={type:x.TOUCH_START,args:[r.identifier,jt(r.clientX,1),jt(r.clientY,1)],date:C.now()};this.ae(o)}}touchMoveListener(t){if(!t.changedTouches)return;let{changedTouches:e}=t;for(let i=0;i<e.length;i+=1){let r=e[i],o={type:x.TOUCH_MOVE,args:[r.identifier,jt(r.clientX,1),jt(r.clientY,1)],date:C.now()};this.ae(o)}}touchEndCancelListener(t){if(!t.changedTouches)return;let{changedTouches:e}=t;for(let i=0;i<e.length;i+=1){let r=e[i],o={type:t.type==="touchend"?x.TOUCH_END:x.TOUCH_CANCEL,args:[r.identifier,jt(r.clientX,1),jt(r.clientY,1)],date:C.now()};this.ae(o)}}Gh(){this.B={},this.B[" "]=Y.SPACE,this.B.Spacebar=Y.SPACE,this.B.Backspace=Y.BACKSPACE,this.B.Enter=Y.ENTER,this.B.Delete=Y.DELETE,this.B.ArrowUp=Y.ARROWUP,this.B.ArrowDown=Y.ARROWDOWN,this.B.ArrowLeft=Y.ARROWLEFT,this.B.ArrowRight=Y.ARROWRIGHT,this.B.Up=Y.ARROWUP,this.B.Down=Y.ARROWDOWN,this.B.Left=Y.ARROWLEFT,this.B.Right=Y.ARROWRIGHT,this.B.CapsLock=Y.CAPSLOCK,this.B.Shift=Y.SHIFT,this.B.Tab=Y.TAB,this.B.Escape=Y.ESCAPE,this.B.Esc=Y.ESCAPE,this.B.End=Y.END,this.B.Alt=Y.ALT,this.B.Control=Y.CTRL,this.B.Meta=Y.META}}return j([Nt("RecordingPageEvents.start")],s.prototype,"start",null),j([N("scroll")],s.prototype,"scrollListener",null),j([N("mouseOver"),ut(),Wp()],s.prototype,"mouseOverListener",null),j([N("click"),ut()],s.prototype,"clickListener",null),j([N("Event handler type: keyup")],s.prototype,"keyUpListener",null),j([N("Event handler type: keydown")],s.prototype,"keyDownListener",null),j([N("Event handler type: copy")],s.prototype,"copyListener",null),j([N("Event handler type: cut")],s.prototype,"cutListener",null),j([N("Event handler type: paste")],s.prototype,"pasteListener",null),j([N("Event handler type: pointerup"),ut()],s.prototype,"pointerUpListener",null),j([N("Event handler type: pointermove"),ut(),Qi({wait:WS})],s.prototype,"pointerMoveListener",null),j([N("Event handler type: pointerdown"),ut()],s.prototype,"pointerDownListener",null),j([N("Event handler type: touchstart"),ut()],s.prototype,"touchStartListener",null),j([N("Event handler type: touchmove"),ut()],s.prototype,"touchMoveListener",null),j([N("Event handler type: touchend-cancel"),ut()],s.prototype,"touchEndCancelListener",null),s})(),XS=(()=>{class s{constructor(){}onScannedAsset(t){this.Ya=t}scanCssString(t){this.qh(Li(t))}scanElement(t,e){k.getMaskedElementDetails(t).state!==k.MaskedElementState.NotMasked||e&&k.isMaskedAttribute(t,e)||(Xi(t)?this.jb(t):Do(t)?this.Hb(t,e):(this.Bb(t,e),this.Fb(t,e),this.$b(t,e)))}Hb(t,e){var i;if((!e||e==="href")&&t.href){let o={assetId:((i=t.sheet)===null||i===void 0?void 0:i.href)||t.href,assetBasePath:window.location.href,assetRawPath:eh(t)};this.Ya({type:"stylesheet",asset:o})}}jb(t){var e;let i=new Set;if(t.textContent)for(let o of Li(t.textContent))i.add(o);let r;try{r=(e=t.sheet)===null||e===void 0?void 0:e.cssRules}catch(o){o.name==="SecurityError"||o.name==="InvalidAccessError"||B.error(o.message)}if(r)for(let o=0;o<r.length;o++){let c=r.item(o).cssText;for(let l of Li(c))i.add(l)}this.qh($e(i))}Wh(t){return!this.zb(t)&&!oe(t)&&!bf(t)}Bb(t,e){if($d(t)||Fd(t)){if(!e||e==="src"){let i=t.getAttribute("src");if(i&&this.Wh(i)){let r={assetId:t.src,assetRawPath:i,assetBasePath:window.location.href};this.Ya({type:"asset",asset:r})}}(!e||e==="srcset")&&t.srcset&&this.Gb(t.srcset)}}Fb(t,e){if(csNodenodeType.apply(t)!==1){et.warn(`StaticResourceUrlTracker: Wrong element nodeType: ${t==null?void 0:t.nodeName}/${csNodenodeType.apply(t)}`);return}if(t.hasAttribute&&(!e||e==="style")&&t.hasAttribute("style")){let i=t.getAttribute("style");if(typeof i=="string")this.scanCssString(i);else throw new Error("Unexpected style: "+t.outerHTML)}}Gb(t){this.qh(ea(t))}$b(t,e){if((Wd(t)||Yd(t)||Xd(t))&&(!e||e==="href"||e==="xlink:href")){let i=t.getAttribute("href")||t.getAttribute("xlink:href");if(i&&this.Wh(i)){let r={assetId:fe(i),assetRawPath:i,assetBasePath:window.location.href};this.Ya({type:"asset",asset:r})}}}qh(t){return csArray.prototype.forEach.call(csArray.prototype.map.call(csArray.prototype.filter.call(t,e=>this.Wh(e)),e=>({rawUrl:e,absoluteUrl:fe(e)})),e=>{let i={assetId:e.absoluteUrl,assetBasePath:window.location.href,assetRawPath:e.rawUrl};this.Ya({type:"asset",asset:i})})}zb(t){return/^https:\/\/\w+:\w+@/.test(t)}}return s})(),KS=30,JS=0,Th=(()=>{class s{constructor(t,e=KS,i=JS){this.qb=t,this.Wb=e,this.Yb=i,this.Ze=new Wi,this.Ge=!1,this.Yh=0,this.pg=()=>{for(this.Yh=0;this.Ze.length;){if(this.Yh>=this.Wb){csSetTimeout(this.pg,this.Yb);return}let r=C.elapsed(),o=this.Ze.pop();if(!o)break;this.runTask(o);let c=C.elapsed()-r;this.Yh+=c}this.Ge=!1}}schedule(t,e=!1){if(!this.qb||e){t();return}wt.general.pendingTasks.increase(),this.Ze.push(t),this.Xb()}Xb(){this.Ge||(this.Ge=!0,csSetTimeout(()=>{this.pg()}))}runTask(t){wt.general.pendingTasks.decrease(),t()}runPendingTasks(){this.Ze.forEach(t=>{this.runTask(t)}),this.Ze.clear()}clearQueue(){wt.general.pendingTasks.clear(),wt.mutations.pendingMutations.clear(),this.Ze.clear()}isEmpty(){return this.Ze.length===0}}return j([N("TaskScheduler"),Nt("runTask")],s.prototype,"runTask",null),j([Nt("runPendingTasks")],s.prototype,"runPendingTasks",null),s})(),QS=(()=>{class s{constructor(){this.Y=!1,this.gg=new Zo(t=>t.type==="cssRuleInserted"&&this.Kb(t)),this.Jb=Zn(t=>{this.Y&&t.length>0&&this.I.schedule(()=>X(t,e=>this.to.scanElement(e)))}),this.Qb=({type:t,asset:e})=>{var i,r,o;t==="stylesheet"&&((i=this.Zb)===null||i===void 0||i.call(this,e)),(r=this.tT)===null||r===void 0||r.call(this,e);let c={date:C.now(),type:x.STATIC_RESOURCE_URL,args:[e.assetId]};(o=this.U)===null||o===void 0||o.call(this,c)},this.I=new Th(!0,30,0),this.Vr=new dh(t=>this.eT(t)),this.L=new ye(t=>this.Cn(t)),this.to=new XS,this.to.onScannedAsset(this.Qb)}onEvent(t){this.U=t}onAsset(t){this.tT=t}onStyleSheetFound(t){this.Zb=t}start(){this.Y||(this.Y=!0,this.gg.observe(),this.Vr.observe(),this.L.observe())}stop(){this.Y&&(this.gg.disconnect(),this.Vr.disconnect(),this.L.disconnect(),this.Y=!1)}Kb(t){!t.rule||!this.Y||this.to.scanCssString(t.rule)}eT(t){this.Y&&k.getMaskedElementDetails(t).state===k.MaskedElementState.NotMasked&&this.Jb.push(t)}Cn(t){csSetTimeout(()=>{for(let e of t)switch(e.type){case"attributes":this.to.scanElement(e.target,e.attributeName);break;case"characterData":this.sT(e.target);break;case"childList":}})}sT(t){Ln(t)&&csNodeparentNode.apply(t)&&Xi(csNodeparentNode.apply(t))&&this.to.scanCssString(t.data)}}return s})(),ZS="csPersisted",xc="v2/recording",tv=["isRecording"],Ah=["replay:resourceManager:enableForOnlineResource:nextPageviewOnly","cssrm:onlineAssets:activateForNextPageview"],ev=["replay:resourceManager:getStatus","cssrm:getStatus"],sv=(()=>{class s{constructor(t,e,i,r,o,c,l,h,f,u,m,y,S,O,D,v,_,I,M,T,H,it){this.fi=t,this.C=e,this.E=i,this.Le=r,this.S=o,this.M=c,this.j=l,this.ve=h,this.Ee=f,this.mt=u,this.Se=m,this.ft=y,this.w=S,this.pi=O,this.mg=D,this.se=v,this.Ht=_,this.Q=I,this.xn=M,this.it=T,this.eO=H,this.ht=it}init(){var t,e;let i=[],r=[];csArray.prototype.push.call(r,new sE),this.eo=new gE(this.it.shouldUseAnonymization(),this.E.whitelistedAttributes,this.M,this.E.anonymizeDigits),this.$i();let o=new lS(ZS);this.iT(o),this.F=new HS(()=>{var I;return((I=this.C.getSession())===null||I===void 0?void 0:I.pageNumber)||0});let c=new QS;csArray.prototype.push.call(i,c),this.E.useStaticResourceManager&&lo.isSupported()&&(this.Jt=new lo,this.Ne=new uS,this.yg=new xS(this.Ne,this.E.getStaticResourceManagerUri(),this.Le),this.mg.addListener(this.yg),csArray.prototype.push.call(r,this.Jt));let l=new $i(this.Le,{getRequestParameters:()=>({let:this.recordingService.getRecordingLastEventTimestamp()})},{getRequestParameters:()=>({rst:this.recordingService.getRecordingStartTimestamp()})},{getRequestParameters:()=>({rt:csArray.prototype.join.call(this.C.getCollectStates(),",")})}),h=new Sh(`${this.E.getRecordingUri()}/${xc}`);csArray.prototype.push.call(r,this.eo),csArray.prototype.push.call(r,new NE(this.Q)),csArray.prototype.push.call(r,new DE),this.zi=new YS,this.zi.init(),csArray.prototype.push.call(i,this.zi),this.Lt=new MS(o,h,this.X);{let{withResource:I,withNavigation:M}=(t=this.E.performanceTimingOptions)!==null&&t!==void 0?t:{};I&&csArray.prototype.push.call(i,new $S(this.Q,this.ft)),M&&csArray.prototype.push.call(i,new FS(this.Q,this.ft))}csArray.prototype.push.call(i,new zS(window.location,this.M));let f=new eE,u=new LE,m=new VE,y=new BE(this.ht),S=new $E,O=[u,this.ve,f,new IS(csArray.prototype.filter.call(i,I=>I)),S,new zE,new ZE,y,m];this.E.textVisibilityEnabled&&gs.isSupported()&&(this.so=new pE,csArray.prototype.push.call(O,this.so)),this.E.jsErrorsEnabled&&(this.Ha=new tS,this.nT=new eS(I=>this.Ee.anonymize(I)),this.us=new CS(this.Ha),csArray.prototype.push.call(O,this.Ha),csArray.prototype.push.call(r,this.nT)),!((e=this.E.customErrors)===null||e===void 0)&&e.enabled&&(this.ds=new RS);let D=new rS(O,r),v=new AS(D,this.w,this.Ne,this.us,this.ds),_=[f,u,m,y,S];this.recordingService=new NS(this.E,this.F,l,this.j,this.C,this.Ee,this.mt,this.Se,this.ht,this.X,this.Lt,h,v,i,_,this.Jt,this.xn,this.us,this.ds),this.pi.addListener(this.recordingService),this.mg.addListener(this.recordingService),this.recordingService.init(),this.S.register(tv,()=>this.C.isReplayRecorded()&&!this.se.isUrlExcludedForSessionReplay()),this.S.register(Ah,()=>{this.recordingService.activateOnlineAssetsOnNextPageview(),this.w.emitRecordingContextChange()}),this.S.register(ev,()=>this.recordingService.getStaticResourceManagerStatus()),this.io=new hS(this.w,this.C),this.pi.addListener(this.io),this.fi.enableRecordingContext(this.recordingService,this.C,this.io),this.Xh()}onAfterNaturalPageView(){var t;this.se.isUrlExcludedForSessionReplay()?this.recordingService.resetOnlineAssetsOnPageview():this.recordingService.updateOnlineAssetsOnPageview(),(t=this.yg)===null||t===void 0||t.initState()}onStartTracking(){this.Lt.recover(),this.$i(),this.C.isReplayRecorded()&&!this.se.isUrlExcludedForSessionReplay()&&(this.C.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.Kh())}onArtificialPageViewEnd(){this.C.isReplayRecorded()&&!this.se.isUrlExcludedForSessionReplay()&&!this.C.isTemporarilyRecorded()&&this.Lt.sendLastMessageBeacon(),this.recordingService.clearStates(),this.no()}onAfterArtificialPageView(){this.$i(),this.C.isReplayRecorded()&&!this.se.isUrlExcludedForSessionReplay()?(this.C.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.recordingService.updateOnlineAssetsOnPageview(),this.Kh()):this.recordingService.resetOnlineAssetsOnPageview()}onBeforeSessionRenewal(){this.recordingService.clearStates(),this.no()}onOptout(){this.no(),this.recordingService.onOptOut()}onReplayUnanonymizationConsentGranted(){this.$i(),this.recordingService.triggerUnanonymizationConsentGranted(),this.w.emitRecordingContextChange()}onReplayUnanonymizationConsentWithdrawn(){this.$i(),this.recordingService.triggerUnanonymizationConsentWithdrawn(),this.w.emitRecordingContextChange()}onCollectStateChange(t,e){t===U.QUOTA_REACHED||t===U.ANALYTICS_ONLY&&e===te.ETR_OFF?(this.recordingService.clearEvents(),this.no()):(this.X.setQueryParams({rt:csArray.prototype.join.call(this.C.getCollectStates(),",")}),this.recordingService.allowSendingEventsFromQuotaService(),this.recordingService.pushEvents(),this.io.onCollectStateChange(t,e))}onInitialDomStart(){this.recordingService.blockSendingEventsFromSerialization(),this.Lt.blockSendingLastMessage()}onInitialDomDone(t){this.recordingService.allowSendingEventsFromSerialization(),this.recordingService.addInitialDom(t),this.Lt.allowSendingLastMessage(),this.zi.start(),this.recordingService.pushEvents()}onAfterReplayRecordingConsentGranted(){this.C.isReplayRecorded()&&!this.se.isUrlExcludedForSessionReplay()&&(this.C.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.Kh(),this.recordingService.triggerRecordingForSessionGranted())}onAfterReplayRecordingConsentWithdrawn(){this.recordingService.isRecording()&&(this.recordingService.triggerRecordingForSessionWithdrawn(),this.recordingService.clearStates(),this.no())}Xh(){var t,e,i,r;if(!((e=(t=this.E.experimental.sessionReplay)===null||t===void 0?void 0:t.shadowRoot)===null||e===void 0)&&e.filterByHostSelector){let o=(r=(i=this.E.experimental.sessionReplay)===null||i===void 0?void 0:i.shadowRoot)===null||r===void 0?void 0:r.filterByHostSelector;X(o,c=>{Ut(c)&&ye.setShadowRootFilter(l=>{try{return ee.call(l.host,c)}catch{return!1}})})}}Kh(){this.recordingService.start(),this.Lt.start(),this.w.emitRecordingContextChange()}no(){this.recordingService.stop(),this.Lt.stop(),this.w.emitRecordingContextChange()}iT(t){let e="byteArray";this.X=this.Ht.create(`${this.E.getRecordingUri()}/${xc}`,e,t)}$i(){var t;let e=this.it.shouldUseAnonymization();this.eo.setAnonymization(e),(t=this.so)===null||t===void 0||t.setAnonymization(e)}}return j([Nt("Recording.onStartTracking")],s.prototype,"onStartTracking",null),j([Nt("onInitialDomDone")],s.prototype,"onInitialDomDone",null),s})(),iv=(()=>{class s extends At{validateArgs(t){return!!K(t)}execute(){this.commandsService.applyFromImplementation(Ah[0],[],"SrmOnlineAssetsTemplate")}}return s})(),nv=1024,rv=512,xr=1024,Lr="||",Rh=(()=>{let s;return function(n){function t(c,l){return A(c)&&csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(c),hs.CHAMELEON)!==-1?hs.CHAMELEON:l}n.handleCustomEventCommandMisuse=t;function e(c,l,h){let f=i(h);return{type:G.CUSTOM_EVENT,ts:0,customEventName:W.truncate(c,nv,W.ELLIPSIS),sourceLibrary:Dp(l)?l:hs.WEB,...Mn(f)?{}:{properties:f}}}n.buildCustomEvent=e;function i(c){let l={};for(let h in c){if(h.length>rv)continue;let f=c[h];if(mt(f)||Ui(f))l[h]=csString(f);else if(o(f))l[h]=W.truncate(f,xr,W.ELLIPSIS);else if(Id(f)){let u=r(f);u!==""&&(l[h]=u)}}return l}function r(c){let l="";for(let h=0;h<c.length;h++){let f=c[h];if(!mt(f)&&!Ui(f)&&!o(f))continue;let u=csString(f);if(l==="")l=W.truncate(u,xr,W.ELLIPSIS);else if(l.length+Lr.length+u.length<=xr)l+=Lr+u;else break}return l}function o(c){return A(c)&&!Wn(c)&&!csString.prototype.includes.call(c,Lr)}}(s||(s={})),s})();var ov=(()=>{class s extends Tt{constructor(t,e,i,r,o,c,l,h,f,u,m,y,S,O,D,v,_,I,M,T,H){super(),this.E=t,this.gi=e,this.Bt=i,this.Un=r,this.Jh=o,this.es=c,this.Me=l,this.Qh=h,this.j=f,this.oe=u,this.Z=m,this.Zh=y,this.Je=S,this.X=O,this.Xa=D,this.Ms=v,this.Ds=_,this.tu=I,this.Gi=M,this.qi=T,this.Wi=H,this.hi=new wh,this.Ka=!1,this.Yi=[]}init(){var t,e,i,r,o,c,l;this.gi.onEvent(h=>this.Ut(h)),this.Bt.onEvent(h=>this.Ut(h)),this.Un.onEvent(()=>{let h=this.Un.getRequestParameters();this.X.setQueryParams(h),this.Me.setQueryParams(h)}),this.Zh.onEvent(h=>this.ce(h)),this.eu(),(t=this.Xa)===null||t===void 0||t.onEvent(h=>this.Ut(h)),(e=this.Gi)===null||e===void 0||e.onEvent(h=>this.Ut(h)),(i=this.Ms)===null||i===void 0||i.onEvent(h=>this.Ut(h)),(r=this.Ds)===null||r===void 0||r.onEvent(h=>this.Ut(h)),this.rT(),(o=this.tu)===null||o===void 0||o.onEvent(h=>this.ce(h)),(c=this.qi)===null||c===void 0||c.onEvent(h=>this.ce(h)),(l=this.Wi)===null||l===void 0||l.onEvent(h=>this.ce(h))}rT(){this.Me.onBeaconSuccess(()=>{this.es.clearEvents()}),this.Me.onBeaconFailure(t=>{this.oT(t)})}initStates(){let t=this.Qh.getRequestParameters(),e=this.Jh.getRequestParameters(),i=this.Un.getRequestParameters();this.X.setQueryParams(t),this.X.setQueryParams(e),this.X.setQueryParams(i),this.Me.setQueryParams(t),this.Me.setQueryParams(e),this.Me.setQueryParams(i),this.su()}clearStates(t){var e,i;this.gi.flushPendingDebouncedListeners(),(e=this.Ms)===null||e===void 0||e.flushPendingKeyboardNavigationEvent(),(i=this.Ds)===null||i===void 0||i.flushPendingTextHighlightEvent(),t?(this.iu(),this.sendLastMessageBeacon()):this.sendEvents(),this.Un.reset(),this.X.removeQueryParams()}onStart(t){var e,i,r,o,c,l,h;t||(e=this.tu)===null||e===void 0||e.start(),this.Je.start(),this.gi.start(),this.Un.start(),this.Bt.start(),(i=this.Xa)===null||i===void 0||i.start(),(r=this.Ds)===null||r===void 0||r.start(),t||this.Zh.start(),(o=this.Ms)===null||o===void 0||o.start(),(c=this.Gi)===null||c===void 0||c.start(),(l=this.qi)===null||l===void 0||l.start(),(h=this.Wi)===null||h===void 0||h.start(),csArray.prototype.forEach.call(this.Yi,f=>{this.ce(f)}),this.Yi=[]}collectInitialEvents(){var t;(t=this.Xa)===null||t===void 0||t.collectInitialEvents()}onIframeAnalysisBrowserEvent(t){this.ce(t)}onIframeAnalysisUserEvent(t){this.Ut(t)}onExternalEvent(t){this.tt(t)}ce(t){this.isStarted&&this.j.isCurrentPageviewValid()&&this.tt(t)}Ut(t){this.isStarted&&(this.j.refreshSession(),this.j.isSessionValid()&&this.tt(t))}tt(t){this.es.addEvent(this.aT(t)),this.es.isFull()&&this.sendEvents(),this.E.emitDebugEvents&&this.hi.emit("analysisEvent",{...t,typeName:G[t.type]})}aT(t){return t.ts=this.Xi(),t}iu(){this.Me.setQueryParams({hlm:"true"}),this.Ka=!0}sendLastMessageBeacon(){this.Me.removeQueryParams(["i"]),this.Me.setQueryParams(this.Qh.getRequestParameters()),this.Me.setQueryParams(this.Jh.getRequestParameters()),this.Me.send(this.es.stringifyEvents()),this.Me.removeQueryParams(["hlm"]),this.Ka=!1}sendEvents(){this.es.isEmpty()||(this.Me.removeQueryParams(["i"]),this.X.setQueryParams(this.Qh.getRequestParameters()),this.X.setQueryParams(this.Jh.getRequestParameters()),this.X.send(this.es.getEvents()),this.es.clearEvents())}onStop(){var t,e,i,r,o,c,l;this.Je.stop(),this.gi.stop(),this.Un.stop(),this.Bt.stop(),this.Zh.stop(),(t=this.Xa)===null||t===void 0||t.stop(),(e=this.Ms)===null||e===void 0||e.stop(),(i=this.Ds)===null||i===void 0||i.stop(),(r=this.Gi)===null||r===void 0||r.stop(),this.es.empty(),(o=this.tu)===null||o===void 0||o.stop(),(c=this.qi)===null||c===void 0||c.stop(),(l=this.Wi)===null||l===void 0||l.stop()}su(){this.fs=C.now()}Xi(){return C.now()-this.fs}eu(){this.Je.onEvent(t=>{var e,i;t!==ae.Visible&&((e=this.Ms)===null||e===void 0||e.flushPendingKeyboardNavigationEvent(),(i=this.Ds)===null||i===void 0||i.flushPendingTextHighlightEvent(),t===ae.PagehideVisible?this.iu():t===ae.PagehideHidden?(this.iu(),this.sendLastMessageBeacon()):(!this.es.isEmpty()||this.Ka)&&this.sendLastMessageBeacon())})}oT(t){try{(!this.es.isEmpty()||this.Ka)&&this.oe.save({requestParameters:t,events:this.es.getEvents()})}catch{}}pushSubmitCommandEvent(t,e){if(!Mp(t)||!Re(e))throw new St(la[0]);let i={status:t,type:G.SUBMIT_COMMAND,ts:0,tgt:this.Z.getElementPath(e)};i.tgt!==Be.INVALID_ELEMENT&&this.ce(i)}pushCustomEvent(t,e,i){if(!(A(t)&&!Wn(t))||i!==void 0&&!K(i))throw new St(vo[0]);let r=Rh.buildCustomEvent(t,e,i);this.isStarted?this.ce(r):csArray.prototype.push.call(this.Yi,r)}}return s})(),mi=(()=>{class s{isEventTypeSupported(t){return csArray.prototype.indexOf.call(this.supportedEventTypes,t)!==-1}enhanceAnalysisEvent(t,e){return this.isEventTypeSupported(e.type)?this.baseEnhanceAnalysisEvent(t,e):e}}return s})(),av=(()=>{class s extends mi{constructor(){super(...arguments),this.supportedEventTypes=[G.CHANGE],this.cT=["text","email","number","search","tel","url","password"]}baseEnhanceAnalysisEvent(t,e){let i=Ot(t);return ys(i)&&csArray.prototype.indexOf.call(this.cT,i.type)>=0&&(e.isBlank=i.value===""),e}}return s})(),cv=(()=>{class s extends mi{constructor(t){super(),this.lT=t,this.supportedEventTypes=[G.CLICK,G.TAP,G.SUBMIT,G.CHANGE,G.CUSTOM_EVENT]}baseEnhanceAnalysisEvent(t,e){if(!Re(csEventtarget.apply(t)))return e;let i=this.lT.getCustomProperties(csEventtarget.apply(t),this.hT(t));return i===null?e:{...e,properties:i}}hT(t){switch(t.type){case"submit":return"submit";case"change":return"change";default:return"click"}}}return s})(),Ft=(()=>{let s;return function(n){n[n.ANONYMIZED=0]="ANONYMIZED",n[n.CAPTURED=1]="CAPTURED",n[n.MASKED=2]="MASKED",n[n.ENCRYPTED=3]="ENCRYPTED"}(s||(s={})),s})(),lv=(()=>{class s{constructor(){this.Ja=new Map,this.Qa=new Map,this.Ye=new Map}setConfig(t){for(let e in t)(e==="click"||e==="submit"||e==="change")&&this.uT(t[e],e)}getConfig(){return{clicks:this.Ja,submits:this.Qa,changes:this.Ye}}clearConfig(){this.Ja.clear(),this.Qa.clear(),this.Ye.clear()}uT(t,e){for(let i in t){let r=this.dT(i,e)||{formValue:[],textInElement:[],elementExists:[],attribute:[]},o=t[i];if(o.t)for(let c in o.t){let l=o.t[c];csArray.prototype.push.call(r.textInElement,{[l]:{name:c}})}if(o.f)for(let c in o.f){let l=o.f[c];csArray.prototype.push.call(r.formValue,{[l]:{name:c}})}if(o.ex)for(let c in o.ex){let l=o.ex[c];csArray.prototype.push.call(r.elementExists,{[l]:{name:c}})}if(o.a)for(let c in o.a){let l=o.a[c];"target"in l&&"attribute"in l&&csArray.prototype.push.call(r.attribute,{[l.target]:{attribute:l.attribute,name:c}})}e==="click"?this.Ja.set(i,r):e==="submit"?this.Qa.set(i,r):e==="change"&&this.Ye.set(i,r)}}dT(t,e){if(e==="click")return this.Ja.get(t);if(e==="submit")return this.Qa.get(t);if(e==="change")return this.Ye.get(t)}}return s})(),Tn=(()=>{let s;return function(n){function t(o,c,l=50){return i(o,c,()=>!1,()=>!1,l)}n.getNearestElementMatching=t;function e(o,c,l,h=50){return i(o,c,l,r,h)}n.getNearestUnmaskedElementMatching=e;function i(o,c,l,h,f=50){let u=o,m=0;for(;u&&m<f;){if(h(u)){u=Z.getParentElement(u),m++;continue}if(u.matches(c)&&!l(u))return u;let y=Z.findAllElements(c,u);if(y.length>0){for(let S of y)if(!l(S))return S}u=Z.getParentElement(u),m++}return null}function r(o){return k.isMaskedElement(o)||k.isMaskedElementChild(o)}}(s||(s={})),s})(),hv=(()=>{let s;return function(n){function t(l){switch(csString.prototype.toLowerCase.call(l.tagName)){case"input":{let h=l;switch(h.type){case"date":case"email":return e(h);case"password":return"****";case"checkbox":return i(h);case"radio":return o(h);default:return l.value}}case"textarea":return l.value;case"select":return ai(l)?r(l):null;default:return null}}n.getInputElementValue=t;function e(l){return l.validity.valid?csString.prototype.trim.call(l.value):null}function i(l){let h=l.checked?"true":"false";if(!l.name)return h;let f=`input[type=checkbox][name=${l.name}]`,u=Z.findAllElements(f);if(u.length>1){let m=[];return csArray.prototype.forEach.call(u,y=>{ys(y)&&y.checked&&csArray.prototype.push.call(m,csString.prototype.trim.call(y.value))}),csArray.prototype.join.call(m,",")}return h}function r(l){let h=l.options[l.selectedIndex];return h!=null&&h.value?new csRegExp(/^[^\w]/).test(h.value)&&h.value===h.innerHTML?null:h.value:null}function o(l){let h=l.checked?"true":"false";if(!l.name)return h;let f=`input[type=radio][name=${l.name}]`,u=Z.findAllElements(f);if(u.length>0){for(let m of u)if(ys(m)&&m.checked)return c(m)}return h}function c(l){if((l==null?void 0:l.id)!==""){let h=Z.findAllElements(`label#${l.id}`);if(h.length>0&&h[0].textContent)return csString.prototype.trim.call(h[0].textContent)}return csString.prototype.trim.call(l.value)}}(s||(s={})),s})(),uv=(()=>{class s{constructor(t,e,i){this.Ft=e,this.M=i,this.fT=1024,this.pT=512,this.Eg="N/A",this.Sg=r=>{if(this.Ft.getElementSensitiveStatus(r)!==Ft.CAPTURED)return!0;let o=ys(r)||oi(r)||ai(r)?r.value:r.textContent;return!o||csString.prototype.trim.call(o).length===0?!1:this.vg(o)},this.wg=new lv,this.wg.setConfig(t),this.nu=this.wg.getConfig()}getCustomProperties(t,e){return e==="click"?this.ru(t,this.nu.clicks):e==="submit"?this.ru(t,this.nu.submits):e==="change"?this.ru(t,this.nu.changes):null}ru(t,e){let i={};return e.forEach((r,o)=>{if(t.matches(o)){for(let c of r.textInElement)this.gT(i,t,c);for(let c of r.formValue)this.mT(i,t,c);for(let c of r.elementExists)this.yT(i,t,c);for(let c of r.attribute)this.ET(i,t,c)}}),Mn(i)?null:i}gT(t,e,i){for(let r in i){let o=Tn.getNearestUnmaskedElementMatching(e,r,this.Sg);o&&this.ro(t,i[r].name,o.textContent||"")}}mT(t,e,i){for(let r in i){let o=Tn.getNearestUnmaskedElementMatching(e,r,this.Sg);if(o&&(ys(o)||oi(o)||ai(o))){let c=hv.getInputElementValue(o);this.ro(t,i[r].name,c||this.Eg)}}}yT(t,e,i){for(let r in i){let o=Tn.getNearestElementMatching(e,r);this.ro(t,i[r].name,o!==null)}}ET(t,e,i){for(let r in i){let o=i[r].attribute,c=Tn.getNearestUnmaskedElementMatching(e,r,h=>this.ST(h,o));if(c===null){this.ro(t,i[r].name,this.Eg);continue}let l=c.getAttribute(o);l!==null&&this.ro(t,i[r].name,l)}}ro(t,e,i){let r=W.truncate(e,this.pT),o=W.truncate(csString.prototype.trim.call(this.vT(i)),this.fT);t[r]=o}vT(t){if(A(t)){let e="||";return csString.prototype.replace.call(t,new csRegExp(e,"g"),"")}else if(Ui(t))return t?"true":"false";return""}ST(t,e){let i=t.getAttribute(e);return!(i!==null&&this.Ft.getAttributeSensitiveStatus(t,e)===Ft.CAPTURED&&!this.vg(i))}vg(t){return this.M.hasPII(t,null)}}return s})();var Ch=(()=>{class s extends mi{constructor(t){super(),this.yt=t,this.supportedEventTypes=[G.MOUSEDOWN,G.MOUSEUP,G.CLICK,G.MOUSEOVER,G.TAP,G.DRAG,G.FLICK,G.SUBMIT,G.CHANGE]}baseEnhanceAnalysisEvent(t,e){return e.tgt||(e.tgt=this.yt.getEventTargetPath(t)),e}}return s})(),Lc=65535,dv=(()=>{let s;return function(n){function t(e){let i=Ot(e);if(!i||!ft(i)||!Ae(i.getBoundingClientRect)||!dt(e.pageX)||!dt(e.pageY))return{xRel:-1,yRel:-1,valid:!1};let r=i.getBoundingClientRect(),o=e.pageX-r.left-_t.windowOffsetX(),c=e.pageY-r.top-_t.windowOffsetY();i!==document.documentElement&&(o+=i.scrollLeft,c+=i.scrollTop);let l=Math.max(i.scrollWidth,r.width),h=Math.max(i.scrollHeight,r.height),f=Math.round(o/l*Lc),u=Math.round(c/h*Lc);return{xRel:f,yRel:u,valid:!0}}n.getRelativePosition=t}(s||(s={})),s})(),fv=(()=>{class s extends mi{constructor(t,e){super(),this.ws=t,this.yt=e,this.supportedEventTypes=[G.MOUSEMOVE,G.CLICK],this.ou=""}baseEnhanceAnalysisEvent(t,e){let{valid:i,xRel:r,yRel:o}=dv.getRelativePosition(t);if(i){let c=this.yt.getEventTargetPath(t);c!==Be.INVALID_ELEMENT&&(e.xRel=r,e.yRel=o,e.type===G.MOUSEMOVE&&(c!==this.ou||this.ws.iframesTracking?(this.ou=c,e.tgtHM=c,this.ws.isChild||(e.tgtHMH=Ml(e.tgtHM))):e.tgtHM=""))}else e.type===G.MOUSEMOVE&&(this.ou="");return e}}return s})(),Ih=(()=>{class s extends mi{constructor(t,e){super(),this.yt=t,this.Ft=e,this.supportedEventTypes=[G.CLICK,G.SUBMIT,G.CHANGE,G.TAP]}baseEnhanceAnalysisEvent(t,e){let i=this.Ft.getSensitiveStatus().useAnonymization,{path:r,hierarchy:o}=this.yt.getEventTargetPathAndHierarchy(t,i);return e.tgt=r,e.hrchy=o,e}}return s})(),Uc=100,Ph=(()=>{class s extends mi{constructor(t,e,i){super(),this.E=t,this.Ft=e,this.M=i,this.supportedEventTypes=[G.TAP,G.CLICK,G.SUBMIT]}wT(t){let e="",i=document.createTreeWalker(t,NodeFilter.SHOW_TEXT),r=i.nextNode();for(;r;){if(e+=r.textContent,ai(r.parentElement)||oi(r.parentElement)||this.Ft.getElementSensitiveStatus(r.parentElement)!==Ft.CAPTURED)return!0;if(csString.prototype.trim.call(e).length>=Uc)break;r=i.nextNode()}return!1}_T(t){let e=li(t,"button,a");return e||(this.E.collectTargetText===Qr.ButtonAndLinkOnly?null:t)}baseEnhanceAnalysisEvent(t,e){if(Re(csEventtarget.apply(t))){let i=this._T(csEventtarget.apply(t));if(i&&A(i.textContent)&&!this.wT(i)&&!this.M.hasPII(i.textContent,this.E.anonymizeDigits)){let r=W.truncate(csString.prototype.trim.call(i.textContent),Uc);r.length>0&&(e.text=r)}}return e}}return s})();function pv(s,n,t){let e=[];return csArray.prototype.push.call(e,new fv(s,n)),s.isCollectTargetTextEnabled()&&csArray.prototype.push.call(e,new Ph(s,t,new ks)),s.collectHierarchy&&csArray.prototype.push.call(e,new Ih(n,t)),csArray.prototype.push.call(e,new av,new Ch(n)),s.isCsCrosswritingHeap()&&s.customEnhancerConfig&&csArray.prototype.push.call(e,new cv(new uv(s.customEnhancerConfig,t,new ks))),e}function gv(s,n,t){let e=[];return s.isCollectTargetTextEnabled()&&csArray.prototype.push.call(e,new Ph(s,t,new ks)),s.collectHierarchy&&csArray.prototype.push.call(e,new Ih(n,t)),csArray.prototype.push.call(e,new Ch(n)),e}var mv=(()=>{class s extends Tt{constructor(t,e){super(),this.oe=t,this.X=e,this._g=()=>{document.visibilityState==="visible"&&this.bg()}}onStart(){this.bg(),this.Mh()}onStop(){this.Dh()}getRecoveryStorage(){return this.oe}bg(){let t=this.oe.recover();if(t!==null){let{requestParameters:e,events:i}=t;this.X.send(i,e)}}Mh(){document.addEventListener("visibilitychange",this._g)}Dh(){document.removeEventListener("visibilitychange",this._g)}}return s})(),yv=(()=>{class s{constructor(t){this.Dn=t}save(t){localStorage.setItem(this.Dn,csJSON.stringify(t))}clear(){localStorage.removeItem(this.Dn)}recover(){let t=localStorage.getItem(this.Dn);if(t===null)return null;let e=null;try{e=csJSON.parse(t)}catch{B.error(`Invalid item in localStorage.
         (key:${this.Dn}; value:${t})`)}finally{this.clear()}return e}}return s})(),Ev=50,Sv=(()=>{class s{constructor(t=[]){this.jt=t}stringifyEvents(){return csJSON.stringify(this.jt)}addEvent(t){csArray.prototype.push.call(this.jt,t)}eventsCount(){return this.jt.length}clearEvents(){this.jt=[]}empty(){this.clearEvents()}isFull(){return this.eventsCount()>=Ev}isEmpty(){return this.jt.length===0}getEvents(){return this.jt}}return s})(),Yt=(()=>{class s{static build(t,e,i){return csArray.prototype.reduce.call(i,(r,o)=>o.enhanceAnalysisEvent(t,r),e)}}return s})(),vv=(()=>{class s{constructor(t,e,i,r=["submit"]){this.le=t,this.yt=e,this.$t=i,this.bT=r,this.Tg="select, select *, input, textarea",this.TT="select, select *, input, textarea",this.Ag="a, a *, button, button *, select, select *, input, textarea",this.oo="input, select, textarea",this.AT="form",this.Za=150,this.RT=400,this.Rg=!1,this.ao=ni((o,c)=>this.scrollListener(o,c),this.Za),this.Cg=ni(o=>this.resizeListener(o),this.Za),this.CT=Kn(o=>this.mouseMoveListener(o),this.RT),this.IT=[{boundElement:window,type:"resize",listener:()=>this.Cg()},{boundElement:document,type:"scroll",listener:o=>this.ao(o)},{boundElement:window,type:"mousemove",listener:o=>{this.CT(qp(o))}},{boundElement:document,type:"mousedown",listener:o=>this.mouseDownListener(o)},{boundElement:document,type:"mouseup",listener:o=>this.mouseUpListener(o)},{boundElement:document,type:"click",listener:o=>this.clickListener(o)}],this.Ig=[{type:"change",listener:this.$t.on(this.TT,o=>this.changeListener(o))},{type:"submit",listener:this.$t.on(this.AT,o=>this.submitListener(o))}],this.PT=[{boundElement:document,type:"mouseover",listener:this.$t.on(this.Ag,o=>this.mouseOverListener(o))},{boundElement:document,type:"mouseout",listener:this.$t.on(this.Ag,o=>this.mouseOutListener(o))},{boundElement:document,type:"focusin",listener:this.$t.on(this.Tg,o=>this.focusInListener(o))},{boundElement:document,type:"focusout",listener:this.$t.on(this.Tg,o=>this.focusOutListener(o))},{boundElement:document,type:"keyup",listener:this.$t.on(this.oo,o=>this.keyUpListener(o))},{boundElement:document,type:"keydown",listener:this.$t.on(this.oo,o=>this.keyDownListener(o))},{boundElement:document,type:"copy",listener:this.$t.on(this.oo,o=>this.copyListener(o))},{boundElement:document,type:"cut",listener:this.$t.on(this.oo,o=>this.cutListener(o))},{boundElement:document,type:"paste",listener:this.$t.on(this.oo,o=>this.pasteListener(o))},...csArray.prototype.map.call(this.Ig,o=>({...o,boundElement:document}))],this.B={},this.Hl=(o,c)=>{switch(c){case"initial":case"added":this.Bi(o);break;case"removed":this.Fi(o);break}},this.ge=new pi(this.Hl),this.Gh()}Bi(t){if(Un(t)){let e=this.Pg();csArray.prototype.forEach.call(e,i=>yt(i))}else{let e=this.Og();csArray.prototype.forEach.call(e,i=>{yt({...i,boundElement:t})})}}Fi(t){if(Un(t)){let e=this.Pg();csArray.prototype.forEach.call(e,i=>Et(i))}else{let e=this.Og();csArray.prototype.forEach.call(e,i=>{Et({...i,boundElement:t})})}}onEvent(t){this.U=t}start(){this.ge.observe(),this.Bi(document),this.resizeListener()}stop(){this.Fi(document),this.ge.disconnect()}flushPendingDebouncedListeners(){this.ao.flushPending(),this.Cg.flushPending()}Ng(t){return csArray.prototype.some.call(this.bT,e=>e===t)}Og(){return this.$t.isMatchesSelectorSupported()?csArray.prototype.filter.call(this.Ig,t=>!this.Ng(t.type)):(B.warn("Element.matches is not implemented yet"),[])}Pg(){let t=[];return csArray.prototype.push.call(t,...this.IT),this.$t.isMatchesSelectorSupported()?csArray.prototype.push.call(t,...this.PT):B.warn("Element.matches is not implemented yet"),csArray.prototype.filter.call(t,e=>!this.Ng(e.type))}resizeListener(t){let e=si.getScrollContainer(),i=Re(e);i&&(this.Rg=!0);let r={type:G.RESIZE,ts:0,x:i?e.clientWidth:_t.windowWidth(),y:i?e.clientHeight:_t.windowHeight()};t!==void 0&&(r.d=t),this.U(r)}scrollListener(t,e){let i=si.isEventOnScrollContainer(e);!this.Rg&&i&&this.resizeListener();let r={type:G.SCROLL,ts:0,x:i?csEventtarget.apply(e).scrollLeft:_t.windowOffsetX(),y:i?csEventtarget.apply(e).scrollTop:_t.windowOffsetY(),d:t},o=Yt.build(e,r,this.le);this.U(o)}mouseMoveListener(t){let e={type:G.MOUSEMOVE,ts:0,x:t.pageX,y:t.pageY},i=Yt.build(t,e,this.le);this.U(i)}mouseDownListener(t){let e={type:G.MOUSEDOWN,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Yt.build(t,e,this.le);this.we(i)}mouseUpListener(t){let e={type:G.MOUSEUP,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Yt.build(t,e,this.le);this.we(i)}clickListener(t){let e={type:G.CLICK,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Yt.build(t,e,this.le);this.we(i)}mouseOverListener(t){let e={type:G.MOUSEOVER,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Yt.build(t,e,this.le);this.we(i)}mouseOutListener(t){let e={type:G.MOUSEOUT,ts:0,x:t.pageX,y:t.pageY,tgt:this.yt.getEventTargetPath(t)},i=Yt.build(t,e,this.le);this.we(i)}focusInListener(t){let e={type:G.FOCUSIN,ts:0,tgt:this.yt.getEventTargetPath(t)},i=Yt.build(t,e,this.le);this.we(i)}focusOutListener(t){let e={type:G.FOCUSOUT,ts:0,tgt:this.yt.getEventTargetPath(t)},i=Yt.build(t,e,this.le);this.we(i)}changeListener(t){let e={type:G.CHANGE,ts:0,tgt:""},i=Yt.build(t,e,this.le);this.we(i)}submitListener(t){let e={type:G.SUBMIT,ts:0,tgt:""},i=Yt.build(t,e,this.le);this.we(i)}copyListener(t){let e={type:G.COMMAND,ts:0,tgt:this.yt.getEventTargetPath(t),key:ei.COPY};this.we(e)}cutListener(t){let e={type:G.COMMAND,ts:0,tgt:this.yt.getEventTargetPath(t),key:ei.CUT};this.we(e)}pasteListener(t){let e={type:G.COMMAND,ts:0,tgt:this.yt.getEventTargetPath(t),key:ei.PASTE};this.we(e)}keyUpListener(t){let e={type:G.KEYUP,ts:0,tgt:this.yt.getEventTargetPath(t),key:this.Mg(t)};this.we(e)}keyDownListener(t){let e={type:G.KEYDOWN,ts:0,tgt:this.yt.getEventTargetPath(t),key:this.Mg(t)};this.we(e)}Mg(t){let e=this.B[t.key];return e===void 0?Y.ALPHANUMERICAL:e}we(t){Nl(t)&&t.tgt!==Be.INVALID_ELEMENT&&this.U(t)}Gh(){this.B[" "]=Y.SPACE,this.B.Spacebar=Y.SPACE,this.B.Enter=Y.ENTER,this.B.Backspace=Y.BACKSPACE,this.B.Delete=Y.DELETE,this.B.ArrowUp=Y.ARROWUP,this.B.ArrowDown=Y.ARROWDOWN,this.B.ArrowLeft=Y.ARROWLEFT,this.B.ArrowRight=Y.ARROWRIGHT,this.B.Up=Y.ARROWUP,this.B.Down=Y.ARROWDOWN,this.B.Left=Y.ARROWLEFT,this.B.Right=Y.ARROWRIGHT,this.B.CapsLock=Y.CAPSLOCK,this.B.Shift=Y.SHIFT,this.B.Tab=Y.TAB}}return j([N("Event handler type: resize")],s.prototype,"resizeListener",null),j([N("Event handler type: scroll")],s.prototype,"scrollListener",null),j([N("Event handler type: mouseMove"),ut()],s.prototype,"mouseMoveListener",null),j([N("Event handler type: mouseDown"),ut()],s.prototype,"mouseDownListener",null),j([N("Event handler type: mouseUp"),ut()],s.prototype,"mouseUpListener",null),j([N("Event handler type: click"),ut()],s.prototype,"clickListener",null),j([N("Event handler type: mouseOver"),ut()],s.prototype,"mouseOverListener",null),j([N("Event handler type: mouseOut"),ut()],s.prototype,"mouseOutListener",null),j([N("Event handler type: focusIn")],s.prototype,"focusInListener",null),j([N("Event handler type: focusOut")],s.prototype,"focusOutListener",null),j([N("Event handler type: change")],s.prototype,"changeListener",null),j([N("Event handler type: submit"),ut()],s.prototype,"submitListener",null),j([N("Event handler type: copy")],s.prototype,"copyListener",null),j([N("Event handler type: cut")],s.prototype,"cutListener",null),j([N("Event handler type: paste")],s.prototype,"pasteListener",null),j([N("Event handler type: keyup")],s.prototype,"keyUpListener",null),j([N("Event handler type: keydown")],s.prototype,"keyDownListener",null),s})(),wv=(()=>{class s{constructor(t,e,i){this.le=t,this.Bt=e,this.It=i}processGesture(t,e){switch(t.type){case Ct.TAP:this.OT(e);break;case Ct.FLICK:this.NT(t,e);break;case Ct.DRAG:this.MT(t,e);break;default:break}}OT(t){let e={type:G.TAP,ts:0,x:0,y:0,tgt:""},i=Yt.build(t,e,this.le);i.tgt!==Be.INVALID_ELEMENT&&this.U(i)}MT(t,e){var i,r;let o={type:G.DRAG,ts:0,fd:t.direction,tgt:""};!((i=this.It)===null||i===void 0)&&i.collectGestureDistance&&(o.distance=t.distance),!((r=this.It)===null||r===void 0)&&r.collectGestureVelocity&&(o.velocity=t.velocity);let c=Yt.build(e,o,this.le);c.tgt!==Be.INVALID_ELEMENT&&this.U(c)}NT(t,e){var i,r;let o={type:G.FLICK,ts:0,fd:t.direction,tgt:""};!((i=this.It)===null||i===void 0)&&i.collectGestureDistance&&(o.distance=t.distance),!((r=this.It)===null||r===void 0)&&r.collectGestureVelocity&&(o.velocity=t.velocity);let c=Yt.build(e,o,this.le);c.tgt!==Be.INVALID_ELEMENT&&this.U(c)}onEvent(t){this.U=t}start(){this.Bt.subscribe(s.Dg,(t,e)=>this.processGesture(t,e))}stop(){this.Bt.unsubscribe(s.Dg)}}return s.Dg="AnalysisGestureTracker",j([ut()],s.prototype,"processGesture",null),s})();var _v=(()=>{class s{constructor(){this.$g=100,this.ho=0,this.uo=_t.documentHeight(),this.zg={boundElement:document,type:"scroll",listener:t=>this.maxScrollRateListener(t)},this.ho=this.gu(si.getScrollContainer()).maxScrollRate}onEvent(t){this.U=t}start(){yt(this.zg)}stop(){Et(this.zg)}reset(){let t=si.getScrollContainer(),{maxScrollRate:e,maxDocumentHeight:i}=this.gu(t);this.uo=i,this.ho=e,this.U()}gu(t){let e=0,i=0;if(t===null)i=_t.documentHeight(),e=this.zT(i);else{let r=this.GT(t);i=this.Gg(t,r),e=this.qT(t,r)}return{maxScrollRate:e,maxDocumentHeight:i}}maxScrollRateListener(t){let e=null;si.isEventOnScrollContainer(t)&&(e=csEventtarget.apply(t));let{maxScrollRate:i,maxDocumentHeight:r}=this.gu(e);(i>this.ho||r>this.uo)&&(this.ho=i,r>this.uo&&(this.uo=r),this.U())}zT(t){let e=Math.round(this.WT()/t*100);return Math.min(e,this.$g)}WT(){let t=_t.windowHeight();return _t.windowOffsetY()+t}qT(t,e){let i=t.scrollTop+t.clientHeight+t.getBoundingClientRect().top+e,r=this.Gg(t,e),o=Math.round(i/r*100);return Math.min(o,this.$g)}GT(t){let e=window.getComputedStyle(t).paddingTop||"0px";return parseInt(e,10)}Gg(t,e){return t.scrollHeight+t.getBoundingClientRect().top+e}getRequestParameters(){return{sr:`${this.ho}`,mdh:`${this.uo}`}}}return j([N("MaxScrollRate handler")],s.prototype,"maxScrollRateListener",null),s})(),bv=(()=>{class s{constructor(t){this.fo=t,this.po=e=>this.processMetric(e),this.V=!1}onEvent(t){this.U=t}start(){this.V||(this.V=!0,this.fo.onFCP(this.po),this.fo.onCLS(this.po),this.fo.onLCP(this.po),this.fo.onTTFB(this.po),this.fo.onINP(this.po))}stop(){this.V=!1}processMetric(t){if(!this.V)return;let e={type:G.PERFORMANCE,name:t.name,val:t.value,ts:0};this.U(e)}}return j([N("Performance metric handler")],s.prototype,"processMetric",null),s})(),Tv=(()=>{class s{constructor(t){this.nc=t.performance}getRequestParameters(){if(this.YT())return{};let t=this.XT();return{str:t.startRender,di:t.domInteractive,dc:t.domComplete,fl:t.fullyLoaded}}XT(){let t=this.nc.timing;return{startRender:`${t.domLoading-t.requestStart}`,domInteractive:`${t.domInteractive-t.requestStart}`,domComplete:`${t.domComplete-t.requestStart}`,fullyLoaded:`${t.loadEventEnd-t.requestStart}`}}YT(){return!(this.nc&&this.nc.timing&&this.nc.timing.loadEventEnd>0)}}return s})();var Oh=-1,yi=s=>{addEventListener("pageshow",n=>{n.persisted&&(Oh=n.timeStamp,s(n))},!0)},Ie=(s,n,t,e)=>{let i,r;return o=>{n.value>=0&&(o||e)&&(r=n.value-(i!=null?i:0),(r||i===void 0)&&(i=n.value,n.delta=r,n.rating=((c,l)=>c>l[1]?"poor":c>l[0]?"needs-improvement":"good")(n.value,t),s(n)))}},ra=s=>{requestAnimationFrame(()=>requestAnimationFrame(()=>s()))},oa=()=>{let s=performance.getEntriesByType("navigation")[0];if(s&&s.responseStart>0&&s.responseStart<performance.now())return s},sn=()=>{var n;let s=oa();return(n=s==null?void 0:s.activationStart)!=null?n:0},Pe=(s,n=-1)=>{let t=oa(),e="navigate";return Oh>=0?e="back-forward-cache":t&&(document.prerendering||sn()>0?e="prerender":document.wasDiscarded?e="restore":t.type&&(e=t.type.replace(/_/g,"-"))),{name:s,value:n,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:e}},Ur=new WeakMap;function aa(s,n){return Ur.get(s)||Ur.set(s,new n),Ur.get(s)}var go=class{constructor(){Me(this,"t");Me(this,"i",0);Me(this,"o",[])}h(n){var i;if(n.hadRecentInput)return;let t=this.o[0],e=this.o.at(-1);this.i&&t&&e&&n.startTime-e.startTime<1e3&&n.startTime-t.startTime<5e3?(this.i+=n.value,this.o.push(n)):(this.i=n.value,this.o=[n]),(i=this.t)==null||i.call(this,n)}},nn=(s,n,t={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(s)){let e=new PerformanceObserver(i=>{Promise.resolve().then(()=>{n(i.getEntries())})});return e.observe({type:s,buffered:!0,...t}),e}}catch{}},ca=s=>{let n=!1;return()=>{n||(s(),n=!0)}},Qs=-1,Vc=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,Gn=s=>{document.visibilityState==="hidden"&&Qs>-1&&(Qs=s.type==="visibilitychange"?s.timeStamp:0,Av())},jc=()=>{addEventListener("visibilitychange",Gn,!0),addEventListener("prerenderingchange",Gn,!0)},Av=()=>{removeEventListener("visibilitychange",Gn,!0),removeEventListener("prerenderingchange",Gn,!0)},Nh=()=>{var s;if(Qs<0){let n=sn(),t=document.prerendering||(s=globalThis.performance.getEntriesByType("visibility-state").filter(e=>e.name==="hidden"&&e.startTime>n)[0])==null?void 0:s.startTime;Qs=t!=null?t:Vc(),jc(),yi(()=>{setTimeout(()=>{Qs=Vc(),jc()})})}return{get firstHiddenTime(){return Qs}}},er=s=>{document.prerendering?addEventListener("prerenderingchange",()=>s(),!0):s()},Hc=[1800,3e3],Mh=(s,n={})=>{er(()=>{let t=Nh(),e,i=Pe("FCP"),r=nn("paint",o=>{for(let c of o)c.name==="first-contentful-paint"&&(r.disconnect(),c.startTime<t.firstHiddenTime&&(i.value=Math.max(c.startTime-sn(),0),i.entries.push(c),e(!0)))});r&&(e=Ie(s,i,Hc,n.reportAllChanges),yi(o=>{i=Pe("FCP"),e=Ie(s,i,Hc,n.reportAllChanges),ra(()=>{i.value=performance.now()-o.timeStamp,e(!0)})}))})},Bc=[.1,.25],Rv=(s,n={})=>{Mh(ca(()=>{let t,e=Pe("CLS",0),i=aa(n,go),r=c=>{for(let l of c)i.h(l);i.i>e.value&&(e.value=i.i,e.entries=i.o,t())},o=nn("layout-shift",r);o&&(t=Ie(s,e,Bc,n.reportAllChanges),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&(r(o.takeRecords()),t(!0))}),yi(()=>{i.i=0,e=Pe("CLS",0),t=Ie(s,e,Bc,n.reportAllChanges),ra(()=>t())}),setTimeout(t))}))},Dh=0,Vr=1/0,An=0,Cv=s=>{for(let n of s)n.interactionId&&(Vr=Math.min(Vr,n.interactionId),An=Math.max(An,n.interactionId),Dh=An?(An-Vr)/7+1:0)},mo,Fc=()=>{var s;return mo?Dh:(s=performance.interactionCount)!=null?s:0},Iv=()=>{"interactionCount"in performance||mo||(mo=nn("event",Cv,{type:"event",buffered:!0,durationThreshold:0}))},$c=0,yo=class{constructor(){Me(this,"u",[]);Me(this,"l",new Map);Me(this,"m");Me(this,"p")}v(){$c=Fc(),this.u.length=0,this.l.clear()}P(){let n=Math.min(this.u.length-1,Math.floor((Fc()-$c)/50));return this.u[n]}h(n){var i,r;if((i=this.m)==null||i.call(this,n),!n.interactionId&&n.entryType!=="first-input")return;let t=this.u.at(-1),e=this.l.get(n.interactionId);if(e||this.u.length<10||n.duration>t.T){if(e?n.duration>e.T?(e.entries=[n],e.T=n.duration):n.duration===e.T&&n.startTime===e.entries[0].startTime&&e.entries.push(n):(e={id:n.interactionId,entries:[n],T:n.duration},this.l.set(e.id,e),this.u.push(e)),this.u.sort((o,c)=>c.T-o.T),this.u.length>10){let o=this.u.splice(10);for(let c of o)this.l.delete(c.id)}(r=this.p)==null||r.call(this,e)}}},kh=s=>{let n=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?s():(n(s=ca(s)),document.addEventListener("visibilitychange",s,{once:!0}))},zc=[200,500],Pv=(s,n={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&er(()=>{var c;Iv();let t,e=Pe("INP"),i=aa(n,yo),r=l=>{kh(()=>{for(let f of l)i.h(f);let h=i.P();h&&h.T!==e.value&&(e.value=h.T,e.entries=h.entries,t())})},o=nn("event",r,{durationThreshold:(c=n.durationThreshold)!=null?c:40});t=Ie(s,e,zc,n.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&(r(o.takeRecords()),t(!0))}),yi(()=>{i.v(),e=Pe("INP"),t=Ie(s,e,zc,n.reportAllChanges)}))})},Eo=class{constructor(){Me(this,"m")}h(n){var t;(t=this.m)==null||t.call(this,n)}},Gc=[2500,4e3],Ov=(s,n={})=>{er(()=>{let t=Nh(),e,i=Pe("LCP"),r=aa(n,Eo),o=l=>{n.reportAllChanges||(l=l.slice(-1));for(let h of l)r.h(h),h.startTime<t.firstHiddenTime&&(i.value=Math.max(h.startTime-sn(),0),i.entries=[h],e())},c=nn("largest-contentful-paint",o);if(c){e=Ie(s,i,Gc,n.reportAllChanges);let l=ca(()=>{o(c.takeRecords()),c.disconnect(),e(!0)});for(let h of["keydown","click","visibilitychange"])addEventListener(h,()=>kh(l),{capture:!0,once:!0});yi(h=>{i=Pe("LCP"),e=Ie(s,i,Gc,n.reportAllChanges),ra(()=>{i.value=performance.now()-h.timeStamp,e(!0)})})}})},qc=[800,1800],So=s=>{document.prerendering?er(()=>So(s)):document.readyState!=="complete"?addEventListener("load",()=>So(s),!0):setTimeout(s)},Nv=(s,n={})=>{let t=Pe("TTFB"),e=Ie(s,t,qc,n.reportAllChanges);So(()=>{let i=oa();i&&(t.value=Math.max(i.responseStart-sn(),0),t.entries=[i],e(!0),yi(()=>{t=Pe("TTFB",0),e=Ie(s,t,qc,n.reportAllChanges),e(!0)}))})},Mv=(()=>{class s{onFCP(t){try{Mh(t,{reportAllChanges:!0})}catch{F.counters.webVitalsErrors.count("FCP")}}onCLS(t){try{Rv(t,{reportAllChanges:!0})}catch{F.counters.webVitalsErrors.count("CLS")}}onLCP(t){try{Ov(t,{reportAllChanges:!0})}catch{F.counters.webVitalsErrors.count("LCP")}}onTTFB(t){try{Nv(t,{reportAllChanges:!0})}catch{F.counters.webVitalsErrors.count("TTFB")}}onINP(t){try{Pv(t,{reportAllChanges:!0})}catch{F.counters.webVitalsErrors.count("INP")}}}return s})();var Dv="csAnalysisEventsPersisted",Wc="v2/events",la=["submit"],vo=["trackEvent"],kv="track",xv=(()=>{class s{constructor(t,e,i,r,o,c,l,h,f,u,m,y,S){this.E=t,this.St=e,this.N=i,this.Z=r,this.$t=o,this.S=c,this.j=l,this.Bt=h,this.pt=f,this.Ht=u,this.J=m,this.Ft=y,this.Be=S}init(){let t=new Sv,e=this.Ht.create(`${this.E.getTrackerUri()}/${Wc}`,"base64");this.Fn=this.cA(e),this.Qt=this.lA(t,this.Fn.getRecoveryStorage(),e),this.Qt.init(),this.J.addListener(this.Qt),this.pt.addListener(this.Qt),this.S.register(la,(i,r)=>{this.Qt.pushSubmitCommandEvent(i,r)}),this.S.register(vo,i=>{if(!K(i))throw new St(vo[0]);this.Qt.pushCustomEvent(i.name,i.source,i.properties)}),this.Be&&this.Be.register(kv,(i,r,o)=>{let c=Rh.handleCustomEventCommandMisuse(i,o);this.Qt.pushCustomEvent(i,c,r)})}onStartTracking(t){this.Fn.start(),this.Qt.start(t)}onAfterNaturalPageView(){this.Qt.initStates()}onArtificialPageViewEnd(t){this.Qt.clearStates(!0),t&&(this.Qt.stop(),this.Fn.stop())}onAfterArtificialPageView(t){this.Qt.initStates(),t&&(this.Qt.start(),this.Fn.start()),this.Qt.collectInitialEvents()}onBeforeSessionRenewal(){this.Qt.clearStates(),this.Qt.stop(),this.Fn.stop()}onOptout(){this.Qt.stop(),this.Fn.stop()}lA(t,e,i){var r;let o=new Tv(window),c=new _v,l=pv(this.E,this.Z,this.Ft),h=[];this.E.collectSubmit||csArray.prototype.push.call(h,"submit");let f=new vv(l,this.Z,this.$t,h),u=gv(this.E,this.Z,this.Ft),m=new wv(u,this.Bt),y=new bv(new Mv),S=new _h,O,D,v,_=new Sh(`${this.E.getTrackerUri()}/${Wc}`),I=new $i(this.St,this.N),M,T,H,it;return new ov(this.E,f,m,c,o,t,_,I,this.j,e,this.Z,y,S,i,O,D,v,M,T,H,it)}cA(t){return new mv(new yv(Dv),t)}}return s})(),Lv=(()=>{class s extends At{validateArgs(t){return K(t)?A(t.status)&&A(t.selector):!1}execute(t){if(!Ut(t.selector))return;let e=window.csquerySelector[document.nodeType].call(document,t.selector);e&&this.commandsService.applyFromImplementation(la[0],[t.status,e],"SubmitTemplate")}}return s})(),se=(()=>{class s{onEvent(t){this.onEventCallback=t}constructor(t,e,i){this.commandsService=t,this.condition=i,this.isStarted=!1,this.nm=!1,this.args=e}start(){this.nm||(this.onInit(),this.nm=!0),this.isStarted||(this.onStart(),this.isStarted=!0)}stop(){this.isStarted&&(this.onStop(),this.isStarted=!1)}}return j([N()],s.prototype,"start",null),j([N()],s.prototype,"stop",null),s})(),Yc="once per pageview",Uv="always",Vv=(()=>{class s extends se{constructor(){super(...arguments),this.wt=!0}validateArgs(t){if(K(t)){let e=A(t.selector),i=t.frequency?t.frequency===Yc||t.frequency===Uv:!0;return e&&i}return!1}onInit(){if(!Ut(this.args.selector)){this.wt=!1;return}this.go=this.args.frequency?this.args.frequency===Yc:!0,this.z=new me((t,e)=>this.A(t,e))}onStart(){this.wt&&this.z.observe(this.args.selector)}onStop(){this.wt&&(this.z.processPendingMutations(),this.z.disconnect())}A(t,e){e==="added"&&(this.go?(this.stop(),this.onEventCallback({element:t[0]})):new Set(t).forEach(i=>this.onEventCallback({element:i})))}}return s})(),jv=(()=>{class s extends se{constructor(){super(...arguments),this.wt=!0,this.rm=!1}validateArgs(t){return K(t)?A(t.selector):!1}onInit(){if(!Ut(this.args.selector)){this.wt=!1;return}this.z=new me((t,e)=>{this.A(t,e)})}onStart(){this.wt&&(this.z.observe(this.args.selector),this.rm=!0)}onStop(){this.wt&&(this.z.processPendingMutations(),this.z.disconnect())}A(t,e){this.rm?e==="added"&&new Set(t).forEach(i=>this.onEventCallback({element:i})):this.onEventCallback({element:t[0]})}}return s})(),Hv=(()=>{class s extends se{constructor(){super(...arguments),this.wt=!0}validateArgs(t){return K(t)?A(t.selector):!1}onInit(){if(!Ut(this.args.selector)){this.wt=!1;return}this.G=new me(t=>this.hA(t)),this.L=new ye(t=>this.uA(t))}onStart(){this.wt&&(this.rc=csSymbol("MatchingElement"),this.G.observe(this.args.selector),this.L.observe())}onStop(){this.wt&&(this.G.processPendingMutations(),this.G.disconnect(),this.L.disconnect())}hA(t){new Set(t).forEach(e=>this.dA(e))}uA(t){let e=Oo(t,r=>r.removedNodes),i=[];for(let r of e)csArray.prototype.push.call(i,...this.fA(r));new Set(i).forEach(r=>this.onEventCallback({element:r}))}dA(t){t[this.rc]=!0}fA(t){let e=[];return Xt(t,NodeFilter.SHOW_ELEMENT).visitAll(i=>{i[this.rc]&&(Z.isConnected(i)?ee.call(i,this.args.selector)||delete i[this.rc]:delete i[this.rc],csArray.prototype.push.call(e,i))}),e}}return s})(),Bv=(()=>{class s{static readyStateChangeListener(t){csArray.prototype.forEach.call($e(s.callbacks),e=>e(t))}static Sh(t){s.callbacks.has(t)||(s.callbacks.add(t),s.callbacks.size===1&&yt(s.eventHandler,!1))}static xr(t){s.callbacks.delete(t),s.callbacks.size===0&&Et(s.eventHandler,!1)}constructor(t){this.A=t}observe(){s.Sh(this.A)}disconnect(){s.xr(this.A)}}return s.callbacks=new Set,s.eventHandler={boundElement:rt.document,type:"readystatechange",listener:s.readyStateChangeListener},st([N("readyStateChangeListener"),ut()],s,"readyStateChangeListener",null),s})(),Fv=(()=>{class s extends se{constructor(){super(...arguments),this.Eu={state:"Any"}}validateArgs(t){var e;return K(t)&&A(t.state)||(B.implementation(`PageStateTrigger has wrong argument: ${(e=this.args)===null||e===void 0?void 0:e.state}, fallback to default config.`),this.args=this.Eu),!0}onInit(){this.Mt=this.args.state.toLowerCase(),this.z=new Bv(()=>{this.om(this.Mt,document.readyState)&&(this.onEventCallback(),this.z.disconnect())})}onStart(){this.om(this.Mt,document.readyState)?this.onEventCallback():this.z.observe()}onStop(){this.z.disconnect()}om(t,e){let i=s.am[e];return s.am[t]<=i}}return s.am={complete:3,interactive:2,loading:1,any:0},s})(),Rn=(()=>{let s;return function(n){n[n.NOT_NEEDED=1]="NOT_NEEDED",n[n.NOT_EXPRESSED=2]="NOT_EXPRESSED",n[n.WITHDRAWN=3]="WITHDRAWN",n[n.GRANTED=4]="GRANTED"}(s||(s={})),s})(),us=(()=>{let s;return function(n){function t(r){return r.replayConsentRequiredForSession}n.isReplayConsentNeeded=t;function e(r){return r.collectState===U.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED||r.collectState===U.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}n.isRecordingBlockedByConsent=e;function i(r){return r.collectState===U.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}n.isRecordingWithDrawn=i}(s||(s={})),s})(),$v=(()=>{class s{constructor(t,e,i,r){this.N=t,this.C=e,this.E=i,this.as=r,this.cm=!1}isNaturalPageViewSent(){return this.cm}setNaturalPageViewSent(t){this.cm=t}getTrackingContext(){let t=this.C.getSession();if(!t)return null;let e=this.getSessionKey();if(!e)return null;let i=this.E.projectId,r=this.E.uxaDomain,o=t.pageNumber,c=this.as.getPageViewType(),l=this.C.isReplayRecorded(),h=this.pA(t);return{projectId:i,sessionKey:e,pageNumber:o,pageViewType:c,isRecording:l,uxaDomain:r,recordingConsentState:h,...this.E.smbConfig}}getSessionKey(){let t=this.N.getVisitor();return t?`${t.id}.${t.visitsCount}`:null}pA(t){return us.isReplayConsentNeeded(this.E)?t.collectState===U.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED?Rn.NOT_EXPRESSED:t.collectState===U.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?Rn.WITHDRAWN:Rn.GRANTED:Rn.NOT_NEEDED}}return s})(),zv=(()=>{class s{constructor(t){this.Dt=t,this.ue=[]}handleCommand(t){if(Ae(t)&&(this.mo(t),this.Dt.isNaturalPageViewSent())){let e=this.Dt.getTrackingContext();e!==null&&this.zt(t,e)}}mo(t){csArray.prototype.push.call(this.ue,t)}executeRegisteredCallbacks(){let t=this.Dt.getTrackingContext();t!==null&&csArray.prototype.map.call(this.ue,e=>this.zt(e,t))}zt(t,e){csSetTimeout(()=>{t(e)})}}return s})(),Gv=(()=>{class s{constructor(t){this.Dt=t,this.Ji=[]}handleCommand(t){if(this.Dt.isNaturalPageViewSent())return this.gA(t);this.yo(t)}gA(t){let e=this.Dt.getSessionKey();return this.lm(t)&&e!==null&&this.zt(t.callback,e),e}yo(t){this.lm(t)&&csArray.prototype.push.call(this.Ji,t.callback)}flushPendingCallbacks(){let t=this.Dt.getSessionKey();t!==null&&csArray.prototype.forEach.call(this.Ji,e=>{this.zt(e,t)}),this.Ji=[]}lm(t){return t&&typeof t.callback=="function"}zt(t,e){csSetTimeout(()=>{t(e)})}}return s})();function qv(s,n){let{isRecording:t,pageNumber:e,projectId:i,siteId:r,uxaDomain:o,csLiteDomain:c}=s,l=/^(.+)\.(\d+)$/.exec(s.sessionKey),h;if(t&&l){let[,f,u]=l;r?h=`${c}/sites/${r}/player?uu=${f}&sn=${u}&pn=${e}`:h=`${o}/quick-playback/index.html?pid=${i}&uu=${f}&sn=${u}&pvid=${e}&recordingType=cs`,n.withTimestamp&&(h+=`&t=${C.now()-n.recordingStartTimestamp}`)}return{replayLink:h,isRecording:t}}var Wv=(()=>{class s{constructor(t){this.Dt=t}handleCommand(t,e){Fe(t)&&Ae(e)&&this.zt(t,e)}zt(t,e){csSetTimeout(()=>{let i=this.Dt.getTrackingContext();if(i){let r=qv(i,t);e(r)}})}}return s})(),Yv=(()=>{class s{constructor(){this.ue=new Set}handleCommand(t,e){return!Ae(t)||this.ue.has(t)?null:(this.ue.add(t),e&&(this.Oe=e,this.hm(t,e)),()=>this.ue.delete(t))}executeCallbacks(t){this.mA(t)&&(this.Oe=t,this.ue.forEach(e=>this.hm(e,t)))}hm(t,e){csSetTimeout(()=>{try{t(e)}catch{}})}mA(t){let{isRecording:e,recordingStartTimestamp:i,etrState:r,etrStatus:o,collectState:c}=t;return this.Oe&&(this.Oe.isRecording!==e||this.Oe.recordingStartTimestamp!==i||this.Oe.etrState!==r||this.Oe.etrStatus!==o||this.Oe.collectState!==c)}}return s})(),xh=["afterPageView"],Xv=["getSessionKey"],Kv=["onRecordingContextChange","onRecordingStateChange"],Jv=["replay:link:generate"],Qv=(()=>{class s{constructor(t,e,i,r,o,c,l,h){this.N=t,this.C=e,this.S=i,this.pt=r,this.et=o,this.E=c,this.as=l,this.fi=h,this.um=null}init(){this.Dt=new $v(this.N,this.C,this.E,this.as),this.Su=new zv(this.Dt),this.dm=new Gv(this.Dt),this.Eo=new Yv,this.yA=new Wv(this.Dt),this.S.register(Xv,t=>this.dm.handleCommand(t)),this.S.register(xh,t=>this.Su.handleCommand(t)),this.S.register(Kv,t=>this.Eo.handleCommand(t,this.fi.getRecordingContext())),this.S.register(Jv,(t,e)=>{this.$n&&this.yA.handleCommand({...t,recordingStartTimestamp:this.fi.getRecordingContext().recordingStartTimestamp},e)})}onAfterNaturalPageView(){var t;this.Dt.setNaturalPageViewSent(!0),this.dm.flushPendingCallbacks(),this.Su.executeRegisteredCallbacks(),(t=this.um)===null||t===void 0||t.sendAfterPageViewCallbackToChildren()}onAfterArtificialPageView(){var t;this.Su.executeRegisteredCallbacks(),(t=this.um)===null||t===void 0||t.sendAfterPageViewCallbackToChildren()}onCollectStateChange(){this.executeRecordingContextChangeCallbacks()}onRecordingContextChange(){this.executeRecordingContextChangeCallbacks()}executeRecordingContextChangeCallbacks(){this.Eo.executeCallbacks(this.fi.getRecordingContext())}setRecordingService(t){this.$n=t}}return j([Qi({wait:0,mode:"trailing"})],s.prototype,"executeRecordingContextChangeCallbacks",null),s})(),Zv=(()=>{class s extends se{validateArgs(t){return!!K(t)}EA(){this.isStarted&&this.onEventCallback()}onInit(){this.commandsService.applyFromImplementation(xh[0],[()=>this.EA()],"AfterPageViewTrigger")}onStart(){}onStop(){}}return s})(),tw=(()=>{class s extends se{constructor(){super(...arguments),this.vu=!1,this.wt=!0,this.ai=!0,this.yi={boundElement:document,type:"click",listener:t=>{if(this.vu){this.vu=!1;return}this.onClickOrTap(t)}},this.SA=(t,e)=>{t.type===Ct.TAP&&(this.vu=!0,this.onClickOrTap(e))}}validateArgs(t){return K(t)?A(t.selector):!1}onClickOrTap({target:t}){if(dt(t)&&Re(t)){let e=li(t,this.args.selector);e&&this.onEventCallback({element:e})}}onInit(){if(!Ut(this.args.selector)){this.wt=!1;return}this.zr=new ph(this.SA)}onStart(){var t;this.wt&&(yt(this.yi,this.ai),(t=this.zr)===null||t===void 0||t.observe())}onStop(){var t;this.wt&&(Et(this.yi,this.ai),(t=this.zr)===null||t===void 0||t.disconnect())}}return j([N("onClickOrTap"),ut()],s.prototype,"onClickOrTap",null),s})(),ew=(()=>{class s{static vA(){var t,e,i,r;if("history"in window){let o=Object.getOwnPropertyDescriptors(history);if(!((t=o.pushState)===null||t===void 0)&&t.writable&&(!((e=o.replaceState)===null||e===void 0)&&e.writable))return history}if(History.prototype){let o=Object.getOwnPropertyDescriptors(History.prototype);if(!((i=o.pushState)===null||i===void 0)&&i.writable&&(!((r=o.replaceState)===null||r===void 0)&&r.writable))return History.prototype}et.warn("Unable to override pushState, replaceState",!0,"HistoryChangeObserver")}static wu(){let t=s.vA();s.So===null&&Ae(t==null?void 0:t.pushState)&&(s.So=Zt({target:t,methodName:"pushState",hook:({args:e})=>{s.fm("pushstate",e)}})),s.vo===null&&Ae(t==null?void 0:t.replaceState)&&(s.vo=Zt({target:t,methodName:"replaceState",hook:({args:e})=>{s.fm("replacestate",e)}}))}static br(t){var e,i;s.Ce.add(t),s.Ce.size===1&&((s.So===null||s.vo===null)&&s.wu(),(e=s.So)===null||e===void 0||e.activate(),(i=s.vo)===null||i===void 0||i.activate(),yt(s.pm),yt(s.gm))}static Ar(t){var e,i;s.Ce.delete(t),s.Ce.size===0&&((e=s.So)===null||e===void 0||e.deactivate(),(i=s.vo)===null||i===void 0||i.deactivate(),Et(s.pm),Et(s.gm))}static fm(t,e){let i={type:t,state:e[0]};A(e[2])&&(i.url=e[2]),s.Nn(i)}static popstateListener(t){s.Nn({type:"popstate",state:t.state})}static hashchangeListener(t){s.Nn({type:"hashchange",state:null,url:t.newURL})}static Nn(t){csArray.prototype.forEach.call($e(s.Ce),e=>{e(t)})}constructor(t){this.A=t}observe(){s.br(this.A)}disconnect(){s.Ar(this.A)}}return s.So=null,s.vo=null,s.pm={boundElement:rt,type:"popstate",listener:n=>s.popstateListener(n)},s.gm={boundElement:rt,type:"hashchange",listener:n=>s.hashchangeListener(n)},s.Ce=new Set,st([N("popstateListener"),ut()],s,"popstateListener",null),st([N("hashchangeListener"),ut()],s,"hashchangeListener",null),s})(),sw=(()=>{class s extends se{validateArgs(t){if(K(t)){let e=A(t.useDebounce),i=t.useDebounce==="yes"?mt(t==null?void 0:t.window):!0,r=A(t.listeners);return e&&i&&r}return!1}onInit(){this.args.useDebounce==="yes"?this.re=ni(()=>{this.onEventCallback()},this.args.window):this.re=this.onEventCallback,this.z=new ew(t=>this.wA(t))}mm(){return window.location.href}wA(t){let e=t.type==="replacestate"&&this.args.listeners.indexOf("replaceState")===-1,i=t.type==="hashchange"&&this.args.listeners.indexOf("hashchange")===-1;if(e||i)return;let r=this.mm();this.ym!==r&&(this.ym=r,this.re())}onStart(){this.ym=this.mm(),this.z.observe()}onStop(){this.z.disconnect()}}return s})(),iw=(()=>{class s extends se{constructor(){super(...arguments),this.wt=!0,this.ai=!0,this.yi={boundElement:document,type:"submit",listener:t=>this.submitListener(t)}}validateArgs(t){return K(t)?A(t.selector):!1}submitListener({target:t}){dt(t)&&Re(t)&&ee.call(t,this.args.selector)&&this.onEventCallback({element:t})}onInit(){Ut(this.args.selector)||(this.wt=!1)}onStart(){this.wt&&yt(this.yi,this.ai)}onStop(){this.wt&&Et(this.yi,this.ai)}}return j([N("submitListener"),ut()],s.prototype,"submitListener",null),s})(),nw=(()=>{class s extends se{constructor(){super(...arguments),this.wt=!0,this.Em={boundElement:document,type:"mouseover",listener:t=>this.mouseoverListener(t)},this.Sm={boundElement:document,type:"mouseleave",listener:t=>this.mouseleaveListener(t)}}validateArgs(t){return K(t)?A(t.selector):!1}onInit(){Ut(this.args.selector)||(this.wt=!1)}mouseleaveListener({target:t}){dt(t)&&Re(t)&&t[this.oc]&&delete t[this.oc]}mouseoverListener({target:t}){if(dt(t)&&Re(t)){let e=li(t,this.args.selector);e!==null&&!e[this.oc]&&(e[this.oc]=!0,this.onEventCallback({element:e}))}}onStart(){this.wt&&(this.oc=csSymbol("Hovered"),yt(this.Sm,!0),yt(this.Em,!0))}onStop(){this.wt&&(Et(this.Em),Et(this.Sm))}}return j([N("mouseleaveListener"),ut()],s.prototype,"mouseleaveListener",null),j([N("mouseoverListener"),ut()],s.prototype,"mouseoverListener",null),s})(),rw=(()=>{class s extends se{constructor(){super(...arguments),this.yi={boundElement:window,type:"hashchange",listener:t=>this.hashChangedListener(t)}}validateArgs(t){return!!K(t)}hashChangedListener(t){t.newURL&&t.newURL===t.oldURL||this.onEventCallback()}onInit(){}onStart(){yt(this.yi)}onStop(){Et(this.yi)}}return j([N("hashChangedListener"),ut()],s.prototype,"hashChangedListener",null),s})(),ow=(()=>{class s extends se{constructor(){super(...arguments),this.ac=!0}validateArgs(t){return K(t)?A(t.selector):!1}onInit(){if(!Ut(this.args.selector)||!gs.isSupported()){this.ac=!1;return}this.Nt=new gs({delay:0,trackOnce:!0,reobserve:!0}),this.G=new me(t=>this._u(t),{closest:!0})}_u(t){for(let e of t)this.Nt.observe(e)}bu(t,e){if(this.isStarted&&e===ti.VisibleInViewPort){let i=li(t,this.args.selector);i&&(this.onEventCallback({element:i}),this.stop(),this.ac=!1)}}onStart(){this.ac&&(this.Nt.start((t,e)=>this.bu(t,e)),this.G.observe(this.args.selector))}onStop(){this.ac&&(this.Nt.stop(),this.G.disconnect())}}return s})(),aw=(()=>{class s extends Tt{constructor(t,e,i,r){super(),this.mt=t,this.Tu=e,this.St=i,this.Se=r,this.cc=[],this.li=0}init(){this.mt.init()}initStates(){this.Au(),this.cc=[],this.li=0,this.su()}su(){this.fs=C.now()}Xi(){return C.now()-this.fs}onStart(){this.mt.subscribe(s.Vt,t=>this.tt(t))}onStop(){this.mt.unsubscribe(s.Vt)}onIframeApiError(t){this.tt(t)}tt(t){this.isStarted&&this.li<s.Wr&&(t.relativeTime=this.Xi(),csArray.prototype.push.call(this.cc,this.Se.anonymize(t)),this.wo(),F.counters.networkRequests.count("collected"))}Au(){this.Tu.removeQueryParams(),this.Tu.setQueryParams(this.St.getRequestParameters())}wo(){this.Tu.send({errors:this.cc}),this.cc=[],this.li+=1}}return s.Vt="ApiErrorsService",s.Wr=20,s})(),cw="api-errors",wo=["api-errors:maskUrl"],lw=(()=>{class s{constructor(t,e,i,r,o,c,l){this.mt=t,this.Se=e,this.E=i,this.St=r,this.pt=o,this.S=c,this.Ht=l}init(){let t=this.Ht.create(`${this.E.getTrackerUri()}/${cw}`);this.Us=new aw(this.mt,t,this.St,this.Se),this.Us.init(),this.pt.addListener(this.Us),this.ut()}ut(){this.S.register(wo,t=>{if(!A(t))throw new St(wo[0]);this.Se.addUrlMaskingPattern(t)})}onStartTracking(){this.Us.start()}onAfterNaturalPageView(){this.Us.initStates()}onArtificialPageViewEnd(t){t&&this.Us.stop()}onAfterArtificialPageView(t){this.Us.initStates(),t&&this.Us.start()}onBeforeSessionRenewal(){this.Us.stop()}onOptout(){this.Us.stop()}}return s})(),hw=(()=>{class s extends At{validateArgs(t){return K(t)?A(t.url):!1}execute(t){this.commandsService.applyFromImplementation(wo[0],[t.url],"ApiErrorsMaskUrlTemplate")}}return s})(),Lh=["networkRequest:maskUrls"],uw=["networkRequest:maskUrls:reset"],dw=(()=>{class s{constructor(t,e){this.vm=t,this.ft=e}init(){this.vm.register(Lh,t=>{if(A(t)){this.ft.addPartialUrlMaskingPattern(t);return}if(csArray.isArray(t))for(let e of t)A(e)&&this.ft.addPartialUrlMaskingPattern(e)}),this.vm.register(uw,()=>this.ft.resetPartialUrlMaskingPatterns())}}return s})(),fw=(()=>{class s extends At{validateArgs(t){return K(t)?A(t.maskingPattern):!1}execute(t){this.commandsService.applyFromImplementation(Lh[0],[t.maskingPattern],"NetworkRequestMaskUrlTemplate")}}return s})(),Xc="once per pageview",pw="always",gw=(()=>{class s extends se{constructor(){super(...arguments),this.Ru=!1,this.Qe=!1,this.go=!0}validateArgs(t){if(K(t)){let e=A(t.selector),i=t.frequency?t.frequency===Xc||t.frequency===pw:!0;return e&&i}return!1}onInit(){gs.isSupported()&&(this.Qe=!0,this.go=this.args.frequency?this.args.frequency===Xc:!0,this.G=new me((t,e)=>{if(e==="initial")for(let i of t)Z.isVisibleInViewportInForeground(i)&&(i[this.Cu]=!0);this._u(t)},{closest:!0}),this.Nt=new gs({delay:0,trackOnce:!1,reobserve:!0,allowSameMatch:!0}))}onStart(){!this.Qe||this.isStarted||(this.Cu=csSymbol("skipElement"),this.Ru=!1,this.Nt.start((t,e)=>this.bu(t,e)),this.G.observe(this.args.selector))}onStop(){!this.Qe||!this.isStarted||(this.G.disconnect(),this.Nt.stop())}bu(t,e){if(this.isStarted&&e===ti.VisibleInViewPort){let i=t.closest(this.args.selector);if(i){if(i[this.Cu]){delete i[this.Cu];return}this.go&&this.stop(),(!this.go||!this.Ru)&&(this.Ru=!0,this.onEventCallback({element:i}))}}}_u(t){for(let e of t)this.Nt.observe(e)}}return s})(),_o=(()=>{class s extends se{constructor(){super(...arguments),this.Eu={pageviewTypes:["natural","artificial"]}}validateArgs(t){var e;return K(t)&&Fe(t)&&csArray.isArray(t.pageviewTypes)&&No(t.pageviewTypes,r=>A(r))||(B.implementation(`BeforePageViewTrigger has wrong argument: ${(e=this.args)===null||e===void 0?void 0:e.pageviewTypes}, fallback to default config.`),this.args=this.Eu),!0}onInit(){this._A=this.args.pageviewTypes}onPageView(t){this.isStarted&&csArray.prototype.indexOf.call(this._A,t)!==-1&&this.onEventCallback()}onStart(){}onStop(){}}return s})(),mw=(()=>{class s extends At{constructor(){super(...arguments),this.Iu=!1}validateArgs(t){return K(t)&&A(t.type)&&A(t.urls)&&(t.type==="allow"||t.type==="block")&&csString.prototype.trim.call(t.urls).length>0?(this.Iu=!1,!0):(B.implementation(`BlockAllowListForSRTemplate has wrong argument: ${t}, fallback to default config.`),this.Iu=!0,!0)}execute(t){let e="";this.Iu?e=Bl:e=this.bA(t.urls,t.type),this.commandsService.applyFromImplementation(Hl[0],[e],"BlockAllowListForSRTemplate")}bA(t,e){let i=e==="allow"?"?!":"";return i+=csArray.prototype.join.call(csArray.prototype.map.call(csString.prototype.split.call(t,","),r=>`.*${csString.prototype.trim.call(r)}`),"|"),`^(${i}).*?`}}return s})(),yw=(()=>{class s{constructor(t){this.S=t,this.TA={ApiErrorsMaskUrl:hw,NetworkRequestMaskUrls:fw,ArtificialPageview:Jl,BlockAllowListForSr:mw,CustomError:Dm,CustomVariable:xm,DataCsEncrypt:Um,DataCsOverride:jm,DynamicVariable:Wm,EcTransactionAll:ty,EcTransactionCreate:ey,EcTransactionItemsAdd:sy,EcTransactionSend:iy,ElementUnmasking:ny,EventTriggerRecordingPage:ly,EventTriggerRecordingSession:hy,PageEvent:uy,PiiMasking:dy,RecordingEventTrigger:fy,SetPath:py,SetQuery:gy,SrmOnlineAssets:iv,Submit:Lv},this.zn={AfterPageView:Zv,ElementAdded:Vv,ElementBecomesVisible:gw,ElementExist:jv,ElementRemoved:Hv,ElementVisibility:ow,ElementClick:tw,FormSubmit:iw,HashChange:rw,HistoryChange:sw,Mouseover:nw,PageState:Fv,BeforePageView:_o}}AA(t){let e=this.TA[t.name];return e?new e(this.S,t.args):(B.error(`Implementations: template ${t.name} does not exist`),null)}RA(t){let e=this.zn[t.name];return e?new e(this.S,t.args,t.condition):(B.error(`Implementations: trigger ${t.name} does not exist`),null)}parse(t){let e=[];for(let{triggers:i,template:r}of t){let o=this.AA(r);if(!o)continue;if(!o.validateArgs(o.args)){B.implementation(`${r.name} has wrong argument.`);continue}for(let l of i){let h=this.RA(l);if(!h)continue;if(!h.validateArgs(h.args)){B.implementation(`${l.name} has wrong argument.`);continue}csArray.prototype.push.call(e,{name:`${l.name}_${r.name}`,trigger:h,template:o})}}return e}}return s})(),Ew=(()=>{class s{constructor(t,e,i){this.CA=t,this.I=i,this.Oe={window,document,location,cookies:{}},this.zn=new Set,this.IA=new yw(e)}init(){Object.defineProperty(this.Oe,"cookies",{get:()=>this.PA()});let t=this.IA.parse(this.CA);for(let{name:e,trigger:i,template:r}of t)i instanceof _o&&r instanceof Jl||(this.zn.add(i),i.onEvent(o=>{this.onTriggerEvent(o,r),F.counters.CSTCSnippetUsed.count(e)}))}start(t=!1){this.zn.forEach(e=>{e.condition&&!Xl(e.condition,this.Oe)||(t?this.I.schedule(()=>{e.start()}):e.start())})}stop(){this.zn.forEach(t=>{t.stop()})}onBeforePageView(t){this.zn.forEach(e=>{if(e instanceof _o){e.onPageView(t);return}})}onTriggerEvent(t,e){let i=this.OA(t),r={...this.Oe,...i},o=[];if(qg(e.args)&&A(e.args.iterable)&&e.args.iterable.length>0){let c=ym(e.args.iterable,r);if(dt(c)){let l=csArray.prototype.map.call(c,h=>({...r,$:h}));csArray.prototype.push.call(o,...l)}}else csArray.prototype.push.call(o,r);if(e instanceof Zi){for(let c of o)e.execute(e.args,c);return}for(let c of o){let l=so(e.args,c);l&&e.execute(l)}}PA(){let t;try{t=document.cookie}catch{t=""}return csArray.prototype.reduce.call(csString.prototype.split.call(t,"; "),(e,i)=>{let[r,o]=csString.prototype.split.call(i,"=");return o!==void 0&&(e[r]=o),e},{})}OA(t){let e={...t};for(let i in e)ft(e[i])&&(k.isMaskedElement(e[i])||k.isMaskedElementChild(e[i]))&&delete e[i];return e}}return j([Nt("implementationsService.start")],s.prototype,"start",null),j([N()],s.prototype,"onTriggerEvent",null),s})(),Sw=(()=>{class s{constructor(t,e,i){this.Vs=new Ew(t,e,i)}init(){this.Vs.init()}onInitTracking(){this.Vs.start(!0)}onOptout(){this.Vs.stop()}onBeforeSessionRenewal(){this.Vs.stop(),this.Vs.start()}onArtificialPageViewEnd(){this.Vs.stop()}onBeforeArtificialPageView(){this.Vs.start(),this.Vs.onBeforePageView("artificial")}onBeforeNaturalPageView(){this.Vs.onBeforePageView("natural")}}return s})(),vw=["optout"];var ww=(()=>{class s{constructor(t,e){this.S=t,this.rs=e}init(){this.S.register(vw,()=>{this.rs.activate()})}}return s})(),Oi="_cs_optout",_w=(()=>{class s{constructor(t,e,i){this.E=t,this.D=e,this.Ot=i}get(){return this.E.cookielessTrackingEnabled?this.Ot.getItem(Oi):this.D.get(Oi)}set(t){this.E.cookielessTrackingEnabled?this.Ot.setItem(Oi,t):this.D.set(Oi,t,Co)}}return s})(),Kc="1",bw=(()=>{class s{constructor(t,e,i){this.w=t,this.kt=e,this.gt=i}init(){!this.isActive()&&this.NA()&&this.activate()}isActive(){return this.gt.get()===Kc}activate(){this.w.emitOptout(),this.gt.set(Kc)}NA(){return csString.prototype.indexOf.call(this.kt.href,Oi)>0}}return s})(),Tw=(()=>{class s{constructor(){this.lc=null,this.MA=1}startInterval(){this.lc=window.csSetInterval(()=>{let t=this.MA++;if(this.flush(`interval.${t}`),t>=5){this.stopInterval();return}},5e3)}flush(t){F.counters.tasks.flush(t),F.counters.longTasks.flush(t)}clear(){F.counters.tasks.reset(),F.counters.longTasks.reset(),this.stopInterval()}stopInterval(){this.lc&&(csClearInterval(this.lc),this.lc=null)}}return s})(),Aw=(()=>{class s{constructor(){this.DA=["clicktale.net","contentsquare.net","hotjar.com","heap-api.com"],this._o=!1,this.bo=null,this.js=new Tw}onStartTracking(){this.kA()}kA(){let t=csArray.prototype.filter.call(performance.getEntriesByType("resource"),e=>e.initiatorType==="script"&&csArray.prototype.some.call(this.DA,i=>csString.prototype.includes.call(e.name,i)));csArray.prototype.forEach.call(t,e=>{if(e.transferSize===0)return;let i=e.responseEnd-e.responseStart,r=e.transferSize,c=e.duration-i,l=csString.prototype.split.call(e.name,"/")[2];i>=0&&F.counters.downloadTime.add(l,i),r>=0&&F.counters.transferSize.add(l,r),c>=0&&F.counters.evalTime.add(l,c)}),t.length>0&&(F.counters.downloadTime.flush(),F.counters.transferSize.flush(),F.counters.evalTime.flush())}wm(){F.counters.blockingTime.flush(),F.counters.inpContribution.flush()}onBeforeArtificialPageView(){this.wm(),this.bo&&csClearTimeout(this.bo),this.js.stopInterval(),this._o=!0}onBeforeNaturalPageView(){this.wm()}onAfterNaturalPageView(t){t===Rs.Natural?(this.js.flush("boot"),this.js.startInterval()):(this.bo&&csClearTimeout(this.bo),this.js.stopInterval(),this._o=!0)}onInitialDomStart(){this._o||this.js.stopInterval()}onInitialDomDone(){this._o||(this._o=!0,this.js.flush("initial-dom"),this.bo=window.csSetTimeout(()=>{this.js.flush("post-initial-dom"),this.js.startInterval()},5e3))}onOptout(){this.js.clear()}}return s})(),Rw=(()=>{let s;return function(n){n.COMPRESSION_DISABLED="compressionDisabled"}(s||(s={})),s})(),Cw=(()=>{class s{constructor(){}static init(t){(!this.Pu||t!==void 0)&&this.initFlags(t)}static initFlags(t=document.cookie){var e;let i=(e=/_cs_debug=((\w|\.|\:|=)+)/g.exec(t))===null||e===void 0?void 0:e[1];if(this.Pu=new Map,i){let r=csString.prototype.split.call(i,".");for(let o=0;o<r.length;o++){let[c,l]=csString.prototype.split.call(r[o],"=");this.Pu.set(c,l||"true")}}}static getBoolean(t){let e=this.getString(t);return e!=null&&e!=="false"&&parseInt(e)!==0}static getString(t){var e;return this.init(),(e=this.Pu)===null||e===void 0?void 0:e.get(t)}static isCompressionEnabled(){return!this.getBoolean(Rw.COMPRESSION_DISABLED)}static Log(t){return(e,i,r)=>{var o;let c=i.toString(),l=`${(o=e.constructor)===null||o===void 0?void 0:o.name}.${c}`,h=r.value;Iw(s.getString("debugLog"),t)&&(r.value=function(...f){return console.log(l,...f),h.bind(this)(...f)})}}}return s})();function Iw(s,n){var t;return s==null?!1:s===n||!!(!((t=csString.prototype.match.call(s,new csRegExp("(^|,)("+n+")(,|$)")))===null||t===void 0)&&t.length)}var Pw=(()=>{class s{constructor(t){this.xA=t,this._m=[],this.Ou={},this.LA=0}static async create(t,e={}){let i=new s(t),r;try{csArray.prototype.forEach.call(Object.entries(e),([o,c])=>{e[o]=c,i.register(c)}),await i.Gn(),i.Fe.addEventListener("message",o=>{var c,l;return(l=(c=i.Ou)[o.data.id])===null||l===void 0?void 0:l.call(c,o.data.error,o.data.result)})}catch{r=new t}return new Proxy(i,{get(o,c){return t.prototype[c]instanceof Function?(...l)=>r?Promise.resolve(r[c](...l)):i.bm(c,l):r?Promise.resolve(r[c]):i.bm(c,[])}})}bm(t,e){let i=++this.LA;return new Promise((r,o)=>{this.Ou[i]=(c,l)=>{delete this.Ou[i],c?o(c):r(l)},this.Fe.postMessage({id:i,command:t,params:e})})}register(t){csArray.prototype.push.call(this._m,t.toString())}async Gn(){let t=Jc.toString()+`
`+csArray.prototype.join.call(this._m,`
`)+`

const klass = (${this.xA.toString()});

${Jc.name}()`,e=new Blob([t],{type:"application/javascript"}),i=csURL.createObjectURL(e);return this.Fe=new Worker(i),new Promise((r,o)=>{this.Fe.onerror=o,this.Fe.onmessage=()=>{this.Fe.onerror=null,r()}})}}return s})();function Jc(){let s=new klass;self.postMessage("ping"),self.onmessage=async n=>{try{let t=s[n.data.command],e=typeof t=="function"?t.apply(s,n.data.params):t;self.postMessage({result:await e,id:n.data.id})}catch(t){return self.postMessage({error:t,id:n.data.id})}}}function bo(){function i(a){let p=a.length;for(;--p>=0;)a[p]=0}let r=0,o=1,c=2,l=3,h=258,f=29,u=256,m=u+1+f,y=30,S=19,O=2*m+1,D=15,v=16,_=7,I=256,M=16,T=17,H=18,it=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),lt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),zt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Gt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Kt=512,w=new Array((m+2)*2);i(w);let L=new Array(y*2);i(L);let V=new Array(Kt);i(V);let $=new Array(h-l+1);i($);let gt=new Array(f);i(gt);let Mt=new Array(y);i(Mt);function Se(a,p,g,E,d){this.static_tree=a,this.extra_bits=p,this.extra_base=g,this.elems=E,this.max_length=d,this.has_stree=a&&a.length}let ze,qt,ie;function ce(a,p){this.dyn_tree=a,this.max_code=0,this.stat_desc=p}let Oe=a=>a<256?V[a]:V[256+(a>>>7)],Ne=(a,p)=>{a.pending_buf[a.pending++]=p&255,a.pending_buf[a.pending++]=p>>>8&255},Pt=(a,p,g)=>{a.bi_valid>v-g?(a.bi_buf|=p<<a.bi_valid&65535,Ne(a,a.bi_buf),a.bi_buf=p>>v-a.bi_valid,a.bi_valid+=g-v):(a.bi_buf|=p<<a.bi_valid&65535,a.bi_valid+=g)},Wt=(a,p,g)=>{Pt(a,g[p*2],g[p*2+1])},rn=(a,p)=>{let g=0;do g|=a&1,a>>>=1,g<<=1;while(--p>0);return g>>>1},sr=a=>{a.bi_valid===16?(Ne(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=a.bi_buf&255,a.bi_buf>>=8,a.bi_valid-=8)},on=(a,p)=>{let g=p.dyn_tree,E=p.max_code,d=p.stat_desc.static_tree,R=p.stat_desc.has_stree,b=p.stat_desc.extra_bits,P=p.stat_desc.extra_base,tt=p.stat_desc.max_length,z,Jt,Ze,ct,_s,Gs,yn=0;for(ct=0;ct<=D;ct++)a.bl_count[ct]=0;for(g[a.heap[a.heap_max]*2+1]=0,z=a.heap_max+1;z<O;z++)Jt=a.heap[z],ct=g[g[Jt*2+1]*2+1]+1,ct>tt&&(ct=tt,yn++),g[Jt*2+1]=ct,!(Jt>E)&&(a.bl_count[ct]++,_s=0,Jt>=P&&(_s=b[Jt-P]),Gs=g[Jt*2],a.opt_len+=Gs*(ct+_s),R&&(a.static_len+=Gs*(d[Jt*2+1]+_s)));if(yn!==0){do{for(ct=tt-1;a.bl_count[ct]===0;)ct--;a.bl_count[ct]--,a.bl_count[ct+1]+=2,a.bl_count[tt]--,yn-=2}while(yn>0);for(ct=tt;ct!==0;ct--)for(Jt=a.bl_count[ct];Jt!==0;)Ze=a.heap[--z],!(Ze>E)&&(g[Ze*2+1]!==ct&&(a.opt_len+=(ct-g[Ze*2+1])*g[Ze*2],g[Ze*2+1]=ct),Jt--)}},an=(a,p,g)=>{let E=new Array(D+1),d=0,R,b;for(R=1;R<=D;R++)E[R]=d=d+g[R-1]<<1;for(b=0;b<=p;b++){let P=a[b*2+1];P!==0&&(a[b*2]=rn(E[P]++,P))}},ir=()=>{let a,p,g,E,d,R=new Array(D+1);for(g=0,E=0;E<f-1;E++)for(gt[E]=g,a=0;a<1<<it[E];a++)$[g++]=E;for($[g-1]=E,d=0,E=0;E<16;E++)for(Mt[E]=d,a=0;a<1<<lt[E];a++)V[d++]=E;for(d>>=7;E<y;E++)for(Mt[E]=d<<7,a=0;a<1<<lt[E]-7;a++)V[256+d++]=E;for(p=0;p<=D;p++)R[p]=0;for(a=0;a<=143;)w[a*2+1]=8,a++,R[8]++;for(;a<=255;)w[a*2+1]=9,a++,R[9]++;for(;a<=279;)w[a*2+1]=7,a++,R[7]++;for(;a<=287;)w[a*2+1]=8,a++,R[8]++;for(an(w,m+1,R),a=0;a<y;a++)L[a*2+1]=5,L[a*2]=rn(a,5);ze=new Se(w,it,u+1,m,D),qt=new Se(L,lt,0,y,D),ie=new Se(new Array(0),zt,0,S,_)},Bs=a=>{let p;for(p=0;p<m;p++)a.dyn_ltree[p*2]=0;for(p=0;p<y;p++)a.dyn_dtree[p*2]=0;for(p=0;p<S;p++)a.bl_tree[p*2]=0;a.dyn_ltree[I*2]=1,a.opt_len=a.static_len=0,a.last_lit=a.matches=0},Fs=a=>{a.bi_valid>8?Ne(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0},nr=(a,p,g,E)=>{Fs(a),E&&(Ne(a,g),Ne(a,~g)),a.pending_buf.set(a.window.subarray(p,p+g),a.pending),a.pending+=g},da=(a,p,g,E)=>{let d=p*2,R=g*2;return a[d]<a[R]||a[d]===a[R]&&E[p]<=E[g]},rr=(a,p,g)=>{let E=a.heap[g],d=g<<1;for(;d<=a.heap_len&&(d<a.heap_len&&da(p,a.heap[d+1],a.heap[d],a.depth)&&d++,!da(p,E,a.heap[d],a.depth));)a.heap[g]=a.heap[d],g=d,d<<=1;a.heap[g]=E},fa=(a,p,g)=>{let E,d,R=0,b,P;if(a.last_lit!==0)do E=a.pending_buf[a.d_buf+R*2]<<8|a.pending_buf[a.d_buf+R*2+1],d=a.pending_buf[a.l_buf+R],R++,E===0?Wt(a,d,p):(b=$[d],Wt(a,b+u+1,p),P=it[b],P!==0&&(d-=gt[b],Pt(a,d,P)),E--,b=Oe(E),Wt(a,b,g),P=lt[b],P!==0&&(E-=Mt[b],Pt(a,E,P)));while(R<a.last_lit);Wt(a,I,p)},or=(a,p)=>{let g=p.dyn_tree,E=p.stat_desc.static_tree,d=p.stat_desc.has_stree,R=p.stat_desc.elems,b,P,tt=-1,z;for(a.heap_len=0,a.heap_max=O,b=0;b<R;b++)g[b*2]!==0?(a.heap[++a.heap_len]=tt=b,a.depth[b]=0):g[b*2+1]=0;for(;a.heap_len<2;)z=a.heap[++a.heap_len]=tt<2?++tt:0,g[z*2]=1,a.depth[z]=0,a.opt_len--,d&&(a.static_len-=E[z*2+1]);for(p.max_code=tt,b=a.heap_len>>1;b>=1;b--)rr(a,g,b);z=R;do b=a.heap[1],a.heap[1]=a.heap[a.heap_len--],rr(a,g,1),P=a.heap[1],a.heap[--a.heap_max]=b,a.heap[--a.heap_max]=P,g[z*2]=g[b*2]+g[P*2],a.depth[z]=(a.depth[b]>=a.depth[P]?a.depth[b]:a.depth[P])+1,g[b*2+1]=g[P*2+1]=z,a.heap[1]=z++,rr(a,g,1);while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],on(a,p),an(g,tt,a.bl_count)},pa=(a,p,g)=>{let E,d=-1,R,b=p[0*2+1],P=0,tt=7,z=4;for(b===0&&(tt=138,z=3),p[(g+1)*2+1]=65535,E=0;E<=g;E++)R=b,b=p[(E+1)*2+1],!(++P<tt&&R===b)&&(P<z?a.bl_tree[R*2]+=P:R!==0?(R!==d&&a.bl_tree[R*2]++,a.bl_tree[M*2]++):P<=10?a.bl_tree[T*2]++:a.bl_tree[H*2]++,P=0,d=R,b===0?(tt=138,z=3):R===b?(tt=6,z=3):(tt=7,z=4))},ga=(a,p,g)=>{let E,d=-1,R,b=p[0*2+1],P=0,tt=7,z=4;for(b===0&&(tt=138,z=3),E=0;E<=g;E++)if(R=b,b=p[(E+1)*2+1],!(++P<tt&&R===b)){if(P<z)do Wt(a,R,a.bl_tree);while(--P!==0);else R!==0?(R!==d&&(Wt(a,R,a.bl_tree),P--),Wt(a,M,a.bl_tree),Pt(a,P-3,2)):P<=10?(Wt(a,T,a.bl_tree),Pt(a,P-3,3)):(Wt(a,H,a.bl_tree),Pt(a,P-11,7));P=0,d=R,b===0?(tt=138,z=3):R===b?(tt=6,z=3):(tt=7,z=4)}},qh=a=>{let p;for(pa(a,a.dyn_ltree,a.l_desc.max_code),pa(a,a.dyn_dtree,a.d_desc.max_code),or(a,a.bl_desc),p=S-1;p>=3&&a.bl_tree[Gt[p]*2+1]===0;p--);return a.opt_len+=3*(p+1)+5+5+4,p},Wh=(a,p,g,E)=>{let d;for(Pt(a,p-257,5),Pt(a,g-1,5),Pt(a,E-4,4),d=0;d<E;d++)Pt(a,a.bl_tree[Gt[d]*2+1],3);ga(a,a.dyn_ltree,p-1),ga(a,a.dyn_dtree,g-1)},Yh=a=>{let p=4093624447,g;for(g=0;g<=31;g++,p>>>=1)if(p&1&&a.dyn_ltree[g*2]!==0)return 0;if(a.dyn_ltree[9*2]!==0||a.dyn_ltree[10*2]!==0||a.dyn_ltree[13*2]!==0)return 1;for(g=32;g<u;g++)if(a.dyn_ltree[g*2]!==0)return 1;return 0},ma=!1,Xh=a=>{ma||(ir(),ma=!0),a.l_desc=new ce(a.dyn_ltree,ze),a.d_desc=new ce(a.dyn_dtree,qt),a.bl_desc=new ce(a.bl_tree,ie),a.bi_buf=0,a.bi_valid=0,Bs(a)},ya=(a,p,g,E)=>{Pt(a,(r<<1)+(E?1:0),3),nr(a,p,g,!0)},Kh=a=>{Pt(a,o<<1,3),Wt(a,I,w),sr(a)},Jh=(a,p,g,E)=>{let d,R,b=0;a.level>0?(a.strm.data_type===2&&(a.strm.data_type=Yh(a)),or(a,a.l_desc),or(a,a.d_desc),b=qh(a),d=a.opt_len+3+7>>>3,R=a.static_len+3+7>>>3,R<=d&&(d=R)):d=R=g+5,g+4<=d&&p!==-1?ya(a,p,g,E):a.strategy===4||R===d?(Pt(a,(o<<1)+(E?1:0),3),fa(a,w,L)):(Pt(a,(c<<1)+(E?1:0),3),Wh(a,a.l_desc.max_code+1,a.d_desc.max_code+1,b+1),fa(a,a.dyn_ltree,a.dyn_dtree)),Bs(a),E&&Fs(a)},Qh=(a,p,g)=>(a.pending_buf[a.d_buf+a.last_lit*2]=p>>>8&255,a.pending_buf[a.d_buf+a.last_lit*2+1]=p&255,a.pending_buf[a.l_buf+a.last_lit]=g&255,a.last_lit++,p===0?a.dyn_ltree[g*2]++:(a.matches++,p--,a.dyn_ltree[($[g]+u+1)*2]++,a.dyn_dtree[Oe(p)*2]++),a.last_lit===a.lit_bufsize-1);var Zh=Xh,tu=ya,eu=Jh,su=Qh,iu=Kh,nu={_tr_init:Zh,_tr_stored_block:tu,_tr_flush_block:eu,_tr_tally:su,_tr_align:iu},Ea=(a,p,g,E)=>{let d=a&65535|0,R=a>>>16&65535|0,b=0;for(;g!==0;){b=g>2e3?2e3:g,g-=b;do d=d+p[E++]|0,R=R+d|0;while(--b);d%=65521,R%=65521}return d|R<<16|0};let ru=()=>{let a,p=[];for(var g=0;g<256;g++){a=g;for(var E=0;E<8;E++)a=a&1?3988292384^a>>>1:a>>>1;p[g]=a}return p},ou=new Uint32Array(ru());var Ge=(a,p,g,E)=>{let d=ou,R=E+g;a^=-1;for(let b=E;b<R;b++)a=a>>>8^d[(a^p[b])&255];return a^-1},cn={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Sa={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:au,_tr_stored_block:cu,_tr_flush_block:lu,_tr_tally:qe,_tr_align:hu}=nu,{Z_NO_FLUSH:Es,Z_PARTIAL_FLUSH:uu,Z_FULL_FLUSH:du,Z_FINISH:We,Z_BLOCK:va,Z_OK:ve,Z_STREAM_END:wa,Z_STREAM_ERROR:ne,Z_DATA_ERROR:fu,Z_BUF_ERROR:ar,Z_DEFAULT_COMPRESSION:pu,Z_FILTERED:gu,Z_HUFFMAN_ONLY:ln,Z_RLE:mu,Z_FIXED:yu,Z_DEFAULT_STRATEGY:Eu,Z_UNKNOWN:Su,Z_DEFLATED:hn}=Sa,vu=9,wu=15,_u=8,cr=256+1+29,bu=30,Tu=19,Au=2*cr+1,Ru=15,Q=3,Ye=258,le=Ye+Q+1,Cu=32,un=42,lr=69,dn=73,fn=91,pn=103,Ss=113,Ei=666,Rt=1,Si=2,vs=3,$s=4,Iu=3,Xe=(a,p)=>(a.msg=cn[p],p),_a=a=>(a<<1)-(a>4?9:0),Ke=a=>{let p=a.length;for(;--p>=0;)a[p]=0},Je=(a,p,g)=>(p<<a.hash_shift^g)&a.hash_mask,Qe=a=>{let p=a.state,g=p.pending;g>a.avail_out&&(g=a.avail_out),g!==0&&(a.output.set(p.pending_buf.subarray(p.pending_out,p.pending_out+g),a.next_out),a.next_out+=g,p.pending_out+=g,a.total_out+=g,a.avail_out-=g,p.pending-=g,p.pending===0&&(p.pending_out=0))},Dt=(a,p)=>{lu(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,p),a.block_start=a.strstart,Qe(a.strm)},nt=(a,p)=>{a.pending_buf[a.pending++]=p},vi=(a,p)=>{a.pending_buf[a.pending++]=p>>>8&255,a.pending_buf[a.pending++]=p&255},Pu=(a,p,g,E)=>{let d=a.avail_in;return d>E&&(d=E),d===0?0:(a.avail_in-=d,p.set(a.input.subarray(a.next_in,a.next_in+d),g),a.state.wrap===1?a.adler=Ea(a.adler,p,d,g):a.state.wrap===2&&(a.adler=Ge(a.adler,p,d,g)),a.next_in+=d,a.total_in+=d,d)},ba=(a,p)=>{let g=a.max_chain_length,E=a.strstart,d,R,b=a.prev_length,P=a.nice_match,tt=a.strstart>a.w_size-le?a.strstart-(a.w_size-le):0,z=a.window,Jt=a.w_mask,Ze=a.prev,ct=a.strstart+Ye,_s=z[E+b-1],Gs=z[E+b];a.prev_length>=a.good_match&&(g>>=2),P>a.lookahead&&(P=a.lookahead);do if(d=p,!(z[d+b]!==Gs||z[d+b-1]!==_s||z[d]!==z[E]||z[++d]!==z[E+1])){E+=2,d++;do;while(z[++E]===z[++d]&&z[++E]===z[++d]&&z[++E]===z[++d]&&z[++E]===z[++d]&&z[++E]===z[++d]&&z[++E]===z[++d]&&z[++E]===z[++d]&&z[++E]===z[++d]&&E<ct);if(R=Ye-(ct-E),E=ct-Ye,R>b){if(a.match_start=p,b=R,R>=P)break;_s=z[E+b-1],Gs=z[E+b]}}while((p=Ze[p&Jt])>tt&&--g!==0);return b<=a.lookahead?b:a.lookahead},ws=a=>{let p=a.w_size,g,E,d,R,b;do{if(R=a.window_size-a.lookahead-a.strstart,a.strstart>=p+(p-le)){a.window.set(a.window.subarray(p,p+p),0),a.match_start-=p,a.strstart-=p,a.block_start-=p,E=a.hash_size,g=E;do d=a.head[--g],a.head[g]=d>=p?d-p:0;while(--E);E=p,g=E;do d=a.prev[--g],a.prev[g]=d>=p?d-p:0;while(--E);R+=p}if(a.strm.avail_in===0)break;if(E=Pu(a.strm,a.window,a.strstart+a.lookahead,R),a.lookahead+=E,a.lookahead+a.insert>=Q)for(b=a.strstart-a.insert,a.ins_h=a.window[b],a.ins_h=Je(a,a.ins_h,a.window[b+1]);a.insert&&(a.ins_h=Je(a,a.ins_h,a.window[b+Q-1]),a.prev[b&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=b,b++,a.insert--,!(a.lookahead+a.insert<Q)););}while(a.lookahead<le&&a.strm.avail_in!==0)},Ou=(a,p)=>{let g=65535;for(g>a.pending_buf_size-5&&(g=a.pending_buf_size-5);;){if(a.lookahead<=1){if(ws(a),a.lookahead===0&&p===Es)return Rt;if(a.lookahead===0)break}a.strstart+=a.lookahead,a.lookahead=0;let E=a.block_start+g;if((a.strstart===0||a.strstart>=E)&&(a.lookahead=a.strstart-E,a.strstart=E,Dt(a,!1),a.strm.avail_out===0)||a.strstart-a.block_start>=a.w_size-le&&(Dt(a,!1),a.strm.avail_out===0))return Rt}return a.insert=0,p===We?(Dt(a,!0),a.strm.avail_out===0?vs:$s):(a.strstart>a.block_start&&(Dt(a,!1),a.strm.avail_out===0),Rt)},hr=(a,p)=>{let g,E;for(;;){if(a.lookahead<le){if(ws(a),a.lookahead<le&&p===Es)return Rt;if(a.lookahead===0)break}if(g=0,a.lookahead>=Q&&(a.ins_h=Je(a,a.ins_h,a.window[a.strstart+Q-1]),g=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),g!==0&&a.strstart-g<=a.w_size-le&&(a.match_length=ba(a,g)),a.match_length>=Q)if(E=qe(a,a.strstart-a.match_start,a.match_length-Q),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=Q){a.match_length--;do a.strstart++,a.ins_h=Je(a,a.ins_h,a.window[a.strstart+Q-1]),g=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(--a.match_length!==0);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=Je(a,a.ins_h,a.window[a.strstart+1]);else E=qe(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(E&&(Dt(a,!1),a.strm.avail_out===0))return Rt}return a.insert=a.strstart<Q-1?a.strstart:Q-1,p===We?(Dt(a,!0),a.strm.avail_out===0?vs:$s):a.last_lit&&(Dt(a,!1),a.strm.avail_out===0)?Rt:Si},zs=(a,p)=>{let g,E,d;for(;;){if(a.lookahead<le){if(ws(a),a.lookahead<le&&p===Es)return Rt;if(a.lookahead===0)break}if(g=0,a.lookahead>=Q&&(a.ins_h=Je(a,a.ins_h,a.window[a.strstart+Q-1]),g=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=Q-1,g!==0&&a.prev_length<a.max_lazy_match&&a.strstart-g<=a.w_size-le&&(a.match_length=ba(a,g),a.match_length<=5&&(a.strategy===gu||a.match_length===Q&&a.strstart-a.match_start>4096)&&(a.match_length=Q-1)),a.prev_length>=Q&&a.match_length<=a.prev_length){d=a.strstart+a.lookahead-Q,E=qe(a,a.strstart-1-a.prev_match,a.prev_length-Q),a.lookahead-=a.prev_length-1,a.prev_length-=2;do++a.strstart<=d&&(a.ins_h=Je(a,a.ins_h,a.window[a.strstart+Q-1]),g=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(--a.prev_length!==0);if(a.match_available=0,a.match_length=Q-1,a.strstart++,E&&(Dt(a,!1),a.strm.avail_out===0))return Rt}else if(a.match_available){if(E=qe(a,0,a.window[a.strstart-1]),E&&Dt(a,!1),a.strstart++,a.lookahead--,a.strm.avail_out===0)return Rt}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(E=qe(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<Q-1?a.strstart:Q-1,p===We?(Dt(a,!0),a.strm.avail_out===0?vs:$s):a.last_lit&&(Dt(a,!1),a.strm.avail_out===0)?Rt:Si},Nu=(a,p)=>{let g,E,d,R,b=a.window;for(;;){if(a.lookahead<=Ye){if(ws(a),a.lookahead<=Ye&&p===Es)return Rt;if(a.lookahead===0)break}if(a.match_length=0,a.lookahead>=Q&&a.strstart>0&&(d=a.strstart-1,E=b[d],E===b[++d]&&E===b[++d]&&E===b[++d])){R=a.strstart+Ye;do;while(E===b[++d]&&E===b[++d]&&E===b[++d]&&E===b[++d]&&E===b[++d]&&E===b[++d]&&E===b[++d]&&E===b[++d]&&d<R);a.match_length=Ye-(R-d),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=Q?(g=qe(a,1,a.match_length-Q),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(g=qe(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),g&&(Dt(a,!1),a.strm.avail_out===0))return Rt}return a.insert=0,p===We?(Dt(a,!0),a.strm.avail_out===0?vs:$s):a.last_lit&&(Dt(a,!1),a.strm.avail_out===0)?Rt:Si},Mu=(a,p)=>{let g;for(;;){if(a.lookahead===0&&(ws(a),a.lookahead===0)){if(p===Es)return Rt;break}if(a.match_length=0,g=qe(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,g&&(Dt(a,!1),a.strm.avail_out===0))return Rt}return a.insert=0,p===We?(Dt(a,!0),a.strm.avail_out===0?vs:$s):a.last_lit&&(Dt(a,!1),a.strm.avail_out===0)?Rt:Si};function we(a,p,g,E,d){this.good_length=a,this.max_lazy=p,this.nice_length=g,this.max_chain=E,this.func=d}let wi=[new we(0,0,0,0,Ou),new we(4,4,8,4,hr),new we(4,5,16,8,hr),new we(4,6,32,32,hr),new we(4,4,16,16,zs),new we(8,16,32,32,zs),new we(8,16,128,128,zs),new we(8,32,128,256,zs),new we(32,128,258,1024,zs),new we(32,258,258,4096,zs)],Du=a=>{a.window_size=2*a.w_size,Ke(a.head),a.max_lazy_match=wi[a.level].max_lazy,a.good_match=wi[a.level].good_length,a.nice_match=wi[a.level].nice_length,a.max_chain_length=wi[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=Q-1,a.match_available=0,a.ins_h=0};function ku(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=hn,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Au*2),this.dyn_dtree=new Uint16Array((2*bu+1)*2),this.bl_tree=new Uint16Array((2*Tu+1)*2),Ke(this.dyn_ltree),Ke(this.dyn_dtree),Ke(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Ru+1),this.heap=new Uint16Array(2*cr+1),Ke(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*cr+1),Ke(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let Ta=a=>{if(!a||!a.state)return Xe(a,ne);a.total_in=a.total_out=0,a.data_type=Su;let p=a.state;return p.pending=0,p.pending_out=0,p.wrap<0&&(p.wrap=-p.wrap),p.status=p.wrap?un:Ss,a.adler=p.wrap===2?0:1,p.last_flush=Es,au(p),ve},Aa=a=>{let p=Ta(a);return p===ve&&Du(a.state),p},xu=(a,p)=>!a||!a.state||a.state.wrap!==2?ne:(a.state.gzhead=p,ve),Ra=(a,p,g,E,d,R)=>{if(!a)return ne;let b=1;if(p===pu&&(p=6),E<0?(b=0,E=-E):E>15&&(b=2,E-=16),d<1||d>vu||g!==hn||E<8||E>15||p<0||p>9||R<0||R>yu)return Xe(a,ne);E===8&&(E=9);let P=new ku;return a.state=P,P.strm=a,P.wrap=b,P.gzhead=null,P.w_bits=E,P.w_size=1<<P.w_bits,P.w_mask=P.w_size-1,P.hash_bits=d+7,P.hash_size=1<<P.hash_bits,P.hash_mask=P.hash_size-1,P.hash_shift=~~((P.hash_bits+Q-1)/Q),P.window=new Uint8Array(P.w_size*2),P.head=new Uint16Array(P.hash_size),P.prev=new Uint16Array(P.w_size),P.lit_bufsize=1<<d+6,P.pending_buf_size=P.lit_bufsize*4,P.pending_buf=new Uint8Array(P.pending_buf_size),P.d_buf=1*P.lit_bufsize,P.l_buf=3*P.lit_bufsize,P.level=p,P.strategy=R,P.method=g,Aa(a)},Lu=(a,p)=>Ra(a,p,hn,wu,_u,Eu),Uu=(a,p)=>{let g,E;if(!a||!a.state||p>va||p<0)return a?Xe(a,ne):ne;let d=a.state;if(!a.output||!a.input&&a.avail_in!==0||d.status===Ei&&p!==We)return Xe(a,a.avail_out===0?ar:ne);d.strm=a;let R=d.last_flush;if(d.last_flush=p,d.status===un)if(d.wrap===2)a.adler=0,nt(d,31),nt(d,139),nt(d,8),d.gzhead?(nt(d,(d.gzhead.text?1:0)+(d.gzhead.hcrc?2:0)+(d.gzhead.extra?4:0)+(d.gzhead.name?8:0)+(d.gzhead.comment?16:0)),nt(d,d.gzhead.time&255),nt(d,d.gzhead.time>>8&255),nt(d,d.gzhead.time>>16&255),nt(d,d.gzhead.time>>24&255),nt(d,d.level===9?2:d.strategy>=ln||d.level<2?4:0),nt(d,d.gzhead.os&255),d.gzhead.extra&&d.gzhead.extra.length&&(nt(d,d.gzhead.extra.length&255),nt(d,d.gzhead.extra.length>>8&255)),d.gzhead.hcrc&&(a.adler=Ge(a.adler,d.pending_buf,d.pending,0)),d.gzindex=0,d.status=lr):(nt(d,0),nt(d,0),nt(d,0),nt(d,0),nt(d,0),nt(d,d.level===9?2:d.strategy>=ln||d.level<2?4:0),nt(d,Iu),d.status=Ss);else{let b=hn+(d.w_bits-8<<4)<<8,P=-1;d.strategy>=ln||d.level<2?P=0:d.level<6?P=1:d.level===6?P=2:P=3,b|=P<<6,d.strstart!==0&&(b|=Cu),b+=31-b%31,d.status=Ss,vi(d,b),d.strstart!==0&&(vi(d,a.adler>>>16),vi(d,a.adler&65535)),a.adler=1}if(d.status===lr)if(d.gzhead.extra){for(g=d.pending;d.gzindex<(d.gzhead.extra.length&65535)&&!(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>g&&(a.adler=Ge(a.adler,d.pending_buf,d.pending-g,g)),Qe(a),g=d.pending,d.pending===d.pending_buf_size));)nt(d,d.gzhead.extra[d.gzindex]&255),d.gzindex++;d.gzhead.hcrc&&d.pending>g&&(a.adler=Ge(a.adler,d.pending_buf,d.pending-g,g)),d.gzindex===d.gzhead.extra.length&&(d.gzindex=0,d.status=dn)}else d.status=dn;if(d.status===dn)if(d.gzhead.name){g=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>g&&(a.adler=Ge(a.adler,d.pending_buf,d.pending-g,g)),Qe(a),g=d.pending,d.pending===d.pending_buf_size)){E=1;break}d.gzindex<d.gzhead.name.length?E=d.gzhead.name.charCodeAt(d.gzindex++)&255:E=0,nt(d,E)}while(E!==0);d.gzhead.hcrc&&d.pending>g&&(a.adler=Ge(a.adler,d.pending_buf,d.pending-g,g)),E===0&&(d.gzindex=0,d.status=fn)}else d.status=fn;if(d.status===fn)if(d.gzhead.comment){g=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>g&&(a.adler=Ge(a.adler,d.pending_buf,d.pending-g,g)),Qe(a),g=d.pending,d.pending===d.pending_buf_size)){E=1;break}d.gzindex<d.gzhead.comment.length?E=d.gzhead.comment.charCodeAt(d.gzindex++)&255:E=0,nt(d,E)}while(E!==0);d.gzhead.hcrc&&d.pending>g&&(a.adler=Ge(a.adler,d.pending_buf,d.pending-g,g)),E===0&&(d.status=pn)}else d.status=pn;if(d.status===pn&&(d.gzhead.hcrc?(d.pending+2>d.pending_buf_size&&Qe(a),d.pending+2<=d.pending_buf_size&&(nt(d,a.adler&255),nt(d,a.adler>>8&255),a.adler=0,d.status=Ss)):d.status=Ss),d.pending!==0){if(Qe(a),a.avail_out===0)return d.last_flush=-1,ve}else if(a.avail_in===0&&_a(p)<=_a(R)&&p!==We)return Xe(a,ar);if(d.status===Ei&&a.avail_in!==0)return Xe(a,ar);if(a.avail_in!==0||d.lookahead!==0||p!==Es&&d.status!==Ei){let b=d.strategy===ln?Mu(d,p):d.strategy===mu?Nu(d,p):wi[d.level].func(d,p);if((b===vs||b===$s)&&(d.status=Ei),b===Rt||b===vs)return a.avail_out===0&&(d.last_flush=-1),ve;if(b===Si&&(p===uu?hu(d):p!==va&&(cu(d,0,0,!1),p===du&&(Ke(d.head),d.lookahead===0&&(d.strstart=0,d.block_start=0,d.insert=0))),Qe(a),a.avail_out===0))return d.last_flush=-1,ve}return p!==We?ve:d.wrap<=0?wa:(d.wrap===2?(nt(d,a.adler&255),nt(d,a.adler>>8&255),nt(d,a.adler>>16&255),nt(d,a.adler>>24&255),nt(d,a.total_in&255),nt(d,a.total_in>>8&255),nt(d,a.total_in>>16&255),nt(d,a.total_in>>24&255)):(vi(d,a.adler>>>16),vi(d,a.adler&65535)),Qe(a),d.wrap>0&&(d.wrap=-d.wrap),d.pending!==0?ve:wa)},Vu=a=>{if(!a||!a.state)return ne;let p=a.state.status;return p!==un&&p!==lr&&p!==dn&&p!==fn&&p!==pn&&p!==Ss&&p!==Ei?Xe(a,ne):(a.state=null,p===Ss?Xe(a,fu):ve)},ju=(a,p)=>{let g=p.length;if(!a||!a.state)return ne;let E=a.state,d=E.wrap;if(d===2||d===1&&E.status!==un||E.lookahead)return ne;if(d===1&&(a.adler=Ea(a.adler,p,g,0)),E.wrap=0,g>=E.w_size){d===0&&(Ke(E.head),E.strstart=0,E.block_start=0,E.insert=0);let tt=new Uint8Array(E.w_size);tt.set(p.subarray(g-E.w_size,g),0),p=tt,g=E.w_size}let R=a.avail_in,b=a.next_in,P=a.input;for(a.avail_in=g,a.next_in=0,a.input=p,ws(E);E.lookahead>=Q;){let tt=E.strstart,z=E.lookahead-(Q-1);do E.ins_h=Je(E,E.ins_h,E.window[tt+Q-1]),E.prev[tt&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=tt,tt++;while(--z);E.strstart=tt,E.lookahead=Q-1,ws(E)}return E.strstart+=E.lookahead,E.block_start=E.strstart,E.insert=E.lookahead,E.lookahead=0,E.match_length=E.prev_length=Q-1,E.match_available=0,a.next_in=b,a.input=P,a.avail_in=R,E.wrap=d,ve};var Hu=Lu,Bu=Ra,Fu=Aa,$u=Ta,zu=xu,Gu=Uu,qu=Vu,Wu=ju,Yu="pako deflate (from Nodeca project)",_i={deflateInit:Hu,deflateInit2:Bu,deflateReset:Fu,deflateResetKeep:$u,deflateSetHeader:zu,deflate:Gu,deflateEnd:qu,deflateSetDictionary:Wu,deflateInfo:Yu};let Xu=(a,p)=>Object.prototype.hasOwnProperty.call(a,p);var Ku=function(a){let p=Array.prototype.slice.call(arguments,1);for(;p.length;){let g=p.shift();if(g){if(typeof g!="object")throw new TypeError(g+"must be non-object");for(let E in g)Xu(g,E)&&(a[E]=g[E])}}return a},Ju=a=>{let p=0;for(let E=0,d=a.length;E<d;E++)p+=a[E].length;let g=new Uint8Array(p);for(let E=0,d=0,R=a.length;E<R;E++){let b=a[E];g.set(b,d),d+=b.length}return g},Ca={assign:Ku,flattenChunks:Ju};let Ia=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Ia=!1}let bi=new Uint8Array(256);for(let a=0;a<256;a++)bi[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;bi[254]=bi[254]=1;var Qu=a=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(a);let p,g,E,d,R,b=a.length,P=0;for(d=0;d<b;d++)g=a.charCodeAt(d),(g&64512)===55296&&d+1<b&&(E=a.charCodeAt(d+1),(E&64512)===56320&&(g=65536+(g-55296<<10)+(E-56320),d++)),P+=g<128?1:g<2048?2:g<65536?3:4;for(p=new Uint8Array(P),R=0,d=0;R<P;d++)g=a.charCodeAt(d),(g&64512)===55296&&d+1<b&&(E=a.charCodeAt(d+1),(E&64512)===56320&&(g=65536+(g-55296<<10)+(E-56320),d++)),g<128?p[R++]=g:g<2048?(p[R++]=192|g>>>6,p[R++]=128|g&63):g<65536?(p[R++]=224|g>>>12,p[R++]=128|g>>>6&63,p[R++]=128|g&63):(p[R++]=240|g>>>18,p[R++]=128|g>>>12&63,p[R++]=128|g>>>6&63,p[R++]=128|g&63);return p};let Pa=(a,p=a.length)=>{if(p<65534&&a.subarray&&Ia)return String.fromCharCode.apply(null,a.length===p?a:a.subarray(0,p));let g="";for(let E=0;E<p;E++)g+=String.fromCharCode(a[E]);return g};var Zu=(a,p)=>{let g=p||a.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(a.subarray(0,p));let E,d,R=new Array(g*2);for(d=0,E=0;E<g;){let b=a[E++];if(b<128){R[d++]=b;continue}let P=bi[b];if(P>4){R[d++]=65533,E+=P-1;continue}for(b&=P===2?31:P===3?15:7;P>1&&E<g;)b=b<<6|a[E++]&63,P--;if(P>1){R[d++]=65533;continue}b<65536?R[d++]=b:(b-=65536,R[d++]=55296|b>>10&1023,R[d++]=56320|b&1023)}return Pa(R,d)},td=(a,p)=>{p=p||a.length,p>a.length&&(p=a.length);let g=p-1;for(;g>=0&&(a[g]&192)===128;)g--;return g<0||g===0?p:g+bi[a[g]]>p?g:p},Oa={string2buf:Qu,buf2string:Zu,utf8border:td};function ed(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var sd=ed;let Na=Object.prototype.toString,{Z_NO_FLUSH:id,Z_SYNC_FLUSH:nd,Z_FULL_FLUSH:rd,Z_FINISH:od,Z_OK:gn,Z_STREAM_END:ad,Z_DEFAULT_COMPRESSION:cd,Z_DEFAULT_STRATEGY:ld,Z_DEFLATED:hd}=Sa;function mn(a){this.options=Ca.assign({level:cd,method:hd,chunkSize:16384,windowBits:15,memLevel:8,strategy:ld},a||{});let p=this.options;p.raw&&p.windowBits>0?p.windowBits=-p.windowBits:p.gzip&&p.windowBits>0&&p.windowBits<16&&(p.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new sd,this.strm.avail_out=0;let g=_i.deflateInit2(this.strm,p.level,p.method,p.windowBits,p.memLevel,p.strategy);if(g!==gn)throw new Error(cn[g]);if(p.header&&_i.deflateSetHeader(this.strm,p.header),p.dictionary){let E;if(typeof p.dictionary=="string"?E=Oa.string2buf(p.dictionary):Na.call(p.dictionary)==="[object ArrayBuffer]"?E=new Uint8Array(p.dictionary):E=p.dictionary,g=_i.deflateSetDictionary(this.strm,E),g!==gn)throw new Error(cn[g]);this._dict_set=!0}}mn.prototype.push=function(a,p){let g=this.strm,E=this.options.chunkSize,d,R;if(this.ended)return!1;for(p===~~p?R=p:R=p===!0?od:id,typeof a=="string"?g.input=Oa.string2buf(a):Na.call(a)==="[object ArrayBuffer]"?g.input=new Uint8Array(a):g.input=a,g.next_in=0,g.avail_in=g.input.length;;){if(g.avail_out===0&&(g.output=new Uint8Array(E),g.next_out=0,g.avail_out=E),(R===nd||R===rd)&&g.avail_out<=6){this.onData(g.output.subarray(0,g.next_out)),g.avail_out=0;continue}if(d=_i.deflate(g,R),d===ad)return g.next_out>0&&this.onData(g.output.subarray(0,g.next_out)),d=_i.deflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===gn;if(g.avail_out===0){this.onData(g.output);continue}if(R>0&&g.next_out>0){this.onData(g.output.subarray(0,g.next_out)),g.avail_out=0;continue}if(g.avail_in===0)break}return!0},mn.prototype.onData=function(a){this.chunks.push(a)},mn.prototype.onEnd=function(a){a===gn&&(this.result=Ca.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg};function ud(a,p){p=p||{};let g=new mn(p);if(g.push(a,!0),g.err)throw g.msg||cn[g.err];return g.result}function dd(a,p){return p=p||{},p.gzip=!0,ud(a,p)}return(a,p,g)=>{let E=dd(a);return p==="base64"?E=btoa(Pa(E)):E=E.buffer,g&&g(E),E}}var Ow=(()=>{class s extends Eh{constructor(){super(),this.algorithm=tr.GZIP,this.UA=bo(),this.compress=(i,r,o)=>this.Tm.compress(i,r).then(o);let e=typeof CompressionStream!="undefined"&&!!self.CompressionStream?Mw:Nw;this.Tm=new e,Pw.create(e,{getPakoCompressor:bo}).then(i=>{this.Tm=i})}compressSync(t,e){try{return this.UA(t,e)}catch(i){throw et.warn(i),i}}}return s})(),Nw=(()=>{class s{constructor(){this.VA=bo()}compress(t,e){return Promise.resolve(this.VA(t,e))}}return s})(),Mw=(()=>{class s{jA(t){return new Promise(e=>{let i=new FileReader;i.onload=r=>e(r.target.result.split(",")[1]),i.readAsDataURL(new Blob([t]))})}async compress(t,e){let i=new Response(t).body.pipeThrough(new CompressionStream("gzip")),r=new Response(i).arrayBuffer();return e==="base64"?r.then(o=>this.jA(o)):r}}return s})(),Dw=(()=>{class s extends Eh{constructor(){super(...arguments),this.algorithm=tr.UNCOMPRESSED,this.compress=(t,e,i)=>{i(this.compressSync(t,e))},this.compressSync=(t,e)=>t}}return s})(),Uh=(()=>{class s{static create(t=!0){return this.instance?this.instance:t&&!Cw.isCompressionEnabled()?new Dw:this.instance=new Ow}}return s})(),kw=s=>{let n=s*60*1e3;return`${Math.floor(csDate.now()/n)}`},xw=5e3,To=(()=>{class s extends Al{constructor(t,e,i){super(t,e),this.qn=null,this.HA=(i==null?void 0:i.type)||"json",this.Am=i==null?void 0:i.cacheMinutes,this.To=i==null?void 0:i.timeout}onLoad(t){this.Wn=t}onError(t){this.Ao=t}onTimeout(t,e){this.Qi=t,this.To=e}send(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,r=>r());let t=this.retrieveParameters();this.Yc(t);let e=Fi.toQuery(t),i=`${this.domainUri}${this.path?`/${this.path}`:""}?${e}`;this.BA(i,this.HA)}abort(){this.qn&&(this.qn.abort(),this.qn=null)}isInProgress(){return this.qn!==null}BA(t,e){var i;let r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType=e,r.onerror=()=>{var o;return(o=this.Ao)===null||o===void 0?void 0:o.call(this,r)},r.ontimeout=()=>{var o;return(o=this.Qi)===null||o===void 0?void 0:o.call(this,r)},r.onload=()=>{var o,c;r.status>=200&&r.status<400?((o=this.Wn)===null||o===void 0||o.call(this,this.FA(r,e)?r.response:r.responseText),csArray.prototype.forEach.call(this.afterRequestCallbacks,l=>l())):(c=this.Ao)===null||c===void 0||c.call(this,r)},r.onloadend=()=>{this.qn=null},r.timeout=(i=this.To)!==null&&i!==void 0?i:xw,this.qn=r,r.send()}FA(t,e){let i=t.getResponseHeader("Content-Type");return i===null?e==="json":csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(i),"json")>0}Yc(t){let e;this.Am?e=`${kw(this.Am)}`:e=csString.prototype.slice.call(`${Math.random()}`,2,8),t.r=e}}return s})(),Lw=(()=>{class s{constructor(t){var e;this.Ke={},this.Nu={},this.Rm=i=>{for(let r of i){let{metadata:o,events:c}=r;this.send(c,o)}},this.xa=t.endpoint,this.Ro=t.compressionOpts,this.oe=t.recoveryStorage,this.mandatoryParameters=(e=t.mandatoryParameters)!==null&&e!==void 0?e:[],this.Mu=t.contentType,this.worker=!!t.worker,this.oe&&this.oe.recover(this.Rm)}setQueryParams(t){Object.keys(t).forEach(e=>{this.Ke[e]=t[e]})}removeQueryParams(t){t?t.forEach(e=>{delete this.Ke[e]}):this.Ke={}}send(t,e){let i=e||{...this.Ke},r=!("ct"in i),o=this.Mu==="application/json"||typeof t!="string"&&!this.$A(t);"ct"in i||(!this.Ro||!r?i.ct=tr.UNCOMPRESSED:i.ct=this.Ro.compressionType);let c=o?JSON.stringify(t):t,l=Object.keys(i).map(f=>`${encodeURIComponent(f)}=${encodeURIComponent(i[f])}`).join("&"),h=`${this.xa}?${l}`;if(ji(this.mandatoryParameters,f=>i[f]==null)){et.warn(`[${this.worker?"WORKER":"MAIN"}] All mandatory parameters are not present on ${h}`);return}this.Ro&&r&&typeof c=="string"?this.Ro.compressor(c,this.Ro.compressionOutputType,f=>this.Cm(h,i,f)):this.Cm(h,i,c)}onLoad(t){this.Wn=t}onError(t){this.Ao=t}onTimeout(t,e){this.Qi=t,this.To=e}abort(){this.Im&&this.Im()}setRequestHeader(t,e){this.Nu[t]=e}getQueryParams(){return this.Ke}$A(t){return t&&t.byteLength!==void 0}Cm(t,e,i){let r=new XMLHttpRequest,o=Object.keys(e).map(c=>`${encodeURIComponent(c)}=${encodeURIComponent(e[c])}`).join("&");r.open("POST",t),this.Mu&&r.setRequestHeader("Content-Type",this.Mu),r.onload=()=>{if(this.oe&&this.oe.recover(this.Rm),this.Wn){let c={params:e,responseText:r.responseText,status:r.status};this.Wn(c)}},r.onerror=()=>{this.oe&&this.oe.save({key:o,metadata:e,events:i}),this.Ao&&this.Ao({params:e})},this.To&&this.Qi&&(r.timeout=this.To,r.ontimeout=()=>{this.Qi()}),this.Im=()=>r.abort(),Object.keys(this.Nu).forEach(c=>{r.setRequestHeader(c,this.Nu[c])}),r.send(i)}}return s})(),Vh=(()=>{class s{constructor(t){this.Pm=t}create(t,e,i){let r=e?{compressor:this.Pm.compress,compressionOutputType:e,compressionType:this.Pm.algorithm}:void 0;return new Lw({endpoint:t,compressionOpts:r,recoveryStorage:i})}}return s})(),Uw=(()=>{class s{setItem(t,e){window.localStorage.setItem(t,e)}getItem(t){return window.localStorage.getItem(t)}removeItem(t){window.localStorage.removeItem(t)}}return s})(),Vw=(()=>{class s{constructor(t){this.Du=t}start(){this.Du.onEvent(t=>this.tt(t)),this.Du.start()}stop(){this.Du.stop()}tt(t){let e=`Content Security Policy error. Violated directive: ${t.violatedDirective} - Source file: ${t.sourceFile}`;B.warn(e)}}return s})(),jw=(()=>{class s{constructor(){this.Yt={boundElement:document,type:"securitypolicyviolation",listener:t=>this.securityPolicyViolationListener(t)}}start(){yt(this.Yt)}stop(){Et(this.Yt)}onEvent(t){this.U=t}zA(t){if(!t)return!1;let e=t.disposition;return A(t.sourceFile)&&csArray.prototype.some.call(s.GA,i=>csString.prototype.indexOf.call(t.sourceFile,i)>0)&&e!=="report"}securityPolicyViolationListener(t){this.zA(t)&&this.U({violatedDirective:t.violatedDirective,sourceFile:t.sourceFile})}}return s.GA=["contentsquare","cdnssl.clicktale.net"],j([N("Event handler type: securitypolicyviolation")],s.prototype,"securityPolicyViolationListener",null),s})(),Hw=(()=>{class s{init(){this.hc=new Vw(new jw),this.hc.start()}onOptout(){this.hc.stop()}onArtificialPageViewEnd(t){t&&this.hc.stop()}onAfterArtificialPageView(t){t&&this.hc.start()}}return s})(),Bw=(()=>{class s{constructor(t,e,i){this.E=t,this.C=e,this.w=i}grantReplayConsent(){if(!us.isReplayConsentNeeded(this.E))return;let t=this.C.getSession();if(!t){this.C.grantReplayRecordingBeforeSessionStart();return}us.isRecordingBlockedByConsent(t)&&(this.C.grantReplayRecording(t),this.w.emitAfterReplayRecordingConsentGranted())}withdrawReplayConsent(){if(!us.isReplayConsentNeeded(this.E))return;let t=this.C.getSession();if(!t){this.C.withdrawnReplayRecordingBeforeSessionStart();return}us.isRecordingWithDrawn(t)||(this.C.withdrawnReplayRecording(t),this.w.emitAfterReplayRecordingConsentWithdrawn())}}return s})(),Fw=["replay:consent:unanonymized:granted","trackConsentGranted"],$w=["replay:consent:unanonymized:withdrawn","trackConsentWithdrawn"],zw=["replay:consent:startForSession:granted"],Gw=["replay:consent:startForSession:withdrawn"],qw=(()=>{class s{constructor(t,e,i,r,o){this.E=t,this.S=e,this.Rt=i,this.C=r,this.w=o}init(){this.Om=new Bw(this.E,this.C,this.w),this.Rt.setInitialConsent(),this.ut()}ut(){this.S.register(Fw,()=>{this.Rt.grantReplayAnonymizationConsent()}),this.S.register($w,()=>{this.Rt.withdrawReplayAnonymizationConsent()}),this.S.register(zw,()=>{this.Om.grantReplayConsent()}),this.S.register(Gw,()=>{this.Om.withdrawReplayConsent()})}onOptout(){this.Rt.removeAllConsents()}onBeforeVisitorRenewal(){this.Rt.removeAllConsents()}onAfterVisitorRenewal(){this.Rt.setInitialConsent()}onAfterVisitorCleared(){this.Rt.setInitialConsent()}}return s})(),os="_cs_c",Ts=(()=>{let s;return function(n){n[n.NOT_REQUIRED=0]="NOT_REQUIRED",n[n.NOT_EXPRESSED=1]="NOT_EXPRESSED",n[n.GRANTED=2]="GRANTED",n[n.WITHDRAWN=3]="WITHDRAWN"}(s||(s={})),s})(),Ww=(()=>{class s{constructor(t,e,i){this.E=t,this.D=e,this.Ot=i}get(){let t;return this.E.cookielessTrackingEnabled?t=this.Ot.getItem(os):t=this.D.get(os),t===null?t:Number(t)}set(t){this.E.cookielessTrackingEnabled?this.Ot.setItem(os,csString(t)):this.D.set(os,csString(t),Co)}remove(){this.E.cookielessTrackingEnabled?this.Ot.removeItem(os):this.D.delete(os)}handleSubdomainChange(){this.E.cookielessTrackingEnabled||(this.E.allowSubdomains?this.D.delete(os,Xn.CURRENT_DOMAIN):this.D.delete(os,this.D.getRootDomain()))}}return s})(),Yw=(()=>{class s{constructor(t,e,i){this.E=t,this.gt=e,this.w=i}setInitialConsent(){let t=this.gt.get();(t===null||this.hasConsentRequiredChanged(t))&&this.setDefaultReplayAnonymization()}hasConsentRequiredChanged(t){let e=this.E.consentRequired;return e&&t===Ts.NOT_REQUIRED||!e&&t!==Ts.NOT_REQUIRED}handleSubdomainChange(){this.gt.handleSubdomainChange()}setDefaultReplayAnonymization(){let t=this.E.consentRequired?Ts.NOT_EXPRESSED:Ts.NOT_REQUIRED;this.gt.set(t)}grantReplayAnonymizationConsent(){this.E.consentRequired&&(this.gt.set(Ts.GRANTED),this.w.emitReplayUnanonymizationConsentGranted())}withdrawReplayAnonymizationConsent(){this.E.consentRequired&&(this.gt.set(Ts.WITHDRAWN),this.w.emitReplayUnanonymizationConsentWithdrawn())}removeAllConsents(){this.gt.remove()}isReplayUnanonymizedAllowedByConsent(){return!this.E.consentRequired||this.gt.get()===Ts.GRANTED}getRequestParameters(){return{uc:`${this.gt.get()}`}}}return s})(),Qc=512,Zc=255,jr={SESSION:["visit",2],PAGE:["page",3],NEXT_PAGE_ONLY:["nextPageOnly",4]},Xw=(()=>{class s{constructor(t,e){this.M=t,this.gt=e,this.Zt={},this.$e={}}set(t,e,i,r){let o,c;if((mt(t)||A(t))&&Number(t)>0&&dt(e)&&dt(i)&&!Ae(e)&&!Ae(i)&&this.qA(r)){let l=this.M.anonymizePII(csString(e)),h=this.M.anonymizePII(csString(i));if(o=[csString.prototype.slice.call(l,0,Qc),csString.prototype.slice.call(h,0,Zc)],c=i!=="",!J(r)||csArray.prototype.indexOf.call(jr.SESSION,r)>=0){let f=this.getCustomVariablesSession();c?f[t]=o:delete f[t],this.setCustomVariableSession(f)}(!J(r)||csArray.prototype.indexOf.call(jr.PAGE,r)>=0)&&(c?this.Zt[t]=o:delete this.Zt[t]),J(r)&&csArray.prototype.indexOf.call(jr.NEXT_PAGE_ONLY,r)>=0&&(c?this.$e[t]=o:delete this.$e[t])}else throw new St(Wo[0])}getCustomVariablesSession(){let t=this.gt.get();if(!t)return{};let e=window.csJSON.parse(t);return e!==null&&Fe(e)?e:{}}setCustomVariableSession(t){this.gt.set(window.csJSON.stringify(t))}removeCustomVariablesSession(){this.gt.remove()}removeCustomVariablesPage(){this.Zt={}}getRequestParameters(){let t=this.getCustomVariablesSession();for(let i in this.$e)this.$e.hasOwnProperty(i)&&(this.Zt[i]=this.$e[i]);for(let i in this.Zt)this.Zt.hasOwnProperty(i)&&(t[i]=this.Zt[i]);if(window.csJSON.stringify(t).length<=2)return{};let e={cvars:this.Nm(t)};return this.hasCustomVariablesPage()&&(e.cvarp=this.getCustomVariablesPage()),e}deleteNextPageOnlyCustomVariables(){if(Object.keys(this.$e).length>0)for(let t in this.$e)this.$e[t]===this.Zt[t]&&(delete this.Zt[t],delete this.$e[t])}hasCustomVariablesPage(){return this.Zt&&!Mn(this.Zt)}getCustomVariablesPage(){return this.Nm(this.Zt)}Mm(t){for(let e in t)if(t.hasOwnProperty(e)){let i=parseInt(e,10),r=t[e],o=r[0],c=r[1];(!gd(i,1,20)||o.length>Qc||c.length>Zc)&&delete t[e]}}Nm(t){this.Mm(t);let e=Mn(t)?[]:t;return window.csJSON.stringify(e)}qA(t){return!J(t)||A(t)||mt(t)}getAllValidCustomVars(){let t=this.getCustomVariablesSession();for(let e in this.$e)this.$e.hasOwnProperty(e)&&(this.Zt[e]=this.$e[e]);for(let e in this.Zt)this.Zt.hasOwnProperty(e)&&(t[e]=this.Zt[e]);return this.Mm(t),t}}return s})(),Kw=(()=>{class s{constructor(t,e,i,r){this._e=t,this.Co=e,this.Io=i,this.Rt=r}init(){this.WA()}shouldMaskNonTextElements(){if(this._e.anonymisationMethod!==bs.replayRecordingMaskedUrlRegexRules)return!1;if(this._e.isSMB)return this.shouldUseAnonymization();let t=this.Io.getMatchingRules(this.Co.getAnonymizedUrl());return csArray.prototype.some.call(t,e=>e.maskMedia)}shouldUseAnonymization(){if(this.Rt&&!this.Rt.isReplayUnanonymizedAllowedByConsent()){switch(this._e.anonymisationMethod){case null:case bs.replayRecordingUnmaskedUrlRegex:return!(this._e.replayRecordingUnmaskedUrlRegex&&this._e.replayRecordingUnmaskedUrlRegex.test(this.Co.getAnonymizedUrl()));case bs.replayRecordingUnmaskedUrlRegexRules:return!this.Io.evaluateUrl(this.Co.getAnonymizedUrl())}return!0}else{switch(this._e.anonymisationMethod){case null:case bs.replayRecordingMaskedUrlRegex:return!!(this._e.replayRecordingMaskedUrlRegex&&this._e.replayRecordingMaskedUrlRegex.test(this.Co.getAnonymizedUrl()));case bs.replayRecordingMaskedUrlRegexRules:return this.Io.evaluateUrl(this.Co.getAnonymizedUrl())}return!1}}WA(){this._e.anonymisationMethod===bs.replayRecordingMaskedUrlRegexRules&&this._e.replayRecordingMaskedUrlRegexRules?this.Io.setRegexRules(this._e.replayRecordingMaskedUrlRegexRules):this._e.anonymisationMethod===bs.replayRecordingUnmaskedUrlRegexRules&&this._e.replayRecordingUnmaskedUrlRegexRules&&this.Io.setRegexRules(this._e.replayRecordingUnmaskedUrlRegexRules)}}return s})();var Jw=(()=>{class s extends Ee{constructor(t){super(),this.G=null,this.fc=null,this.L=null,this.si=null,this.Dm=["value","checked","src","data","alt"],this.pc={state:k.MaskedElementState.Child},this.KA=e=>{for(let i of e){if(k.isMaskedElement(i.target)||k.isMaskedElementChild(i.target))for(let r=0;r<i.addedNodes.length;r+=1){let o=i.addedNodes[r];k.isMaskedElement(o)||k.isMaskedElementChild(o)||ft(o)&&this.km(o)}for(let r=0;r<i.removedNodes.length;r+=1){let o=i.removedNodes[r];Z.isConnected(o)||this.xm(o)}}},this.JA=t}setMaskedElementSettings(t){this.Hs=t}startIdentifier(){this.isStarted||(this.isStarted=!0,this.onStart())}stopIdentifier(){return this.isStarted=!1,this.onStop()}start(){}stop(){}onStart(){var t,e,i,r;this.Hs||(et.error("maskedElementSettings not initialized","MaskedElementIdentifier.start"),this.Hs={elementSelector:"",attrSelector:"",attrSelectors:[]});let{elementSelector:o,attrSelector:c,attrSelectors:l}=this.Hs;(t=this.si)!==null&&t!==void 0||(this.si=this.QA()),o.length!==0&&((e=this.G)!==null&&e!==void 0||(this.G=this.ZA()),this.G.observe(o)),c.length!==0&&((i=this.fc)!==null&&i!==void 0||(this.fc=this.t0(l)),this.fc.observe(c)),(r=this.L)!==null&&r!==void 0||(this.L=new ye(this.KA,(h,f)=>f==="added"&&this.e0(h))),this.L.observe(),csSetTimeout(this.JA)}onStop(){var t,e,i;this.G&&(this.xm(document),this.G.disconnect()),(t=this.fc)===null||t===void 0||t.disconnect(),(e=this.L)===null||e===void 0||e.disconnect(),(i=this.si)===null||i===void 0||i.disconnect()}QA(){return window.ResizeObserver?new ResizeObserver(t=>{window.requestAnimationFrame(()=>{csArray.prototype.forEach.call(t,e=>{this.resizeObserverCallback(e)})})}):null}ZA(){return new me(t=>{csArray.prototype.forEach.call(t,e=>{this.s0(e)?this.km(e):(this.i0(e),this.n0(e))})})}t0(t){return new me(e=>{csArray.prototype.forEach.call(e,i=>this.r0(i,t))})}resizeObserverCallback(t){let e=t.target.getBoundingClientRect(),i=k.getMaskedElementDetails(t.target);if(i.state!==k.MaskedElementState.Parent||e.width===i.width&&e.height===i.height)return;let r={state:k.MaskedElementState.Parent,width:e.width,height:e.height};k.setMaskedElementProperty(t.target,r),this.produceEvent({type:"ResizeMaskedElement",target:q(t.target),width:e.width,height:e.height})}n0(t){!this.si||!ft(t)||Ki(t)||this.si.observe(t)}s0(t){let e=csNodeparentNode.apply(t);return e?k.isMaskedElement(e)||k.isMaskedElementChild(e):Bi(t)?k.isMaskedElement(t.host)||k.isMaskedElementChild(t.host):!1}e0(t){(k.isMaskedElement(t.host)||k.isMaskedElementChild(t.host))&&k.setMaskedElementProperty(t,this.pc)}xm(t){Xt(t,NodeFilter.SHOW_ELEMENT).visitAll(i=>{k.unsetMaskedElementProperty(i)})}i0(t){let e=t.getBoundingClientRect(),i={state:k.MaskedElementState.Parent,width:e.width,height:e.height};k.setMaskedElementProperty(t,i),this.o0(t),Xt(t).visitAll(r=>r!==t&&k.setMaskedElementProperty(r,this.pc))}km(t){k.setMaskedElementProperty(t,this.pc),Xt(t).visitAll(e=>e!==t&&k.setMaskedElementProperty(e,this.pc))}o0(t){var e;let i=(e=at.getProperty(t,k.maskedAttributeProp))!==null&&e!==void 0?e:{attributes:[]};for(let r=0;r<this.Dm.length;r+=1){let o=this.Dm[r];csArray.prototype.indexOf.call(i.attributes,o)===-1&&csArray.prototype.push.call(i.attributes,o)}i.attributes.length!==0&&k.setMaskedAttributeProperty(t,i)}r0(t,e){var i;let r=(i=at.getProperty(t,k.maskedAttributeProp))!==null&&i!==void 0?i:{attributes:[]};for(let o=0;o<t.attributes.length;o+=1){let c=t.attributes[o].name;csArray.prototype.indexOf.call(r.attributes,c)===-1&&csArray.prototype.some.call(e,l=>csString.prototype.indexOf.call(l.attrName,c)>-1&&ee.call(t,l.selector))&&csArray.prototype.push.call(r.attributes,c)}r.attributes.length!==0&&k.setMaskedAttributeProperty(t,r)}}return ge([N()],s.prototype,"resizeObserverCallback",null),s})(),Qw=(()=>{class s{constructor(){this.xu=0,this.V=!1,this.Lm="[data-cs-capture],style",this.Ei=t=>{for(let e of t){if(de.isWhitelistedElement(e.target))for(let i=0;i<e.addedNodes.length;i+=1){let r=e.addedNodes[i];de.isWhitelistedElement(r)||ft(r)&&this.Um(r)}for(let i=0;i<e.removedNodes.length;i+=1){let r=e.removedNodes[i];Z.isConnected(r)||this.Vm(r)}}}}start(){this.xu++,!this.V&&(this.V=!0,this.a0())}a0(){this.G||(this.G=new me(e=>X(e,i=>this.Um(i))));let t=this.Lu?csArray.prototype.join.call([this.Lm,this.Lu],","):this.Lm;this.G.observe(t),this.L||(this.L=new ye(this.Ei,(e,i)=>i==="added"&&this.c0(e))),this.L.observe()}stop(){this.V&&(this.xu--,this.xu===0&&(this.V=!1,this.l0()))}l0(){this.G&&(this.Vm(document),this.G.disconnect()),this.L&&this.L.disconnect()}setWhitelistedElementsSelector(t,e=!0){if(Ut(t))this.Lu=t;else if(e)throw new St("setCapturedElementsSelector")}getWhitelistedElementsSelector(){return this.Lu}Um(t){Xt(t).visitAll(e=>{de.whitelistElement(e)})}c0(t){de.isWhitelistedElement(t.host)&&de.whitelistElement(t)}Vm(t){Xt(t,NodeFilter.SHOW_ELEMENT).visitAll(i=>{de.removeWhitelistElement(i)})}}return s})();var Zw=(()=>{let s;return function(n){function t(){let i=navigator.userAgent+navigator.language+navigator.platform,r=csString.prototype.slice.call(e(i).toString(16),-4),o=new csDate().getTime(),c="xxxxxxxx-hhhh-axxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,l=>{let h=(o+Math.random()*16)%16|0;return o=Math.floor(o/16),(l==="x"?h:h&7|8).toString(16)});return csString.prototype.replace.call(c,"hhhh",r)}n.generate=t;function e(i){let r=0;for(let o=0;o<i.length;o+=1)r=csString.prototype.charCodeAt.call(i,o)+(r<<6)+(r<<16)-r;return Math.abs(r)}}(s||(s={})),s})();var jh=(()=>{class s{constructor(){this.Fm=255,this.E0="****",this.S0="data-cs-hide-title",this.v0="data-heap-redact-text",this.gc={value:!1,onNextPageviewOnly:!1}}getRequestParameters(){return{t:this.getPageTitle()}}getPageTitle(){return this.gc.value||this.w0()?this.E0:this._0(window.document.title)}setHidePageTitle(t){this.gc={value:!0,onNextPageviewOnly:t}}resetHidePageTitle(){this.gc={value:!1,onNextPageviewOnly:!1}}updateStateOnAfterPageview(){this.gc.onNextPageviewOnly&&this.resetHidePageTitle()}w0(){let t=window.csquerySelector[document.nodeType].call(document,"head > title");return t===null?!1:t.getAttribute(this.S0)!==null||t.getAttribute(this.v0)!==null}_0(t){return t.length>this.Fm?csString.prototype.substring.call(t,0,this.Fm):t}}return s})(),tl=["setReferrer"],t_=(()=>{class s{constructor(t,e){this.S=t,this.Cs=e}init(){this.S.register(tl,t=>{if(!A(t))throw new St(tl[0]);this.Cs.set(t)})}}return s})(),e_=(()=>{class s{constructor(t,e){this.Q=t,this.ft=e,this.Uu=!1}getRequestParameters(){return{dr:this.get()}}addUrlMaskingPattern(t){this.ft.addUrlMaskingPattern(t)}enableRemoveQueryString(){this.Uu=!0}disableRemoveQueryString(){this.Uu=!1}get(){let t=this.Uu?this.Q.removeQueryString(this.$m()):this.$m();return this.Q.anonymizeUrl(t,{maskingPatterns:this.ft.getUrlMaskingPatterns()})}set(t){this.zm=t}$m(){if(this.zm)return this.zm;let t="";try{t=window.top.document.referrer}catch{if(window.parent)try{t=window.parent.document.referrer}catch{t=""}}return t===""&&(t=document.referrer),typeof t!="string"&&(t=""),t}}return s})();function el(s,n,t){if(!J(n)&&!J(t))return s.href;let e=J(n)?Hh(n):s.pathname,i=J(t)?Bh(t):s.search;return`${s.protocol}//${s.host}${e}${i}`}function Hh(s){return It(s,"/")?s:`/${s}`}function Bh(s){return It(s,"?")||s===""?s:`?${s}`}var Hr=(()=>{let s;return function(n){n[n.page=1]="page",n[n.onNextPageviewOnly=2]="onNextPageviewOnly"}(s||(s={})),s})(),s_=(()=>{class s{constructor(t,e){this.kt=t,this.Q=e,this.b0=10}overridePath(t,e){if(t===""){this.Yn=void 0;return}let i=this.Gm(e);i&&(this.Vu=i),this.Yn=e?this.qm(t,e):t}overrideQuery(t,e){let i=this.Gm(e);i&&(this.ju=i),this.Po=e?this.qm(t,e):t}computeOverriddenUrl(t){return this.T0(t)?this.getAnonymizedUrl():t}A0(t){return(typeof t=="string"||typeof t=="number")&&t in Hr}T0(t){let e=this.ca(this.kt.href);return this.ca(t)===e}ca(t){return Bf(t,"/")?csString.prototype.slice.call(t,0,-1):t}Gm(t){return J(t==null?void 0:t.lifespan)&&this.A0(t==null?void 0:t.lifespan)?t==null?void 0:t.lifespan:null}R0(){return this.Vu&&this.Vu in Hr}C0(){return this.ju&&this.ju in Hr}cleanupOverrideLifespan(){this.R0()&&(this.Yn=void 0,this.Vu=void 0),this.C0()&&(this.Po=void 0,this.ju=void 0)}getAnonymizedUrl(){let t=el(this.kt,this.Yn,this.Po);return this.Q.anonymizeUrl(t)}getUrl(){return el(this.kt,this.Yn,this.Po)}getAnonymizedPathAndQuery(){let t=J(this.Yn)?Hh(this.Yn):this.kt.pathname,e=J(this.Po)?Bh(this.Po):this.kt.search;return this.Q.anonymizeUrl(t+e)}getUrlProtocol(){return this.kt.protocol}getRequestParameters(){return{url:this.getAnonymizedUrl()}}qm(t,e){return this.I0(e)?this.P0(t):this.O0(e)?this.N0(t):t}O0(t){return!!t.decodeURI}N0(t){return this.Wm(t,1,!1)}I0(t){return!!t.decodeURIDeep}P0(t){return this.Wm(t,this.b0,!0)}Wm(t,e,i){let r=t;for(let o=0;o<e;o++)try{let c=window.decodeURI(r);if(c===r)return r;r=c}catch{return r}return i&&B.warn(`decodeURIDeep limit reached: ${r}`),r}}return s})(),i_=(()=>{class s{constructor(t,e){this.S=t,this.ws=e}init(){this.S.register(["debugEvents"],t=>{typeof t=="boolean"&&this.ws.updateDynamicFields("emitDebugEvents",t)})}}return s})();var sl=(()=>{class s{constructor(t,e,i,r,o){this.E=t,this.N=e,this.C=i,this.Ym=r,this.Bs=o}getRequestParameters(){var t;let e={...Vo(),...this.E.getRequestParameters()},i=this.C.getSession();i&&(e.pn=`${i.pageNumber}`);let r=this.N.getVisitor();if(r&&(e.sn=`${r.visitsCount}`,e.uu=`${r.id}`),!((t=this.Ym)===null||t===void 0)&&t.hasSubProjectId()&&(e.subProjectID=`${this.Ym.getSubProjectId()}`),this.M0(e),window.heap&&!this.E.isCsCrosswritingHeap())try{e.happid=window.heap.appid,window.heap.getSessionId&&(e.hsid=window.heap.getSessionId()),window.heap.getUserId?e.huu=window.heap.getUserId():window.heap.userId&&(e.huu=window.heap.userId),window.heap.getPageviewMetadata&&(e.hpvid=window.heap.getPageviewMetadata().pageviewId)}catch{delete e.happid,delete e.hsid,delete e.huu,delete e.hpvid}return e}M0(t){if(!this.Bs)return;let e=this.Bs.getSharedContext();e&&(t.happid=e.happid,t.t=e.pageTitle,t.fvt=csString(e.firstViewTime),t.fvurl=e.firstViewUrl,e.previousViewUrl&&(t.pvurl=e.previousViewUrl),t.url=e.currentViewUrl,e.sessionReferrer&&(t.fpvurl=e.sessionReferrer),t.sw=csString(e.screenWidth),t.sh=csString(e.screenHeight),t.cvt=csString(e.currentViewTime),e.encryptedIdentity&&(t.i=e.encryptedIdentity),e.cvarp&&(t.cvarp=e.cvarp))}}return s})();function n_(){let s="[data-cs-mask]",n="#c1_card_info_id",t=".ctHidden",e=["[data-heap-redact-text]","[heap-ignore]","[data-heap-ignore]","[data-heap-redact-attributes]"],i=["[data-hj-suppress]",".data-hj-suppress","[data-hj-masked]"];return[s,n,t,...e,...i]}function r_(){return[{selector:".ctHidden,input:not([type=button]):not([type=submit])",attrName:"value"}]}var o_=(()=>{class s{constructor(){this.D0={PIISelectors:["picture","img","video","audio"],Attributes:[]},this.Hs={elementSelector:"",attrSelector:"",attrSelectors:[]};let t={PIISelectors:n_(),Attributes:r_()};this.Hs=k.getComputedSelectorSettings(t,this.Hs)}init(){this.k0()}setMaskedElementSettingsFromCommand(t){if(t=k.sanitizeSelectorUserInput(t),!k.isSelectorUserInput(t))throw new St(Yo[0]);this.Hu(t)}setMaskedElementSettingsFromParent(t){let e={PIISelectors:csString.prototype.split.call(t.elementSelector,","),Attributes:t.attrSelectors};this.Hu(e)}getMaskedElementSettings(t){return t?this.Xm(this.D0):this.Hs}k0(){var t,e,i,r,o,c;let l={PIISelectors:[],Attributes:[]};((i=(e=(t=window==null?void 0:window.ClickTaleSettings)===null||t===void 0?void 0:t.DOM)===null||e===void 0?void 0:e.PII)===null||i===void 0?void 0:i.Text)instanceof Array&&l.PIISelectors.push(...window.ClickTaleSettings.DOM.PII.Text),((c=(o=(r=window==null?void 0:window.ClickTaleSettings)===null||r===void 0?void 0:r.DOM)===null||o===void 0?void 0:o.PII)===null||c===void 0?void 0:c.Attributes)instanceof Array&&window.ClickTaleSettings.DOM.PII.Attributes.forEach(h=>{A(h.attr)&&A(h.rule)&&l.Attributes.push({selector:h.rule,attrName:h.attr})}),this.Hu(l)}Hu(t){this.Hs=this.Xm(t)}Xm(t){return k.getComputedSelectorSettings(t,this.Hs)}}return s})(),a_=60*1e3,c_=30*1e3,l_=(()=>{class s{constructor(t,e){this.C=t,this.N=e,this.Bu=!1,this.x0=Kn(()=>this.C.refreshSession(),c_)}onSessionExpired(t){this.L0=t}isSessionValid(){return this.Bu?!0:!(!this.C.hasValidSession()||this.C.pollCacheRefreshEvent()&&this.N.isSessionRenewed())}isCurrentPageviewValid(){let t=this.C.hasValidSession();return this.C.pollCacheRefreshEvent(!1)?!this.N.isSessionRenewed():t}refreshSession(){this.isSessionValid()?this.x0():this.U0()&&(this.Km=C.now(),this.renewSession(!1))}renewSession(t){this.Bu=!0,this.L0(t),this.Bu=!1}U0(){return!document.hidden&&(!J(this.Km)||C.now()-this.Km>a_)}}return s})(),h_=(()=>{class s{constructor(){this.G=null,this.L=null,this.V=!1,this.Ei=t=>{for(let e of t)if(Ve.isEditableNode(e.target))for(let i=0;i<e.addedNodes.length;i+=1){let r=e.addedNodes[i];if(!Ve.isEditableNode(r)){if(Ln(r)||Bd(r)){Ve.markEditableNode(r);continue}ft(r)&&this.Jm(r)}}}}start(){this.V||(this.V=!0,this.G=new me(t=>X(t,e=>{this.Jm(e)})),this.G.observe("[contenteditable]"),this.L=new ye(this.Ei,(t,e)=>e==="added"&&this.V0(t)),this.L.observe())}stop(){var t,e;this.V&&(this.V=!1,(t=this.G)===null||t===void 0||t.disconnect(),this.G=null,(e=this.L)===null||e===void 0||e.disconnect(),this.L=null)}Jm(t){Xt(t).visitAll(e=>{Ve.markEditableNode(e)})}V0(t){Ve.isEditableNode(t.host)&&Ve.markEditableNode(t)}}return s})();var ha=(()=>{class s{constructor(){this.subscriptions={}}subscribe(t,e){this.subscriptions[t]=e,Object.keys(this.subscriptions).length===1&&this.onStartTracking()}unsubscribe(t){delete this.subscriptions[t],Object.keys(this.subscriptions).length===0&&this.onStopTracking()}}return s})(),u_=(()=>{class s extends ha{constructor(t){super(),this.H0=t,this.oi=[{boundElement:document,type:"touchstart",listener:e=>this.tt(e)},{boundElement:document,type:"touchmove",listener:e=>this.tt(e)},{boundElement:document,type:"touchend",listener:e=>this.tt(e)}],this.Oo=new fo,this.Oo.onGesture((e,i)=>this._h(e,i))}_h(t,e){for(let i in this.subscriptions){let r=this.subscriptions[i];r(t,e)}}onStartTracking(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.oi,t=>yt(t))}onStopTracking(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.oi,t=>Et(t))}canDetectGesture(){return typeof devicePixelRatio!="undefined"}tt(t){this.H0.tryToExecute("process gesture event",()=>{if(this.Oo.isValidTouchEvent(t))switch(t.type){case"touchstart":this.Oo.processActionDown(t);break;case"touchmove":this.Oo.processActionMove();break;case"touchend":this.Oo.processActionUp(t);break}})()}static isSwipe(t){return t.type===Ct.FLICK||t.type===Ct.DRAG}}return s})();var d_=(()=>{class s{constructor(t){this.yt=t}on(t,e){return i=>{this.yt.hasValidEventTarget(i)&&this.oR(i,t)&&e(i)}}oR(t,e){let i=Ot(t);return ee.call(i,e)}isMatchesSelectorSupported(){return!!ee}}return s})(),f_=(()=>{class s extends Tt{constructor(){super(),this.iy=0}onStart(){B.isPerfLoggingActive()&&(this.Mo=window.csSetInterval(()=>this.ny(),s.aR))}onStop(){B.isPerfLoggingActive()&&(this.ny(),csClearInterval(this.Mo))}ny(){this.iy>=s.cR||F.counters.methodPerformance.flush()&&this.iy++}}return s.aR=5e3,s.cR=5,s})(),p_=(()=>{class s{constructor(){}init(){this.yc=new f_}onStartTracking(){this.yc.start()}onOptout(){this.yc.stop()}onArtificialPageViewEnd(t){t&&this.yc.stop()}onAfterArtificialPageView(t){t&&this.yc.start()}}return s})();var g_=(()=>{class s extends Tt{onStart(){this.dR()}onStop(){}register(t,e){let i=(...r)=>{try{e(...r)}catch(o){o instanceof St?(F.counters.commandMisuse.count(t),B.warn(`Misused Heap Command: ${t}; Args: ${csJSON.stringify(r)}; Error: ${pe(o)?o.stack:o}`)):(F.counters.commandError.count(t),B.error(`Heap Command Error - ${t}: ${pe(o)?o.stack:o}`))}};window.heap=window.heap||[],window.heap[t]=i}dR(){var t,e;!((t=window.heapReadyCb)===null||t===void 0)&&t.length?this.fR():!((e=window.heap)===null||e===void 0)&&e.length&&this.pR()}fR(){csArray.prototype.forEach.call(window.heapReadyCb,({name:t,fn:e})=>{window.heap[t]&&e()}),window.heapReadyCb.length=0}pR(){window.heap.forEach(([t,...e])=>{window.heap[t]&&window.heap[t](...e)}),window.heap.length=0}}return s})(),il=(()=>{let s;return function(n){function t(r){return A(r)||mt(r)}n.isValidIdentity=t;function e(r){let o=!1;return i(r)&&(o=!!r.hash),o}n.parseIdentityOptionsHash=e;function i(r){return dt(r)&&Fe(r)&&"hash"in r}}(s||(s={})),s})(),nl=["identify"],m_=["getIdentity"],y_=["resetIdentity"],E_=(()=>{class s{constructor(t,e){this.S=t,this.ze=e}init(){this.S.register(nl,(t,e)=>{if(!il.isValidIdentity(t))throw new St(nl[0]);let i=il.parseIdentityOptionsHash(e);this.ze.identify(t.toString(),i)}),this.S.register(y_,()=>this.ze.resetIdentity()),this.S.register(m_,()=>this.ze.getIdentity())}onStartTracking(){this.ze.start()}onBeforeSessionRenewal(){this.ze.stop()}onOptout(){this.ze.stop()}onArtificialPageViewEnd(t){t&&this.ze.stop()}onAfterArtificialPageView(t){t&&this.ze.start()}}return s})();var Fh=(()=>{let s;return function(n){function t(r){return K(r)}n.isValidProperties=t;let e=255;function i(r){let o={};for(let c of Object.keys(r)){let l=r[c];if(A(l)||mt(l)){let h=W.truncate(csString(c),e);o[h]=W.truncate(csString(l),e)}}return o}n.sanitizeProperties=i}(s||(s={})),s})(),S_=(()=>{class s extends Tt{constructor(t,e,i,r){super(),this.Js=t,this.dl=e,this.N=i,this.j=r,this.Ec=null,this.ay=!1,this.Sc=null,Io()&&(this.ay=!0,e.setRequestParametersProviders({getRequestParameters:()=>{var o;return(o=this.Sc)!==null&&o!==void 0?o:{}}}),e.after(()=>{this.Sc=null}))}async addUserProperties(t){if(!this.ay)return;if(!this.Js){et.error("missing heap env id","UserPropertiesService");return}let e=Fh.sanitizeProperties(t);Object.keys(e).length>0&&(this.isStarted?await this.cy(e,this.Js):this.Ec=e)}async cy(t,e){let i=this.N.getVisitor();if(!i){et.warn("could not get current visitor",!0,"UserPropertiesService");return}let r=csString(await Fl(i.id));this.Sc={a:e,u:r,st:C.now().toString(),b:"web",v:"1",s:"1",tv:"4.0"};for(let o of Object.keys(t))this.Sc[`_${o}`]=t[o];this.dl.send(),this.j.refreshSession()}onStart(){this.Ec!==null&&(this.cy(this.Ec,this.Js),this.Ec=null)}onStop(){}}return s})(),rl=["addUserProperties"],v_="api/add_user_properties_v3",w_=(()=>{class s{constructor(t,e,i,r){this.S=t,this.E=e,this.N=i,this.j=r}init(){let t=new To(this.E.getPaProxyDomainUri(),v_);this.Xn=new S_(this.E.heapEnvironment.env_id,t,this.N,this.j),this.S.register(rl,e=>{if(!Fh.isValidProperties(e))throw new St(rl[0]);this.Xn.addUserProperties(e)})}onStartTracking(){this.Xn.start()}onBeforeSessionRenewal(){this.Xn.stop()}onOptout(){this.Xn.stop()}onArtificialPageViewEnd(t){t&&this.Xn.stop()}onAfterArtificialPageView(t){t&&this.Xn.start()}}return s})();var $h=(()=>{class s{constructor(){this.bR=["application/json","application/graphql","application/xml","text/plain","text/csv","text/html","text/xml","text/javascript"]}setCollectionOptions(t){this.Qu=t}isValidBodyType(t){let e=t["content-type"];if(!e)return!1;let i=csString.prototype.toLocaleLowerCase.call(e);return ji(this.bR,r=>Fn(i,r))}canCollect(t,e){return this.TR(t,e)&&this.AR(e)}TR(t,e){return t>=400||t>=200&&t<300&&this.Qu.statusCodes.has(t)&&this.RR(e)}RR(t){return ji(this.Qu.urls,e=>csString.prototype.indexOf.call(t,e)!==-1)}AR(t){return No(this.Qu.excludedDomains,e=>csString.prototype.indexOf.call(t,e)===-1)}}return s})(),__=(()=>{class s extends $h{constructor(){super(),this.V=!1,this.Qn=null,this.CR=({result:t,args:e,callerName:i})=>{this.interceptFetch(t,e,i)}}onEvent(t){this.U=t}start(){this.V||this.IR()&&(this.PR(),this.Qn&&this.Qn.activate(),this.V=!0)}stop(){this.V&&(this.Qn&&this.Qn.deactivate(),this.V=!1)}IR(){return!!window.fetch&&typeof window.fetch=="function"}NR(t){if(t[0]&&typeof t[0].clone=="function"){let e=ri(t);return e[0]=t[0].clone(),e}return t}PR(){this.Qn||(this.Qn=Zt({target:window,methodName:"fetch",hook:this.CR,hookPrepareArgs:this.NR,options:{withCallerName:!0}}))}async interceptFetch(t,e,i){let r=e[0],o=e[1],c=new Request(r,o);if(!A(c.url))return;let l=C.now(),h;try{h=await t}catch(y){if(this.MR(y)||this.fy(y)||this.DR(y)||this.kR(y))return;throw y}let[f,u]=csString.prototype.split.call(c.url,"?"),m=fe(f);if(h&&super.canCollect(h.status,m)){let y={library:i,method:c.method,url:m,queryParameters:u,requestTime:l,responseTime:C.now(),statusCode:h.status,requestBody:"",responseBody:"",requestHeaders:this.py(c.headers),responseHeaders:this.py(h.headers)};if(!h.bodyUsed&&super.isValidBodyType(y.responseHeaders))try{y.responseBody=await h.clone().text()}catch(S){if(this.fy(S))return}super.isValidBodyType(y.requestHeaders)&&(y.requestBody=await c.text()),this.U(y)}}MR(t){return t instanceof TypeError}fy(t){return t instanceof DOMException&&t.name==="AbortError"}kR(t){return t instanceof DOMException&&t.name==="TimeoutError"}DR(t){return t instanceof DOMException&&csArray.prototype.some.call(s.xR,e=>e===t.name)}py(t){let e={};return t.forEach((i,r)=>{i&&(e[csString.prototype.toLowerCase.call(r)]=csString.prototype.trim.call(i))}),e}}return s.xR=["NoModificationAllowedError","InvalidStateError","OperationError"],j([N("FetchRequestTracker.interceptFetch")],s.prototype,"interceptFetch",null),s})(),b_=0,T_=(()=>{class s extends $h{constructor(){super(),this.te=csSymbol("ApiCall"),this.V=!1,this.Zn=null,this.tr=null,this.vc=null,this.LR=({context:t,args:e,callerName:i})=>this.interceptOpen(t,e,i),this.UR=({context:t,args:e})=>this.interceptSetRequestHeader(t,e),this.VR=({context:t,args:e})=>this.interceptSend(t,e)}onEvent(t){this.U=t}start(){this.V||(this.wu(),this.Zn&&this.Zn.activate(),this.tr&&this.tr.activate(),this.vc&&this.vc.activate(),this.V=!0)}stop(){this.V&&(this.Zn&&this.Zn.deactivate(),this.tr&&this.tr.deactivate(),this.V=!1)}wu(){this.Zn||(this.Zn=Zt({target:XMLHttpRequest.prototype,methodName:"open",hook:this.LR,options:{withCallerName:!0}})),this.tr||(this.tr=Zt({target:XMLHttpRequest.prototype,methodName:"setRequestHeader",hook:this.UR})),this.vc||(this.vc=Zt({target:XMLHttpRequest.prototype,methodName:"send",hook:this.VR}))}interceptOpen(t,e,i){if(!e[1]||!A(e[1]))return;let[r,o]=csString.prototype.split.call(e[1],"?");t[this.te]={library:i,requestTime:C.now(),method:e[0],url:fe(r),queryParameters:o,statusCode:b_,responseHeaders:{},requestHeaders:{},responseBody:"",requestBody:""},t.addEventListener("readystatechange",()=>this.readyStateChangeListener(t))}readyStateChangeListener(t){t[this.te]&&t.readyState===XMLHttpRequest.DONE&&this.canCollect(t.status,t[this.te].url)&&(t[this.te].responseTime=C.now(),t[this.te].statusCode=t.status,t[this.te].responseHeaders=this.jR(t.getAllResponseHeaders()),super.isValidBodyType(t[this.te].responseHeaders)&&(t.responseType===""||t.responseType==="text")&&(t[this.te].responseBody=t.responseText),this.U(t[this.te]))}interceptSetRequestHeader(t,e){if(!t[this.te])return;let i=e[0],r=csString.prototype.valueOf.call(new csString(e[1]));typeof i!="string"||r.length===0||(i=csString.prototype.toLowerCase.call(csString.prototype.trim.call(i)),r=csString.prototype.trim.call(r),t[this.te].requestHeaders[i]?t[this.te].requestHeaders[i]+=`, ${r}`:t[this.te].requestHeaders[i]=r)}interceptSend(t,e){t[this.te]&&super.isValidBodyType(t[this.te].requestHeaders)&&typeof e[0]=="string"&&(t[this.te].requestBody=e[0])}jR(t){let e={};return csArray.prototype.forEach.call(csString.prototype.split.call(t,/[\r\n]+/),i=>{let[r,o]=csString.prototype.split.call(i,/:\s*/);o&&(e[csString.prototype.toLowerCase.call(r)]=csString.prototype.trim.call(o))}),e}}return j([N("XhrRequestTracker.interceptOpen")],s.prototype,"interceptOpen",null),j([N("XhrRequestTracker.readyStateChangeListener")],s.prototype,"readyStateChangeListener",null),j([N("XhrRequestTracker.interceptSetRequestHeader")],s.prototype,"interceptSetRequestHeader",null),j([N("XhrRequestTracker.interceptSend")],s.prototype,"interceptSend",null),s})(),A_=["startDataCollection","data-collection:start"],R_=["data-collection:stop"],C_=(()=>{class s{constructor(t,e){this.vi=t,this.S=e}init(){this.S.register(A_,()=>{this.vi.startDataCollection()}),this.S.register(R_,()=>{this.vi.stopDataCollection()})}}return s})(),Br={fromSessionRenewal:!1,isRenewedVisitor:!1},I_=(()=>{class s{constructor(t,e,i,r,o,c){this.E=t,this.w=e,this.rs=i,this.lt=r,this.tn=o,this.j=c,this.gy=!1,this.my=0,this.Zu=!0,this.yy=!1,this.wi=!1,this.startDataCollection=({fromSessionRenewal:l,onAfterDataCollectionStartedCallback:h}=Br)=>{l&&this.wi||!this.gy?this.HR(l,h):this.BR()}}tryStartAutomaticDataCollection({fromSessionRenewal:t,isRenewedVisitor:e,onAfterDataCollectionStartedCallback:i}=Br){this.FR(t,e)&&this.startDataCollection({fromSessionRenewal:t,onAfterDataCollectionStartedCallback:i})}disableStartDataCollection(){this.Zu=!1}allowStartDataCollection({fromSessionRenewal:t}=Br){this.Zu=!0,this.yy&&this.startDataCollection({fromSessionRenewal:t})}stopDataCollection(){this.wi&&(this.wi=!1,this.w.emitArtificialPageViewEnd(!0),this.tn.stop())}BR(){this.wi||(this.wi=!0,this.j.isSessionValid()?(this.j.refreshSession(),this.tn.start(Is.Artificial)):this.j.renewSession(!1))}FR(t,e){return e&&!this.wi?!1:t?!0:this.E.startMode===Hn.Manual?!1:!oo(this.E)&&!this.E.isHeapSideloadsStartDataCollection()&&!this.E.isCsSideloadingHeap()}HR(t,e){if(this.rs.isActive()||(this.yy=!0,this.$R()&&(this.my++,this.my<2))||!this.Zu||this.wi&&!t)return;this.gy=!0,this.wi=!0,this.lt.init();let i=t?Is.Renewal:Is.Natural;this.tn.start(i);let r=()=>{this.w.emitStartTracking(t),typeof e=="function"&&e()};Z.onDocumentLoaded(r)}$R(){return oo(this.E)&&this.E.isCsSideloadingHeap()}}return s})(),P_=(()=>{class s{constructor(t){this.td=t}buildApiErrors(t,e){let i=this.td.collectDataPoints(t,e);if(i===null)return null;let r=this.zR(t,i);if(e){let o=this.GR(t,i);return{apiError:r,detailedApiError:o}}return{apiError:r}}GR(t,e){let i=this.Ey(t);return e.collectQueryParam&&t.queryParameters&&(i.queryParameters=t.queryParameters),e.collectRequestBody&&t.requestBody&&(i.requestBody=t.requestBody),e.collectResponseBody&&t.responseBody&&(i.responseBody=t.responseBody),Object.keys(e.standardRequestHeaders).length>0&&(i.standardRequestHeaders=e.standardRequestHeaders),Object.keys(e.standardResponseHeaders).length>0&&(i.standardResponseHeaders=e.standardResponseHeaders),Object.keys(e.customRequestHeaders).length>0&&(i.customRequestHeaders=csJSON.stringify(e.customRequestHeaders)),Object.keys(e.customResponseHeaders).length>0&&(i.customResponseHeaders=csJSON.stringify(e.customResponseHeaders)),Object.keys(e.plainCustomRequestHeaders).length>0&&(i.plainCustomRequestHeaders=e.plainCustomRequestHeaders),Object.keys(e.plainCustomResponseHeaders).length>0&&(i.plainCustomResponseHeaders=e.plainCustomResponseHeaders),e.plainResponseBodyAttributes&&Object.keys(e.plainResponseBodyAttributes).length>0&&(i.plainResponseBodyAttributes=e.plainResponseBodyAttributes),e.plainRequestBodyAttributes&&Object.keys(e.plainRequestBodyAttributes).length>0&&(i.plainRequestBodyAttributes=e.plainRequestBodyAttributes),Object.keys(e.responseBodyAttributes).length>0&&(i.responseBodyAttributes=csJSON.stringify(e.responseBodyAttributes)),Object.keys(e.requestBodyAttributes).length>0&&(i.requestBodyAttributes=csJSON.stringify(e.requestBodyAttributes)),i}Ey(t){return{errorType:"apiError",url:t.url,method:t.method,requestTime:t.requestTime,responseTime:t.responseTime,statusCode:t.statusCode,library:t.library}}zR(t,e){let i=this.Ey(t);return e.matchingBodyContents.length>0&&(i.matchingBodyContents=e.matchingBodyContents),Object.keys(e.plainResponseBodyAttributes).length>0&&(i.plainBodyResponseAttributes=e.plainResponseBodyAttributes),i}}return s})(),O_=(()=>{class s extends ha{constructor(t,e,i){super(),this.wc=t,this._c=e,this.td=i,this.sd=0,this.qR=new P_(i)}subscribe(t,e,i){i!=null&&i.detailedEvent&&(Object.defineProperty(e,"detailedEvent",{value:i.detailedEvent}),this.sd++),super.subscribe(t,e)}unsubscribe(t){var e;!((e=this.subscriptions[t])===null||e===void 0)&&e.hasOwnProperty("detailedEvent")&&this.sd--,super.unsubscribe(t)}init(){let t=this.td.computeApiErrorCollectionOptions();this.wc.setCollectionOptions(t),this.wc.onEvent(e=>this.Sy(e)),this._c.setCollectionOptions(t),this._c.onEvent(e=>this.Sy(e))}onStartTracking(){this.wc.start(),this._c.start()}onStopTracking(){this.wc.stop(),this._c.stop()}Sy(t){let e=this.qR.buildApiErrors(t,this.sd!==0);if(e)for(let i in this.subscriptions){let r=this.subscriptions[i];r.hasOwnProperty("detailedEvent")?e.detailedApiError&&r(e.detailedApiError):r(e.apiError)}}}return s})(),N_=(()=>{class s{constructor(t,e,i=!1){this.ft=t,this.Q=e,this.Er=i}addUrlMaskingPattern(t){this.ft.addUrlMaskingPattern(t)}anonymize(t){let e=this.Q.removeQueryString(t.url),i={maskingPatterns:this.ft.getUrlMaskingPatterns(),partialMaskingPatterns:this.ft.getPartialUrlMaskingPatterns(),maskNames:this.Er};return{...t,url:this.Q.anonymizeUrl(e,i),library:t.library?this.Q.anonymizeUrl(t.library,i):void 0}}}return s})(),M_=(()=>{class s{constructor(){this.WR=64e3,this.YR=5e3,this.XR=2e3,this.vy=8e3,this.Os=!!self.TextEncoder,this.Os&&(this.KR=new TextEncoder)}xo(t){return this.KR.encode(t).byteLength}wy(t,e,i){let r=0;t[e]&&(r+=this.xo(t[e]),r>this.vy&&(r=0,t[e]=W.ELLIPSIS)),t[i]&&(r+=this.xo(csJSON.stringify(t[i])),r>this.vy&&(t[i]=s.truncatedObjectMarker))}JR(t){t.queryParameters&&this.xo(t.queryParameters)>this.XR&&(t.queryParameters=W.ELLIPSIS)}QR(t){t.requestBody&&this.xo(t.requestBody)>this.WR&&(t.requestBody=W.ELLIPSIS),t.responseBody&&this.xo(t.responseBody)>this.YR&&(t.responseBody=W.ELLIPSIS)}truncate(t){this.Os?(this.JR(t),this.QR(t),this.wy(t,"customResponseHeaders","plainCustomResponseHeaders"),this.wy(t,"customRequestHeaders","plainCustomRequestHeaders")):(t.queryParameters="",t.requestBody="",t.responseBody="",t.customResponseHeaders="",t.customRequestHeaders="",t.plainCustomResponseHeaders={},t.plainCustomRequestHeaders={})}}return s.truncatedObjectMarker={[W.ELLIPSIS]:W.ELLIPSIS},s})(),D_=(()=>{let s;return function(n){function t(r){let o="[",c="]",l=[];for(let h=0;h<r.length;++h)if(r[h]===o)csArray.prototype.push.call(l,r[h]);else if(r[h]===c)if(csString.prototype.indexOf.call(r,o)>-1)csArray.prototype.pop.call(l);else return!1;return l.length===0}function e(r){if(!r)return!0;if(!t(r))return!1;let o=csString.prototype.split.call(r,/[\[\]]/);return csArray.prototype.every.call(o,c=>{let l=c[0],h=c[c.length-1];if((l==="'"||l==='"')&&l!==h)return!1;let f=csString.prototype.split.call(c,".");return f[0].length===0&&csArray.prototype.shift.call(f),csArray.prototype.every.call(f,u=>{let m=/^\-?\d+$/.exec(u);return m?parseInt(m[0],10)>=0:u==="$"||/\w+/.test(u)})})}n.isValidJSONPath=e;function i(r,o){if(!r)return;let c=csString.prototype.split.call(r,/[\$\[\]]/),l=[];csArray.prototype.forEach.call(c,f=>{if(f[0]==="'"||f[0]==='"'){csArray.prototype.push.call(l,csString.prototype.substring.call(f,1,f.length-1));return}csArray.prototype.push.call(l,...csArray.prototype.filter.call(csString.prototype.split.call(f,"."),u=>u.length>0))}),l[0]==="$"&&csArray.prototype.shift.call(l);let h=o;for(let f of l)if(h[f]!==void 0)h=h[f];else return;return h}n.getJSONPathValue=i}(s||(s={})),s})(),k_=(()=>{class s{constructor(){this.ZR=new Set(["age","cache-control","clear-site-data","expires","pragma","warning","downlink","ect","rtt","last-modified","connection","keep-alive","accept","accept-encoding","accept-language","expect","access-control-allow-origin","access-control-allow-credentials","access-control-allow-headers","access-control-allow-methods","access-control-expose-headers","access-control-max-age","access-control-request-headers","access-control-request-method","origin","timing-allow-origin","content-length","content-type","content-encoding","content-language","via","host","referrer-policy","user-agent","allow","server","accept-ranges","range","if-range","content-range","cross-origin-embedder-policy","cross-origin-opener-policy","cross-origin-resource-policy","content-security-policy","content-security-policy-report-only","expect-ct","feature-policy","strict-transport-security","upgrade-insecure-requests","x-content-type-options","x-download-options","x-frame-options","x-permitted-cross-domain-policies","x-powered-by","x-xss-protection","sec-fetch-site","sec-fetch-mode","sec-fetch-user","sec-fetch-dest"])}isValidStandardHeader(t){return this.ZR.has(t)}}return s})(),x_=(()=>{class s{constructor(){this.tC=64e3,this.eC=100,this.nt={collectQueryParam:!1,collectRequestBody:!1,collectResponseBody:!1,matchingBodyContents:[],plainResponseBodyAttributes:{},plainRequestBodyAttributes:{},requestBodyAttributes:{},responseBodyAttributes:{},standardRequestHeaders:{},standardResponseHeaders:{},customRequestHeaders:{},customResponseHeaders:{},plainCustomRequestHeaders:{},plainCustomResponseHeaders:{}},this._y=new k_}sC(t){return t.length<=this.tC}iC(t){let e=t["content-type"];return e!==void 0&&(It(e,"application/json")||It(e,"application/graphql"))}nC(t,e){return t&&this.sC(t)&&this.iC(e)}bc(t,e,i,r){let o=r==="request"?this.rC:this.oC;if(o!==void 0||this.nC(e,i)){if(o===void 0)try{o=csJSON.parse(e),r==="request"?this.rC=o:this.oC=o}catch{return}let c=D_.getJSONPathValue(t,o);if(c!==void 0&&(c===null||!Fe(c))){let l=A(c)?c:csJSON.stringify(c);return W.truncate(l,this.eC,W.ELLIPSIS)}}}isBodyAttributeValueFound(t,e){let i,r;return(e.type==="request-response"||e.type==="response")&&(i=this.bc(e.path,t.responseBody,t.responseHeaders,"response")),(e.type==="request-response"||e.type==="request")&&(r=this.bc(e.path,t.requestBody,t.requestHeaders,"request")),J(i)||J(r)}collectBodyAttribute(t,e,i){let r;(e.type==="request-response"||e.type==="response")&&(r=this.bc(e.path,t.responseBody,t.responseHeaders,"response"),r&&(e.encrypted?this.nt.responseBodyAttributes[e.path]=r:(r=i(r),this.nt.plainResponseBodyAttributes[e.path]=r))),(e.type==="request-response"||e.type==="request")&&(r=this.bc(e.path,t.requestBody,t.requestHeaders,"request"),r&&(e.encrypted?r&&(this.nt.requestBodyAttributes[e.path]=r):(r=i(r),this.nt.plainRequestBodyAttributes[e.path]=r)))}isBodyContentMatching(t,e){return t.responseBody?!!new csRegExp(e,"i").test(t.responseBody):!1}collectBodyContent(t){csArray.prototype.indexOf.call(this.nt.matchingBodyContents,t)===-1&&csArray.prototype.push.call(this.nt.matchingBodyContents,t)}collectCustomHeaders(t,e,i){let r=csString.prototype.toLocaleLowerCase.call(e.headerName);t.responseHeaders[r]&&(e.type==="request-response"||e.type==="response")&&(e.encrypted?this.nt.customResponseHeaders[r]=t.responseHeaders[r]:this.nt.plainCustomResponseHeaders[r]=i(t.responseHeaders[r])),t.requestHeaders[r]&&(e.type==="request-response"||e.type==="request")&&(e.encrypted?this.nt.customRequestHeaders[r]=t.requestHeaders[r]:this.nt.plainCustomRequestHeaders[r]=i(t.requestHeaders[r]))}collectStandardHeaders(t){if(!(Object.keys(this.nt.standardRequestHeaders).length>0||Object.keys(this.nt.standardResponseHeaders).length>0)){for(let[e,i]of Object.entries(t.requestHeaders))this._y.isValidStandardHeader(e)&&(this.nt.standardRequestHeaders[e]=i);for(let[e,i]of Object.entries(t.responseHeaders))this._y.isValidStandardHeader(e)&&(this.nt.standardResponseHeaders[e]=i)}}setCollectQueryParam(t){t&&(this.nt.collectQueryParam=!0)}setCollectResponseBody(t){t&&(this.nt.collectResponseBody=!0)}setCollectRequestBody(t){t&&(this.nt.collectRequestBody=!0)}getCollectedDataPoints(){return this.nt}}return s})(),Ii=(()=>{let s;return function(n){n.CONTENTSQUARE="contentsquare.net",n.CLICKTALE="clicktale.net",n.FAKE_TRACKER="fake-tracker.content-square.fr",n.HEAP_API="heap-api.com",n.HEAP_ANALYTICS="heapanalytics.com"}(s||(s={})),s})(),L_=(()=>{class s{constructor(t,e){this.Tc=t,this.M=e}collectDataPoints(t,e){this.nt=new x_;let i=!1;if(this.Tc.collectionRules)for(let r of this.Tc.collectionRules)this.aC(r,t)&&this.cC(r,t)&&this.lC(r,t)&&(i=!0,this.hC(t,r,e));return i||(i=this.uC(t)),i&&e&&this.Tc.collectStandardHeaders&&this.nt.collectStandardHeaders(t),i?this.nt.getCollectedDataPoints():null}computeApiErrorCollectionOptions(){let t=this.Tc.collectionRules||[],e=new Set,i=[];for(let o of t)o.statusCode!==void 0&&e.add(o.statusCode),o.url!==void 0&&csArray.prototype.indexOf.call(i,o.url)===-1&&csArray.prototype.push.call(i,o.url);let r=[Ii.CONTENTSQUARE,Ii.CLICKTALE,Ii.HEAP_API,Ii.HEAP_ANALYTICS];return csArray.prototype.push.call(r,Ii.FAKE_TRACKER),{statusCodes:e,urls:i,excludedDomains:r}}aC(t,e){return(!t.statusCode&&e.statusCode>=400||t.statusCode!==void 0&&t.statusCode===e.statusCode)&&(!t.url||csString.prototype.indexOf.call(e.url,t.url)!==-1)}cC(t,e){return t.bodyContent?this.nt.isBodyContentMatching(e,t.bodyContent):!0}lC(t,e){let i=csArray.prototype.find.call(t.bodyAttributePaths,r=>r.primary);return i===void 0?!0:this.nt.isBodyAttributeValueFound(e,i)}uC(t){return t.statusCode>=400}hC(t,e,i){e.bodyContent&&this.nt.collectBodyContent(e.bodyContent);let r=Us(e.bodyAttributePaths,o=>o.primary===1);if(r&&this.nt.collectBodyAttribute(t,r,o=>this.M.anonymizePII(o)),i){this.nt.setCollectQueryParam(e.collectQueryParam),this.nt.setCollectResponseBody(e.collectResponseBody),this.nt.setCollectRequestBody(e.collectRequestBody);for(let c of e.customHeaders)this.nt.collectCustomHeaders(t,c,l=>this.M.anonymizePII(l));let o=Hi(e.bodyAttributePaths,c=>!c.primary);for(let c of o)this.nt.collectBodyAttribute(t,c,l=>this.M.anonymizePII(l))}}}return s})(),U_=(()=>{let s;return function(n){function o(h,f,u=!1){let y={message:W.truncate(h,300,W.ELLIPSIS),errorType:"customError"};return(u||l(f))&&(c(f),y.attributes=f),y}n.buildCustomErrorEvent=o;function c(h){for(let f in h){let u=h[f];if(typeof u=="string"&&u.length>30&&(u=W.truncate(u,30,W.ELLIPSIS),h[f]=u),f.length>30){let m=W.truncate(f,30,W.ELLIPSIS);delete h[f],h[m]=u}}}function l(h){let f=Object.keys(h).length;return f>0&&f<=5}}(s||(s={})),s})();var V_=20,j_=(()=>{class s extends Tt{constructor(t,e,i,r,o){super(),this.nd=t,this.St=e,this._i=i,this.J=r,this.Fs=o,this.Ac=[],this.Li=0,this.nn=[]}initStates(){var t;this.Au(),this.fs=C.now(),this.Ac=[],this.Li=0,(t=this.Fs)===null||t===void 0||t.onEvent(e=>this.tt(e))}trackCustomError(t,e={}){if(!(A(t)&&Fe(e)&&dt(e)))throw new St(Jn[0]);let i=U_.buildCustomErrorEvent(t,e);this.Lo(i)}onIframeCustomError(t){this.tt(t)}onStart(){var t;this.rd(),(t=this.Fs)===null||t===void 0||t.start()}onStop(){var t;(t=this.Fs)===null||t===void 0||t.stop()}rd(){this.isStarted&&(csArray.prototype.forEach.call(this.nn,t=>this.Lo(t)),this.nn=[])}Lo(t){if(this.isStarted){let e=this.tt(t);e&&this.J.emitCustomErrorEvent(e)}else csArray.prototype.push.call(this.nn,t)}tt(t){if(this.isStarted&&this.Li<V_){let e=this.fC(t);return csArray.prototype.push.call(this.Ac,e),this.wo(),e}return null}fC(t){let e={...t,rt:this.Xi()};return e.message=this._i.anonymize(t.message),e}Au(){this.nd.removeQueryParams(),this.nd.setQueryParams(this.St.getRequestParameters())}Xi(){return C.now()-this.fs}wo(){this.nd.send({errors:this.Ac}),this.Ac=[],this.Li+=1}}return s})(),H_="custom-errors",B_=(()=>{class s{constructor(t,e,i,r,o,c,l,h){this._i=t,this.E=e,this.St=i,this.S=r,this.pi=o,this.Ht=c,this.pt=l,this.Fs=h}init(){let t=this.Ht.create(`${this.E.getTrackerUri()}/${H_}`);this.$s=new j_(t,this.St,this._i,this.pi,this.Fs),this.pt.addListener(this.$s),this.ut()}ut(){this.S.register(Jn,(t,e)=>{this.$s.trackCustomError(t,e)})}onStartTracking(){this.$s.start()}onAfterNaturalPageView(){this.$s.initStates()}onArtificialPageViewEnd(t){t&&this.$s.stop()}onAfterArtificialPageView(t){this.$s.initStates(),t&&this.$s.start()}onBeforeSessionRenewal(){this.$s.stop()}onOptout(){this.$s.stop()}}return s})(),F_=/(\b["']?key["']?\s*[=:]\s*["'](?:first|last|user|profile|primary|primary[ _-]?last)[ _-]?name["']\s*,?\s*["']?value["']?\s*[=:]\s*["'])(.+?)(["']|$)|(\b["']?(?:first|last|user|profile|primary|primary[ _-]?last)[\s_-]?name["']?\s*[=:]\s*["'])(.+?)(["']|$)/gi,$_="$1$4CS_ANONYMIZED_NAME$3$6",z_=/(?:\(\d{3}\) \d{3}[- ]\d{4}\b)|(?:\b\d{3}([-\. ])\d{3}\1\d{4}\b)|(?:\b\d{2} \d{2} \d{2} \d{2} \d{2}\b)|(?:\b\d{4} \d{3} \d{3}\b)|(?:\b\d{2}([-\. ])\d{4}\2\d{4}\b)|(?:\b\d{3}([- ])\d{4}\3\d{4}\b)|(?:\+\d{1,3} \d{3} \d{3} \d{4}\b)|(?:\+\d{1,3} \(\d{3}\) \d{3}-\d{4}\b)|(?:\+\d{1,3}([- ])\d{4}\4\d{3}\4\d{3}\b)|(?:\+\d{1,3} \d \d{4} \d{4}\b)|(?:\+\d{1,3} \d \d{3} \d{3} \d{4}\b)|(?:\+\d{1,3} \d \d{2} \d{2} \d{2} \d{2}\b)|(?:\+\d{7,15}\b)|(?:\+\d{1,3} \d{6,12}\b)|(?:\+\d{1,3}([- ])\d{4}\5\d{3}\5\d{3}\b)/g,G_="CS_ANONYMIZED_PHONE",q_=(()=>{class s{constructor(t,e){this.M=t,this.Q=e}anonymize(t){return this.Q?csArray.prototype.join.call(csArray.prototype.map.call(Af(t),({content:e,isUrl:i})=>{var r;return i?(r=this.Q)===null||r===void 0?void 0:r.anonymizeUrl(e,{maskNames:!0}):this.by(e)}),""):this.by(t)}by(t){t=this.M.anonymizePII(t);let e=t;t=this.Er(t),t!==e&&(F.counters.redactedPII.count("name"),F.counters.redactedPII.count("name-in-custom-error"));let i=t;return t=this.pC(t),t!==i&&(F.counters.redactedPII.count("phone"),F.counters.redactedPII.count("phone-in-custom-error")),t}Er(t){return csString.prototype.replace.call(t,F_,$_)}pC(t){return csString.prototype.replace.call(t,z_,G_)}}return s})(),W_=20,Y_="Custom Error:",X_="https://cserror.com/texterror.js",K_=(()=>{class s extends Tt{constructor(t,e,i,r,o,c){super(),this.zs=t,this.od=e,this.St=i,this.Ee=r,this.pi=o,this.R=c,this.Rc=[],this.Ui=0,this.nn=[]}initStates(){this.fs=C.now(),this.od.removeQueryParams(),this.od.setQueryParams(this.St.getRequestParameters()),this.Rc=[],this.Ui=0}onStart(){this.zs.subscribe(s.Vt,t=>this.tt(t)),this.rd()}onStop(){this.zs.unsubscribe(s.Vt)}onIframeJavascriptError(t){this.tt(t)}trackCustomError(t){let e={errorType:"jsError",message:`${Y_} ${t}`,lineno:1,colno:1,filename:X_};this.Lo(e)}Lo(t){if(this.isStarted){let e=this.tt(t);e&&this.pi.emitCustomJavaScriptErrorEvent(e)}else csArray.prototype.push.call(this.nn,t)}rd(){this.isStarted&&(csArray.prototype.forEach.call(this.nn,t=>this.Lo(t)),this.nn=[])}tt(t){if(this.isStarted&&this.Ui<W_){let e={...t,pageUrl:this.R.getAnonymizedUrl(),rt:this.Xi()};return this.Ee.anonymize(e),csArray.prototype.push.call(this.Rc,e),this.wo(),e}return null}Xi(){return C.now()-this.fs}wo(){this.od.send({errors:this.Rc}),this.Rc=[],this.Ui+=1}}return s.Vt="JavaScriptErrorsService",s})(),J_="errors",Q_=(()=>{class s{constructor(t,e,i,r,o,c,l,h,f){this.zs=t,this.Ee=e,this.E=i,this.St=r,this.pt=o,this.S=c,this.pi=l,this.R=h,this.Ht=f}init(){let t=this.Ht.create(`${this.E.getTrackerUri()}/${J_}`);this.Gs=new K_(this.zs,t,this.St,this.Ee,this.pi,this.R),this.pt.addListener(this.Gs),this.ut()}ut(){this.E.jsCustomErrorsEnabled&&!this.E.customErrors.enabled&&this.S.register(Jn,t=>{this.Gs.trackCustomError(t)})}onStartTracking(){this.Gs.start()}onAfterNaturalPageView(){this.Gs.initStates()}onArtificialPageViewEnd(t){t&&this.Gs.stop()}onAfterArtificialPageView(t){this.Gs.initStates(),t&&this.Gs.start()}onBeforeSessionRenewal(){this.Gs.stop()}onOptout(){this.Gs.stop()}}return s})(),Z_=(()=>{class s extends ha{constructor(){super(),this.z=new gh(t=>this.errorListener(t))}onStartTracking(){this.z.observe()}onStopTracking(){this.z.disconnect()}errorListener(t){let e=this.gC(t);for(let i in this.subscriptions){let r=this.subscriptions[i];r(e)}}mC(t){return t=t!=null?t:"[NO ERROR MESSAGE]",W.truncate(t,s.bh,W.ELLIPSIS)}yC(t){return!t||oe(t)?"":W.truncate(t,s.Th,W.ELLIPSIS)}gC(t){return{errorType:"jsError",message:this.mC(t.message),filename:this.yC(t.filename),lineno:t.lineno,colno:t.colno}}}return s.bh=1024,s.Th=150,j([N("Event handler type: error")],s.prototype,"errorListener",null),s})(),tb="CS_ANONYMIZED_VALUE",eb=(()=>{class s{constructor(t,e){this.M=t,this.R=e}anonymize(t){return A(t.message)&&(t.message=this.EC(t.message),t.message=this.M.anonymizePII(t.message)),A(t.filename)&&(t.filename=this.R.computeOverriddenUrl(t.filename)),t}EC(t){return csString.prototype.replace.call(t,/(value\s*=\s*".*"|value\s*=\s*'.*')/,`value='${tb}'`)}}return s})();var sb=(()=>{class s{constructor(t){this.S=t}init(){this.xy(s.JC,Il),this.xy(s.QC,Cl)}xy(t,e){this.S.register([t],(i,r)=>{!A(i)||!(A(r)||pe(r))||B.error(r,`${e}${i}`)})}}return s.QC="logSnippetError",s.JC="logImplementationSnippetError",s})(),ib=["hidePageTitle"],nb=["resetHidePageTitle"],rb="onNextPageviewOnly",ob=(()=>{class s{constructor(t,e){this.de=t,this.S=e}init(){this.S.register(ib,t=>{let e=t===rb;this.de.setHidePageTitle(e)}),this.S.register(nb,()=>this.de.resetHidePageTitle())}onAfterNaturalPageView(){this.de.updateStateOnAfterPageview()}onAfterArtificialPageView(){this.de.updateStateOnAfterPageview()}}return s})(),ab=(()=>{class s{constructor(t,e){this.Ft=t,this.E=e,this.Ly=!1}enableRecordingContext(t,e,i){this.Ly=!0,this.$n=t,this.C=e,this.io=i}getRecordingContext(){var t,e,i;if(!this.Ly)return{isRecording:!1,recordingStartTimestamp:0,etrState:te.ETR_OFF,etrStatus:re.ETR_DISABLED,collectState:U.ANALYTICS_ONLY};let r=this.C.getSession();return{isRecording:this.$n.isRecording(),useAnonymization:this.Ft.getSensitiveStatus().useAnonymization,enableOnlineResources:(t=this.$n.getStaticResourceManagerStatus())===null||t===void 0?void 0:t.onlineAssets.activated,enableOnlineResourcesOnNextPageview:(e=this.$n.getStaticResourceManagerStatus())===null||e===void 0?void 0:e.onlineAssets.enabledOnNextPageview,recordingStartTimestamp:parseInt(this.$n.getRecordingStartTimestamp(),10),etrState:this.E.malkaEtrEnabled?te.ETR_ON:te.ETR_OFF,etrStatus:this.io.getEtrStatus(r),collectState:(i=r==null?void 0:r.collectState)!==null&&i!==void 0?i:U.ANALYTICS_ONLY}}}return s})(),Gi=(()=>{class s{static isRecordingSupported(){return"MutationObserver"in window&&"visibilityState"in document}static isAsyncSerializationSupported(){return"Promise"in window&&"findIndex"in csArray.prototype}}return s})();var cb=(()=>{class s extends Tt{constructor(t,e,i,r,o,c){super(),this.ve=t,this.lt=e,this.Gt=i,this.En=r,this.or=o,this.it=c}onStart(){var t,e,i;this.Gt.start(),this.ve.setMaskedElementSettings(this.lt.getMaskedElementSettings((t=this.it)===null||t===void 0?void 0:t.shouldMaskNonTextElements())),this.ve.startIdentifier(),(e=this.En)===null||e===void 0||e.start(),(i=this.or)===null||i===void 0||i.start()}onStop(){var t,e;this.Gt.stop(),this.ve.stopIdentifier(),(t=this.En)===null||t===void 0||t.stop(),(e=this.or)===null||e===void 0||e.stop()}}return s})(),lb=(()=>{class s{constructor(t,e,i,r,o,c){this.it=t,this.lt=e,this.ie=i,this.Gt=r,this.Rr=o,this.ht=c,this.Cr=Uo(this.Rr)}getSensitiveStatus(){var t,e;return{started:this.ie.isStarted,useAnonymization:this.it.shouldUseAnonymization(),capturedElementSelector:this.Gt.getWhitelistedElementsSelector(),maskedElementSettings:this.lt.getMaskedElementSettings((t=this.it)===null||t===void 0?void 0:t.shouldMaskNonTextElements()),encryptionSelectors:(e=this.ht)===null||e===void 0?void 0:e.getEncryptionSelectors()}}getElementSensitiveStatus(t){let e=this.ie.isStarted,i=this.it.shouldUseAnonymization();return e?k.isMaskedElement(t)||k.isMaskedElementChild(t)?Ft.MASKED:oh.shouldEncrypt(t)?Ft.ENCRYPTED:Ve.isEditableNode(t)?Ft.ANONYMIZED:i?de.isWhitelistedElement(t)?Ft.CAPTURED:Ft.ANONYMIZED:Ft.CAPTURED:Ft.ANONYMIZED}getAttributeSensitiveStatus(t,e){if(!this.ie.isStarted)return Ft.ANONYMIZED;let i=this.it.shouldUseAnonymization();return k.isMaskedAttribute(t,e)?Ft.MASKED:i?fi(t)||de.isWhitelistedElement(t)||this.Cr.has(e)?Ft.CAPTURED:Ft.ANONYMIZED:Ft.CAPTURED}}return s})(),hb=(()=>{class s{constructor(t){this.j=t}onAfterVisitorRenewal(){this.j.renewSession(!0)}}return s})(),ub=(()=>{let s;return function(n){n.URL="url"}(s||(s={})),s})(),ol=(()=>{let s;return function(n){function t(u,m){for(let y of u)if(i(y,m))return!0;return!1}n.isUrlMatching=t;function e(u,m){if(A(m)){for(let y of u)if(i(y,m))return!0}else if(Ui(m)){for(let y of u)if(i(y,csString(m)))return!0}return!1}n.isMatching=e;function i(u,m){let y=r(u,m);return u.negate?!y:y}function r(u,m){switch(u.rule_type==="date"&&(u.match_operation==="less_than"||u.match_operation==="greater_than")&&(m=(new csDate(m).valueOf()/1e3).toFixed(0)),u.match_operation){case"exact":switch(u.rule_type){case"string":return A(u.pattern)?csString.prototype.toLowerCase.call(m)===csString.prototype.toLowerCase.call(u.pattern):!1;case"boolean":return m===u.pattern||m===csString(u.pattern);case"number":return dt(m)?Number(m)===Number(u.pattern):!1;default:return m===u.pattern}case"starts_with":return A(u.pattern)?csString.prototype.indexOf.call(m,u.pattern)===0:!1;case"ends_with":return A(u.pattern)?di(m,u.pattern):!1;case"contains":return A(u.pattern)?csString.prototype.indexOf.call(m,u.pattern)!==-1:!1;case"regex":if(!A(u.pattern))return!1;try{return new csRegExp(u.pattern).test(m)}catch(y){return B.warn(`targeting.matchOperation.regex invalid ${y==null?void 0:y.message}`),!1}case"simple":return A(u.pattern)?f(m)===f(u.pattern):!1;case"greater_than":return Number(m)>Number(u.pattern);case"less_than":return Number(m)<Number(u.pattern);case"exact_date":{let y=Number(u.pattern);if(!mt(y))return!1;let S=new csDate(y*1e3);return new csDate(m).toDateString()===S.toDateString()}case"exact_days_ago":return o(u,m);case"more_than_days_ago":return c(u,m);case"less_than_days_ago":return l(u,m);case"unknown":return h(m);default:return B.warn(`targeting.matchOperation.regex not managed operation ${u.match_operation}`),!1}}function o(u,m){let y=new csDate,S=y.setDate(y.getDate()-Number(u.pattern)),O=new csDate(S);return new csDate(m).toDateString()===O.toDateString()}function c(u,m){let y=Number(u.pattern);if(!mt(y))return!1;let S=Number(y)+1,O=new csDate,D=new csDate(O);return D.setDate(O.getDate()-S),new csDate(m).getTime()<=D.getTime()}function l(u,m){let y=Number(u.pattern);if(!mt(y))return!1;if(y===0)return o(u,m);let S=new csDate,O=new csDate(S);return O.setDate(S.getDate()-y),new csDate(m).getTime()>=O.getTime()}function h(u){return dt(u)?A(u)?csString.prototype.trim.call(u)==="":Ui(u)?u===!0:mt(u)?u!==0:!1:!0}function f(u){let m=It(u,"http://")||It(u,"https://")?u:`https://${u}`,y=Pl(m);return y!==null?csString.prototype.replace.call(y.host,/^www./,""):u}}(s||(s={})),s})(),Fr={isLegacyURL:s=>s.component==="url",isLegacyTrigger:s=>s.component==="trigger",isURL:s=>s.type===ub.URL},db=(()=>{class s{constructor(){this.Vy=new jo,this.jy=[],this.Hy=[]}setTargetingRules(t){this.Vy.setRegexRules(csArray.prototype.filter.call(t,Fr.isURL));for(let e of t)Fr.isLegacyURL(e)?csArray.prototype.push.call(this.jy,e):Fr.isLegacyTrigger(e)&&csArray.prototype.push.call(this.Hy,e)}matchUrl(t){return ol.isUrlMatching(this.jy,t)||this.Vy.evaluateUrl(t)}matchTrigger(t){return ol.isMatching(this.Hy,t)}}return s})(),fb=(()=>{class s extends Tt{constructor(t,e,i){super(),this.Nc=t,this.ld=e,this.R=i}init(){this.ud=new db,this.Nc&&this.ud.setTargetingRules(this.Nc)}onStart(){}checkInitialUrlTargetingRules(){let t=this.R.getAnonymizedUrl();this.dd(t,"url")&&this.ld()}onStop(){}onTargetingRulesArtificialPageview(t){this.isStarted&&this.dd(t,"url")&&this.ld()}onExternalEvent(t){this.isStarted&&this.dd(t.name,"trigger")&&this.ld()}dd(t,e){var i,r;return e==="url"&&A(t)&&(!((i=this.ud)===null||i===void 0)&&i.matchUrl(t))?!0:!!(e==="trigger"&&(!((r=this.ud)===null||r===void 0)&&r.matchTrigger(t)))}}return s})(),pb=(()=>{class s{constructor(t,e,i,r,o,c){this.Nc=t,this.nI=e,this.w=i,this.Tt=r,this.J=o,this.R=c}init(){this.$o=new fb(this.Nc,this.nI,this.R),this.J.addListener(this.$o),this.$o.init()}start(){this.$o.start()}stop(){this.$o.stop()}checkInitialUrlTargetingRules(){this.$o.checkInitialUrlTargetingRules()}emitTargetingCollectState(){let t=this.Tt.getInitialCollectState();t===U.ANALYTICS_ONLY?this.w.emitCollectStateChange(U.ANALYTICS_ONLY_RULES_TARGETING,te.ETR_OFF):t===U.RECORDING_GLOBAL_SAMPLING&&this.w.emitCollectStateChange(U.RECORDING_RULES_TARGETING,te.ETR_OFF)}}return s})(),zh=(()=>{class s{constructor(){this.By=new Set,this.Fy=[],this.pd=new Set,this.gd=[]}addUrlMaskingPattern(t){if(this.By.has(t))return;this.By.add(t);let e=Qa(t);csArray.prototype.push.call(this.Fy,e)}getUrlMaskingPatterns(){return this.Fy}resetPartialUrlMaskingPatterns(){this.pd.clear(),this.gd=[]}addPartialUrlMaskingPattern(t){if(this.pd.has(t))return;this.pd.add(t);let e=Qa(t);csArray.prototype.push.call(this.gd,e)}getPartialUrlMaskingPatterns(){return this.gd}}return s})(),gb=(()=>{class s{constructor(t,e,i){this.E=t,this.N=e,this.C=i,this.fs=C.now()}resetStartTime(){this.fs=C.now()}getSessionData(){let{projectId:t}=this.E,e=this.N.getVisitor();e==null&&B.warn("Visitor is null. This happens when a snippet tries to get Session Data before the tag was initialized.");let{id:i,visitsCount:r}=e!=null?e:{},o=this.C.getSession();o===null&&B.warn("Session is null. This happens when a snippet tries to get Session Data before the tag was initialized.");let{pageNumber:c}=o!=null?o:{};return{projectId:t,userId:i,sessionNumber:r,pageNumber:c,relativeTimestamp:C.now()-this.fs}}}return s})(),mb=["clearSession"],yb=["extendSession"];var Eb=["getSessionData"],Sb=["session:start:newVisitor"],vb=["session:clear:visitor"],wb=(()=>{class s{constructor(t,e,i,r){this.E=t,this.N=e,this.C=i,this.S=r}init(){this.md=new gb(this.E,this.N,this.C),this.S.register(mb,()=>this.C.removeSession()),this.S.register(yb,()=>this.C.extendSessionPeriodically(),{disableApplyPending:!0}),this.S.register(Eb,()=>this.md.getSessionData(),{disableApplyPending:!0}),this.S.register(Sb,()=>this.N.renewVisitor()),this.S.register(vb,()=>{this.N.resetVisitor()},{disableApplyImmediate:!0})}onBeforeNaturalPageView(){this.N.createOrUpdateVisitor(),this.C.createOrUpdateSession()}onBeforeArtificialPageView(){this.N.createOrUpdateVisitor(),this.C.createOrUpdateSession()}onAfterNaturalPageView(){this.md.resetStartTime()}onAfterArtificialPageView(){this.md.resetStartTime()}onOptout(){this.N.removeVisitor(),this.C.removeSession()}onCollectStateChange(t){this.C.updateCollectState(t)}}return s})(),_b=(()=>{class s{constructor(t,e,i,r,o,c,l,h,f,u,m,y,S,O,D,v,_,I,M,T,H,it,lt,zt,Gt,Kt,w,L,V,$,gt,Mt,Se,ze){this.St=t,this.rn=e,this.fe=i,this.N=r,this.C=o,this.j=c,this.Cs=l,this.w=h,this.S=f,this.cl=u,this.E=m,this.ll=y,this.rs=S,this.vr=O,this.Rt=D,this.M=v,this.Z=_,this.Q=I,this.R=M,this.rI=T,this.J=H,this.pt=it,this._t=lt,this.$y=zt,this.se=Gt,this.oI=Kt,this.I=w,this.Ht=L,this.D=V,this.Ot=$,this.Tt=gt,this.lt=Mt,this.de=Se,this.ze=ze,this.aI=(qt=!1)=>{let ie=this.C.getSession();ie===null?(this.ar=new pb(this.E.recordTargetingRules,this.zy,this.w,this.Tt,this.J,this.R),this.ar.init(),this.ar.start()):(ie.collectState===U.RECORDING_RULES_TARGETING||ie.collectState===U.ANALYTICS_ONLY_RULES_TARGETING)&&this.zy(qt)},this.zy=(qt=!1)=>{let ie=()=>{var ce,Oe;(ce=this.ar)===null||ce===void 0||ce.emitTargetingCollectState(),(Oe=this.ar)===null||Oe===void 0||Oe.stop()};this.vi.allowStartDataCollection({fromSessionRenewal:qt}),this.E.startMode===Hn.Automatic&&this.vi.startDataCollection({fromSessionRenewal:qt,onAfterDataCollectionStartedCallback:ie})},this.cI=qt=>{this.w.emitBeforeSessionRenewal(),this.cr(!0,qt),this.w.emitAfterSessionRenewal()},this.lI=qt=>{this.w.emitBeforeSessionRenewal(),this.Tt.refreshQuota(ie=>{ie!==U.QUOTA_REACHED&&(this.cr(!0,qt),this.w.emitAfterSessionRenewal())})}}start(){if(this.ll.init(),this.rs.init(),this.rs.isActive())return;let t,e,i,r,o,c,l,h,f,u,m,y,S,O,D,v,_,I,M;this.I.schedule(()=>{this.E.isCsCrosswritingHeap()&&(this.Be=new g_),D=new hb(this.j),y=new d_(this.Z),S=new Jw(()=>{}),v=new Qw,M=new h_;let T=new cb(S,this.lt,v,I,M,this.yd());O=new lb(this.yd(),this.lt,T,v,this.E.whitelistedAttributes,_);let H=new Lm(this.w,this.S,this.lt,T,v,_,I);H.init(),this.w.addListener(H),t=new xv(this.E,this.rn,this.N,this.Z,y,this.S,this.j,new u_(B),this.pt,this.Ht,this.J,O,this.Be),e=new Gm(this.S,this.C,this.E,this.St,this.fe,this.M),m=new ab(O,this.E);let it=null,lt=new Rm;i=new Qv(this.N,this.C,this.S,this.pt,it,this.E,lt,m),r=new Zm(this.E,this.rn,this.N,this.S,this.M,this.j,this.R),this.E.isCsCrosswritingHeap()&&(this.de||(this.de=new jh),this.Gy=new ob(this.de,this.S),this.w.addListener(this.Gy),this.Gy.init());let zt;this.E.isCsCrosswritingHeap()&&(this.qy=new E_(this.S,this.ze),this.w.addListener(this.qy),this.qy.init(),this.Wy=new w_(this.S,this.E,this.N,this.j),this.w.addListener(this.Wy),this.Wy.init()),this.tn=new Mm(this.E,this.S,this.w,this.rn,this.N,this.C,this.Cs,this.Rt,this._t,this.R,this.se,lt,this.J,this.de,zt),this.Yy=new wb(this.E,this.N,this.C,this.S),this.vi=new I_(this.E,this.w,this.rs,this.lt,this.tn,this.j),this.E.hasTargetingRules()&&this.vi.disableStartDataCollection(),new C_(this.vi,this.S).init(),l=new cy(this.E,this.S,this.fe,this.rn,this.J),h=new sb(this.S),f=new p_}),(this.E.apiErrors.enabled||this.E.isNetworkDetailsEnabled())&&this.I.schedule(()=>{this.ft=new zh,this.hI=new dw(this.S,this.ft),this.hI.init()}),this.E.apiErrors.enabled&&this.I.schedule(()=>{var T,H;let it=new L_(this.E.apiErrors,this.M);this.mt=new O_(new T_,new __,it),this.Se=new N_(this.ft,this.Q,!!(!((H=(T=this.E)===null||T===void 0?void 0:T.experimental)===null||H===void 0)&&H.anonymizeNameInUrls)),this.xn=new M_;let lt=new lw(this.mt,this.Se,this.E,this.rn,this.pt,this.S,this.Ht);lt.init(),this.w.addListener(lt)}),this.E.customErrors.enabled&&this.I.schedule(()=>{var T,H,it;let lt;this._i=new q_(this.M,!((it=(H=this.E)===null||H===void 0?void 0:H.experimental)===null||it===void 0)&&it.anonymizeNameInUrls?this.Q:void 0);let zt=new B_(this._i,this.E,this.rn,this.S,this.J,this.Ht,this.pt,lt);zt.init(),this.w.addListener(zt)}),this.E.jsErrorsEnabled&&this.I.schedule(()=>{this.zs=new Z_,this.Ee=new eb(this.M,this.R);let T=new Q_(this.zs,this.Ee,this.E,this.rn,this.pt,this.S,this.J,this.R,this.Ht);T.init(),this.w.addListener(T)}),this.I.schedule(()=>{this.vr.init()}),this.I.schedule(()=>{i.init()}),this.I.schedule(()=>{e.init()}),this.I.schedule(()=>{r.init()}),this.I.schedule(()=>{this.$y.init()}),this.I.schedule(()=>{this.tn.init()}),this.I.schedule(()=>{this.Yy.init()}),this.I.schedule(()=>{l.init()}),this.I.schedule(()=>{this.rI.init()}),this.I.schedule(()=>{h.init()}),this.I.schedule(()=>{f.init()}),this.I.schedule(()=>{this.oI.init()}),this.I.schedule(()=>{this.w.addListener(this.Yy),this.w.addListener(this.cl),this.w.addListener(t),this.w.addListener(this.vr),this.w.addListener(i),this.w.addListener(r),this.w.addListener(this.$y),this.w.addListener(this.tn),this.w.addListener(l),this.w.addListener(e),this.w.addListener(f),this.w.addListener(D)}),Gi.isRecordingSupported()&&this.I.schedule(()=>{let T=new sv(m,this.C,this.E,this.St,this.S,this.M,this.j,S,this.Ee,this.mt,this.Se,this.ft,this.w,this.J,this.pt,this.se,this.Ht,this.Q,this.xn,this.yd(),this._i,_);T.init(),this.w.addListener(T),i.setRecordingService(T.recordingService)}),this.I.schedule(()=>{var T;let H,it}),this.I.schedule(()=>{t.init()}),this.I.schedule(()=>{this.E.isQuotaEnabled()?this.j.onSessionExpired(T=>{this.lI(T)}):this.j.onSessionExpired(T=>{this.cI(T)}),this.cr()})}cr(t=!1,e=!1){var i,r,o;if(this.E.hasTargetingRules()){this.aI(t),this.S.start(),(i=this.Be)===null||i===void 0||i.start(),this.ar&&this.ar.checkInitialUrlTargetingRules();return}this.S.start(),(r=this.Be)===null||r===void 0||r.start(),this.vi.tryStartAutomaticDataCollection({fromSessionRenewal:t,isRenewedVisitor:e})}yd(){if(this.it)return this.it;let t=new jo;return this.it=new Kw(this.E,this.R,t,this.Rt),this.it.init(),this.it.shouldUseAnonymization()&&F.counters.pageAnonymisation.count("anonymized-on-start"),this.it}}return s})();var Gh=(()=>{class s{constructor(t){this.configuration=t}}return s})(),bb=(()=>{class s extends Gh{constructor(t,e,i,r,o){super(t),this.configuration=t,this.w=e,this.Ed=i,this.R=r,this.Sd=o,this.vd=!1}refreshQuota(){}canCollect(t){return!0}init(){this.configuration.malkaUrlEnabled&&this.configuration.hasRecordingUrlRules()&&(this.vd=!0,this.Sd.setRegexRules(this.configuration.recordingUrlRules))}sanitizeSessionCollectState(t){return(t.collectState===U.QUOTA_REACHED||t.collectState===U.RECORDING_RULES_TARGETING||t.collectState===U.RECORDING_TEMPORARILY)&&(t.collectState=U.ANALYTICS_ONLY),t}computeInitialCollectState(){return us.isReplayConsentNeeded(this.configuration)?U.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED:this.Mc()}computeInitialCollectStateFromRecordingConsentGranted(){return this.Mc()}Mc(){if(!Gi.isRecordingSupported())return U.ANALYTICS_ONLY;let t=U.ANALYTICS_ONLY,e=te.ETR_OFF;return Ms.percentage()<this.configuration.replayRecordingRate||this.Ed.isForceReplayRecorded()?t=U.RECORDING_GLOBAL_SAMPLING:this.vd&&this.Sd.evaluateUrl(this.R.getAnonymizedUrl())&&(t=U.RECORDING_URL_SAMPLING),this.configuration.malkaEtrEnabled&&(e=te.ETR_ON),this.w.emitCollectStateChange(t,e),t}getEligibleCollectState(t){if(!Gi.isRecordingSupported())return U.ANALYTICS_ONLY;if(us.isRecordingBlockedByConsent(t))return t.collectState===U.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?U.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN:U.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED;if(t.collectState===U.RECORDING_GLOBAL_SAMPLING)return U.RECORDING_GLOBAL_SAMPLING;let e=this.configuration.malkaEtrEnabled?te.ETR_ON:te.ETR_OFF;return this.vd&&this.Sd.evaluateUrl(this.R.getAnonymizedUrl())?(this.w.emitCollectStateChange(U.RECORDING_URL_SAMPLING,e),U.RECORDING_URL_SAMPLING):(this.w.emitCollectStateChange(U.ANALYTICS_ONLY,e),U.ANALYTICS_ONLY)}isReplayRecorded(t){return us.isRecordingBlockedByConsent(t)?!1:t.collectState===U.RECORDING_TEMPORARILY||t.collectState===U.RECORDING_GLOBAL_SAMPLING||t.collectState===U.RECORDING_URL_SAMPLING||this.configuration.malkaEtrEnabled}getInitialCollectState(){return U.ANALYTICS_ONLY}getRecordingConsentWithdrawn(){return U.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}}return s})(),he="_cs_s",qn=18e5,$r=".",Tb=13,Cn=(()=>{let s;return function(n){n[n.NOT_FOUND=0]="NOT_FOUND",n[n.EXPIRED=1]="EXPIRED",n[n.FOUND=2]="FOUND"}(s||(s={})),s})(),Ab=(()=>{class s{constructor(t,e,i){this.E=t,this.D=e,this.K=i,this.ne=null,this.wd=!1}get(t){let e=this.getRawSession(t);return this.isValid(e)?jl(e):null}getRawSession(t){if(t){let f=this._d();return eo(f)}let{sessionString:e,status:i}=this.uI(),r=eo(e);if(i!==Cn.EXPIRED)return r;if(this.E.cookielessTrackingEnabled)return null;let o=this._d();if(!o)return null;let c=csString.prototype.split.call(o,$r);if(!s.Xy(c))return o;let l=c[c.length-1],h=parseInt(l,10);return isNaN(h)||this.dI(h),r}onCookieToSet(t){this.Pi=t}onCookieToRemove(t){this.Oi=t}set(t,e=qn){var i;let r=C.now()+e,o=lg(t);o+=`${$r}${r}`,this.fI(o,r),this.E.cookielessTrackingEnabled?this.K.setItem(he,o):(this.D.set(he,o,e),(i=this.Pi)===null||i===void 0||i.call(this,he,o,e))}remove(){var t;this.E.cookielessTrackingEnabled?this.K.removeItem(he):(this.D.delete(he),(t=this.Oi)===null||t===void 0||t.call(this,he)),this.pI()}handleSubdomainChange(){if(this.E.cookielessTrackingEnabled)return;let t=this.get(!0);t&&(this.E.allowSubdomains?this.D.delete(he,Xn.CURRENT_DOMAIN):this.D.delete(he,this.D.getRootDomain()),this.set(t))}isValid(t){return t!==null&&Fo(t)}fI(t,e){this.ne={sessionString:t,expires:e}}uI(){return this.ne?this.ne&&C.now()<=this.ne.expires?{sessionString:this.ne.sessionString,status:Cn.FOUND}:{sessionString:this.ne.sessionString,status:Cn.EXPIRED}:{sessionString:this._d(),status:Cn.NOT_FOUND}}pI(){this.ne=null}dI(t){this.ne&&(this.ne.expires=t,this.wd=!0)}isCacheRefreshed(){return this.wd}resetCacheRefreshed(){this.wd=!1}_d(){if(this.E.cookielessTrackingEnabled){let e=this.K.getItem(he);return!e||this.Ky(e)?null:e}let t=this.D.get(he);return!t||this.Ky(t)?null:t}Ky(t){let e=csString.prototype.split.call(t,$r);if(!s.Xy(e))return!1;let i=parseInt(e[e.length-1],10);return!isNaN(i)&&C.now()>i}static Xy(t){return t[t.length-1].length===Tb}}return s})(),Rb=(()=>{class s extends Gh{constructor(t,e,i){super(t),this.configuration=t,this.zo=e,this.w=i,this.gI=U.RECORDING_GLOBAL_SAMPLING}refreshQuota(t){this.Jy=t,this.Go=void 0,this.mI()}init(t){this.yI();let e=bt.get(he);e!==null&&Fo(e)?t(this.canCollect(hg(e))):this.refreshQuota(i=>{t(i!==U.QUOTA_REACHED)})}sanitizeSessionCollectState(t){return t}canCollect(t){return t!==null&&t.collectState!==U.QUOTA_REACHED}computeInitialCollectState(t){return this.Go?(this.w.emitCollectStateChange(this.Go,this.configuration.malkaEtrEnabled?te.ETR_ON:te.ETR_OFF),this.Go):(B.warn("Quota file error computeInitialCollectState() called before quota answered"),U.QUOTA_REACHED)}getEligibleCollectState(t){return t.collectState===U.QUOTA_REACHED?U.QUOTA_REACHED:!Gi.isRecordingSupported()&&this.isReplayRecorded(t)?U.ANALYTICS_ONLY:t.collectState===U.RECORDING_RULES_TARGETING?U.RECORDING_RULES_TARGETING:t.collectState===U.ANALYTICS_ONLY_RULES_TARGETING?U.ANALYTICS_ONLY_RULES_TARGETING:t.collectState===U.RECORDING_GLOBAL_SAMPLING?U.RECORDING_GLOBAL_SAMPLING:U.ANALYTICS_ONLY}isReplayRecorded(t){return t.collectState===U.RECORDING_GLOBAL_SAMPLING||t.collectState===U.RECORDING_RULES_TARGETING}getInitialCollectState(){return this.Go||U.QUOTA_REACHED}computeInitialCollectStateFromRecordingConsentGranted(t){return U.ANALYTICS_ONLY}qo(t){this.Go=t,this.Jy&&this.Jy(t)}yI(){this.zo.onError(t=>this.quotaServiceErrorHandler(`HTTP:${t.status} - fetching quota file for pid: ${this.configuration.projectId}`)),this.zo.onTimeout(()=>this.quotaServiceErrorHandler("timeout")),this.zo.onLoad(t=>this.quotaFileHandler(t))}mI(){this.zo.isInProgress()||this.zo.send()}quotaFileHandler(t){var e;if(!(!((e=t==null?void 0:t.quotas)===null||e===void 0)&&e.length)){this.quotaServiceErrorHandler("Quota types missing from config file");return}this.EI(t)}quotaServiceErrorHandler(t){let e=`Quota error - ${t}`;B.warn(e),this.qo(this.gI)}EI(t){let e=!1,i=!1;for(let r of t.quotas)r.quotaType==="ANALYTICS"&&r.value?e=!0:r.quotaType==="RECORDING"&&r.value&&Ms.boolean(Math.round(r.value*100))&&(i=!0);!e&&i?this.quotaServiceErrorHandler(`Quota types impossible: replay without analytics - ${csJSON.stringify(t)}`):e&&i?Gi.isRecordingSupported()?this.qo(U.RECORDING_GLOBAL_SAMPLING):this.qo(U.ANALYTICS_ONLY):e&&!i?this.qo(U.ANALYTICS_ONLY):this.qo(U.QUOTA_REACHED)}getRecordingConsentWithdrawn(){return U.ANALYTICS_ONLY}}return j([N("Quota File: quotaFileHandler")],s.prototype,"quotaFileHandler",null),j([N("Quota File: onerror")],s.prototype,"quotaServiceErrorHandler",null),s})();var Cb=(()=>{class s{constructor(t,e,i,r,o){this.N=t,this.C=e,this.Es=i,this._t=r,this.E=o}get(){return{exclusion:this.Es.getAppliedTrackingDraw(),visitor:this.N.getVisitor(),session:this.C.getSession(),cvars:this._t.getCustomVariablesSession()}}apply(t){t&&(t.exclusion?this.exclude():this.include(t))}exclude(){this.Es.exclude(this.E),this.N.removeVisitor(),this.C.removeSession(),this._t.removeCustomVariablesSession()}include(t){this.Es.removeExclusion(),this.N.setVisitor(t.visitor),t.session?this.C.setSession(t.session):this.C.removeSession(),t.cvars?this._t.setCustomVariableSession(t.cvars):this._t.removeCustomVariablesSession()}}return s})();var ua=60*1e3,Ib=60*ua,Pb=4*Ib-ua,Ks=(()=>{let s;return function(n){n[n.NO=0]="NO",n[n.WITHDRAWN=1]="WITHDRAWN",n[n.GRANTED=2]="GRANTED"}(s||(s={})),s})(),Ob=(()=>{class s{constructor(t,e,i,r,o){this.Te=t,this.Tt=e,this.w=i,this.TI=r,this.AI=o,this.Wo=null,this.Td=0,this.Yo=Ks.NO}setDynamicVariablesService(t){this.RI=t}createOrUpdateSession(){this.Ad(),this.CI=C.now(),this.Td=0;let t=this.tE();t===null?(t=this.II(),this.Mc(t),this.w.emitSessionCreated()):(t=this.Tt.sanitizeSessionCollectState(t),this.PI(t),t.collectState=this.Tt.getEligibleCollectState(t)),this.setSession(t)}grantReplayRecording(t){t.collectState=this.Tt.getInitialCollectState(),t.collectState=this.Tt.computeInitialCollectStateFromRecordingConsentGranted(t),this.setSession(t)}grantReplayRecordingBeforeSessionStart(){this.Yo=Ks.GRANTED}withdrawnReplayRecording(t){t.collectState=this.Tt.getRecordingConsentWithdrawn(),this.setSession(t)}withdrawnReplayRecordingBeforeSessionStart(){this.Yo=Ks.WITHDRAWN}Mc(t){this.Yo===Ks.WITHDRAWN?(t.collectState=this.Tt.getRecordingConsentWithdrawn(),this.setSession(t)):this.Yo===Ks.GRANTED?t.collectState=this.Tt.computeInitialCollectStateFromRecordingConsentGranted(t):t.collectState=this.Tt.computeInitialCollectState(t),this.Yo=Ks.NO}II(){return{pageNumber:1,collectState:this.Tt.getInitialCollectState(),replayConsent:this.TI?to.NOT_EXPRESSED:to.UNNECESSARY,etrStatus:re.ETR_NOT_SAVED_SESSION}}PI(t){t.pageNumber+=1}isReplayRecorded(){let t=this.getSession();return!!t&&this.Tt.isReplayRecorded(t)}isTemporarilyRecorded(){let t=this.getSession();return(t==null?void 0:t.collectState)===U.RECORDING_TEMPORARILY}getRequestParameters(){let t={},e=this.getSession();return e!==null&&(t.pn=`${e.pageNumber}`),t}getSession(){return this.Te.get()}tE(){return this.Te.get(!0)}doesSessionExist(){return this.Te.get()!==null}setSession(t){this.Te.set(t),this.w.emitSessionRefreshed()}refreshSession(){let t=this.tE();t&&this.setSession(t)}removeSession(){this.Te.remove(),this.w.emitSessionRemoved()}getCollectStates(){let t=this.getSession(),e=[];return t&&(t.collectState!==U.ANALYTICS_ONLY&&csArray.prototype.push.call(e,t.collectState===U.RECORDING_RULES_TARGETING?U.RECORDING_GLOBAL_SAMPLING:t.collectState),this.AI&&csArray.prototype.push.call(e,U.RECORDING_ETR_SAMPLING)),e}updateCollectState(t){let e=this.getSession();e!==null&&(e.collectState=t,this.setSession(e))}hasValidSession(){let t=this.Te.getRawSession();return this.Te.isValid(t)}handleSubdomainChange(){this.Te.handleSubdomainChange()}pollCacheRefreshEvent(t=!0){let e=this.Te.isCacheRefreshed();return e&&t&&this.Te.resetCacheRefreshed(),e}extendSessionPeriodically(){this.Wo||this.eE()}extendSession(){let t=this.getSession();return t===null?(B.warn("extendSession is trying to extend an expired session"),this.Ad(),!1):(this.setSession(t),!0)}eE(){if(this.OI()){this.Ad();return}this.extendSession()&&(this.NI(),this.MI())}MI(){this.Wo=window.csSetTimeout(()=>{this.eE()},qn-ua)}OI(){return Pb-(C.now()+qn-this.CI)<0}Ad(){this.Wo&&(window.csClearTimeout(this.Wo),this.Wo=null)}NI(){this.Td+=1,this.RI.trackDynamicVariable("session_expiry_update",this.Td)}}return s})(),ii="_cs_s_ctx",Nb=(()=>{class s{constructor(t){this.K=t}set(t){let e=csJSON.stringify(t);this.K.setItem(ii,e)}remove(){this.K.removeItem(ii)}get(){let t=this.K.getItem(ii);return t===null?null:csJSON.parse(t)}}return s})(),Mb=800,Db=(()=>{class s{constructor(t){this.D=t}set(t,e=qn){let i=csJSON.stringify(t);this.D.set(ii,i,e)}remove(){this.D.delete(ii)}get(){let t=this.D.get(ii);return t===null?null:csJSON.parse(t)}}return s})(),kb=(()=>{class s{constructor(t){this.Bs=t}onSessionCreated(){this.Bs.createSessionContext()}onSessionRemoved(){this.Bs.removeSessionContext()}onSessionRefreshed(){this.Bs.refreshSessionContext()}onBeforeNaturalPageView(t){this.Bs.updateSharedContextPaths(null,t)}onBeforeArtificialPageView(t,e){this.Bs.updateSharedContextPaths(t,e)}onOptout(){this.Bs.removeSessionContext()}}return s})(),zr=(()=>{let s;return function(n){function t(r,o){if(!o)return"";try{let c=new csURL(o);return csArray.prototype.forEach.call(r,l=>c.searchParams.delete(l)),c.toString()}catch{return o}}n.removeQueryParams=t;function e(r,o){if(!o)return"";try{let c=new csURL(o),l=csArray.from(c.searchParams.keys());return csArray.prototype.forEach.call(l,h=>{csArray.prototype.includes.call(r,h)||c.searchParams.delete(h)}),c.toString()}catch{return o}}n.keepOnlyQueryParams=e;function i(r){if(!r)return"";try{let o=new csURL(r);return o.search="",o.toString()}catch{return r}}n.removeAllQueryParams=i}(s||(s={})),s})(),xb=(()=>{class s{constructor(t,e,i,r,o,c,l,h){this.Js=t,this.an=e,this.Cs=i,this.R=r,this._t=o,this.ze=c,this.de=l,this.cn=h}createSessionContext(){var t;let e=(t=this.Rd)!==null&&t!==void 0?t:this.Cs.get(),i=this.Dc(e),r=this.R.getAnonymizedUrl(),o=this.Dc(r),c={firstViewTime:C.now(),firstViewUrl:o,sessionReferrer:i,currentViewUrl:o};this.an.set(c)}removeSessionContext(){this.an.remove()}refreshSessionContext(){let t=this.an.get();t!==null&&this.an.set(t)}getSharedContext(){var t,e,i,r,o;let c=this.an.get();if(c===null)return null;let l={pageTitle:this.de.getPageTitle(),happid:this.Js,firstViewTime:(t=c.firstViewTime)!==null&&t!==void 0?t:0,firstViewUrl:(e=c.firstViewUrl)!==null&&e!==void 0?e:"",sessionReferrer:(i=c.sessionReferrer)!==null&&i!==void 0?i:this.Cs.get(),previousViewUrl:(r=this.Rd)!==null&&r!==void 0?r:"",currentViewTime:C.now(),currentViewUrl:(o=c.currentViewUrl)!==null&&o!==void 0?o:"",screenWidth:_t.screenWidth(),screenHeight:_t.screenHeight()};this._t.hasCustomVariablesPage()&&(l.cvarp=this._t.getCustomVariablesPage());let h=this.ze.getEncryptedIdentityAndKey();return h&&(l.encryptedIdentity=h),l}updateSharedContextPaths(t,e){let i=this.an.get(),r=i!=null?i:{},o=t!=null?t:r.currentViewUrl;this.Rd=this.Dc(o),r.currentViewUrl=this.Dc(e),this.an.set(r)}getPreviousViewUrl(){return this.Rd}truncateString(t){return t&&W.truncate(t,Mb)}DI(t){var e,i,r;if(t)return!((e=this.cn)===null||e===void 0)&&e.blockAll?zr.removeAllQueryParams(t):csArray.isArray((i=this.cn)===null||i===void 0?void 0:i.blockList)&&this.cn.blockList.length>0?zr.removeQueryParams(this.cn.blockList,t):csArray.isArray((r=this.cn)===null||r===void 0?void 0:r.allowList)&&this.cn.allowList.length>0?zr.keepOnlyQueryParams(this.cn.allowList,t):t}Dc(t){if(!t)return;let e=this.DI(t);return this.truncateString(e)}}return s})();var Lb=(()=>{class s{constructor(t,e,i){this.N=t,this.C=e,this.xI=i}handle(){this.N.hasAllowSubdomainsChanged()&&(this.N.handleSubdomainChange(),this.C.handleSubdomainChange(),this.xI.handleSubdomainChange())}}return s})(),Gr="_cs_inc",Ub=(()=>{class s{constructor(t,e){this.kt=t,this.D=e}isForceIncluded(){return this.LI()||this.UI()}isForceReplayRecorded(){return this.VI(U.RECORDING_GLOBAL_SAMPLING)}LI(){return this.D.get(Gr)!==null}VI(t){return this.D.get(Gr)===t}UI(){return csString.prototype.indexOf.call(this.kt.href,Gr)>0}}return s})(),Vb=(()=>{class s{constructor(t,e,i){this.E=t,this.N=e,this.Es=i}clear(){this.jI()&&(this.sE=this.N.getVisitor(),this.N.removeVisitor()),this.HI()&&this.Es.removeExclusion()}jI(){return this.N.doesVisitorExist()&&this.N.getVisitor().appliedTrackingDraw!==this.E.lastTrackingDraw}HI(){return this.Es.getAppliedTrackingDraw()!==this.E.lastTrackingDraw}restoreClearedVisitor(){this.sE&&this.N.setVisitor(this.sE)}}return s})(),jb=(()=>{class s{constructor(t,e,i,r,o,c,l,h){this.E=t,this.N=e,this.Es=i,this.iE=r,this.BI=o,this.FI=c,this.$I=l,this.Ed=h}compute(t){var e,i;this.E.crossDomainTracking&&!this.E.cookielessTrackingEnabled?this.E.crossDomainSingleIframeTracking?(e=this.$I)===null||e===void 0||e.start(()=>this.Id(t)):(i=this.FI)===null||i===void 0||i.applyUpToDate(()=>this.Id(t)):this.Id(t)}Id(t){this.BI.handle(),this.iE.clear(),this.zI()?(this.iE.restoreClearedVisitor(),t(!0)):(this.Es.exclude(this.E),t(!1))}zI(){let t=Ms.boolean(this.E.sampleRate);return this.Ed.isForceIncluded()||!this.Es.isExcluded()&&this.N.doesVisitorExist()||!this.Es.isExcluded()&&t}}return s})(),Hb=(()=>{class s{constructor(t,e,i,r){this.E=t,this.gt=e,this.w=i,this.C=r,this.GI=10*1e3}createOrUpdateVisitor(){var t;let e=this.getVisitor();e===null&&(e=this.qI(),(t=this.C)===null||t===void 0||t.removeSession()),this.WI(e),this.setVisitor(e)}qI(){return{id:Zw.generate(),visitsCount:0,appliedTrackingDraw:this.E.lastTrackingDraw,creationTimestamp:xa(),lastVisitTimestamp:0,hitTimestamp:0,expires:C.now()+this.E.visitorCookieTimeout,allowSubdomains:this.E.allowSubdomains,identityPrint:null}}WI(t){let e=xa();this.C&&!this.C.doesSessionExist()&&(t.visitsCount+=1,t.lastVisitTimestamp=e),t.hitTimestamp=e,t.appliedTrackingDraw=this.E.lastTrackingDraw,this.nE=t.visitsCount}getRequestParameters(){let t=this.getVisitor();return t?{uu:t.id,sn:`${t.visitsCount}`,hd:`${t.hitTimestamp}`}:{}}getVisitor(){return this.gt.get()}setVisitor(t){this.gt.set(t)}doesVisitorExist(){return this.gt.get()!==null}resetVisitor(){this.rE(),this.w.emitAfterVisitorCleared()}removeVisitor(){this.gt.remove()}hasAllowSubdomainsChanged(){let t=this.getVisitor();return t?t.allowSubdomains!==this.E.allowSubdomains:!1}handleSubdomainChange(){this.gt.handleSubdomainChange()}isSessionRenewed(){let t=this.getVisitor();return t===null||this.nE===void 0?!1:t.visitsCount!==this.nE}YI(){return!J(this.oE)||C.now()-this.oE>this.GI}renewVisitor(){this.YI()?(this.oE=C.now(),this.rE(),this.w.emitAfterVisitorRenewal()):B.warn("session:start:newVisitor is trying to renew visitor under time limit")}rE(){this.w.emitBeforeVisitorRenewal(),this.removeVisitor()}}return s})(),_e="_cs_id",Bb=(()=>{class s{constructor(t,e,i){this.E=t,this.D=e,this.K=i}onCookieToSet(t){this.Pi=t}onCookieToRemove(t){this.Oi=t}get(){let t;return this.E.cookielessTrackingEnabled?t=this.K.getItem(_e):t=this.D.get(_e),t?(ng(t)||B.warn(`Invalid visitor string: ${t}`),sg(t)):null}set(t){var e;let i=ig(t);if(this.E.cookielessTrackingEnabled)this.K.setItem(_e,i);else{let r=new csDate(t.expires);this.D.set(_e,i,r),(e=this.Pi)===null||e===void 0||e.call(this,_e,i,r)}}remove(){var t;this.E.cookielessTrackingEnabled?this.K.removeItem(_e):(this.D.delete(_e),(t=this.Oi)===null||t===void 0||t.call(this,_e))}handleSubdomainChange(){if(this.E.cookielessTrackingEnabled)return;let t=this.get();t&&(t.allowSubdomains=this.E.allowSubdomains,this.E.allowSubdomains?this.D.delete(_e,Xn.CURRENT_DOMAIN):this.D.delete(_e,this.D.getRootDomain()),this.set(t))}}return s})(),Fb=(()=>{class s{constructor(t,e,i,r,o,c){this.E=t,this.Ii=e,this.bs=i,this.I=r,this.w=o,this.K=c}initWithQuota(){if(!this.E.collectionEnabled){this.aE();return}let t=new To(this.E.getSettingsFileUri(),"",{type:"json",cacheMinutes:15});this.Tt=new Rb(this.E,t,this.w),this.Tt.init(e=>{e?this.init():this.aE()})}XI(){this.I.schedule(()=>{this.M=new ks,this.Q=new Tp(this.M),this.R=new s_(window.location,this.Q),this.D=new Xn(this.E,this.R,this.Ii),this.D.init(),this.Ot=new Uw,this.S=new $p([Fp.UXA]),this.J=new zp,this.lt=new o_,this.Rt=new Yw(this.E,new Ww(this.E,this.D,this.Ot),this.w)})}aE(){}init(){ds.isSupported()&&ds.setDigestSalt(this.E.projectId.toString());let t,e,i,r,o,c,l,h,f,u,m,y,S,O,D,v,_,I,M,T,H,it,lt,zt,Gt,Kt,w;this.XI();let L=new Aw;this.w.addListener(L),this.I.schedule(()=>{m=new Ub(window.location,this.D),new Hw().init(),y=Uh.create(),u=new Vh(y),this.Tt===void 0&&(this.Tt=new bb(this.E,this.w,m,this.R,new jo),this.Tt.init())}),this.I.schedule(()=>{t=new Ab(this.E,this.D,this.K),e=new Ob(t,this.Tt,this.w,this.E.replayConsentRequiredForSession,this.E.malkaEtrEnabled),i=new Bb(this.E,this.D,this.K),r=new Hb(this.E,i,this.w,e),this.bs.setContext(r,e)}),this.I.schedule(()=>{c=new Lb(r,e,this.Rt),l=new dg(this.E,this.D,this.K),h=new mg(window.location,l),f=new gg(h),D=new Vb(this.E,r,h),Gt=new tg(Be,this.E),T=new Lp(Gt,this.E.isChild),H=new Up(Gt),it=new Vp(Gt),lt=new Hp,zt=new Ip(T,H,it,lt),v=new Bp(this.S,zt),_=new Sg(this.R),I=new yg(_,this.S);let V=new fg(this.E,this.D,this.K);Kt=new Xw(this.M,V),M=new km(this.S,Kt);let $=new Cb(r,e,h,Kt,this.E)}),this.I.schedule(()=>{let V=new jb(this.E,r,h,D,c,S,o,m);this.E.implementations&&(w=new Sw(this.E.implementations,this.S,this.I),w.init(),this.w.addListener(w)),V.compute($=>{this.I.schedule(()=>{var gt;v.init();let Mt=new qw(this.E,this.S,this.Rt,e,this.w),Se=new _w(this.E,this.D,this.Ot),ze=new bw(this.w,window.location,Se),qt=new ww(this.S,ze),ie=new i_(this.S,this.E),ce=new e_(this.Q,new zh),Oe=new l_(e,r),Ne,Pt,Wt;if(this.E.isCsCrosswritingHeap()){new t_(this.S,ce).init();let an="api/identify_v3",ir=new To(this.E.getPaProxyDomainUri(),an),Bs;this.E.cookielessTrackingEnabled?Bs=new Ng(this.K):Bs=new Dg(this.D),Ne=new Og(this.E.getHeapEnvId(),ir,r,Oe,Bs,this.E.identityEncryptionKey),Wt=new jh;let Fs;this.E.cookielessTrackingEnabled?Fs=new Nb(this.K):Fs=new Db(this.D),Pt=new xb(this.E.getHeapEnvId(),Fs,ce,this.R,Kt,Ne,Wt,(gt=this.E.experimental.sharedContext)===null||gt===void 0?void 0:gt.queryParamControl);let nr=new kb(Pt);this.w.addListener(nr)}let rn=new sl(this.E,r,e,O),sr=new sl(this.E,r,e,O,Pt);$?(this.w.emitInitTracking(),new _b(rn,sr,y,r,e,Oe,ce,this.w,this.S,v,this.E,qt,ze,Mt,this.Rt,this.M,Gt,this.Q,this.R,ie,this.J,zt,Kt,M,_,I,this.I,u,this.D,this.Ot,this.Tt,this.lt,Wt,Ne).start()):new pg(this.w,this.S,v,qt,ze,f,Mt).start()})})})}}return s})(),Cs=(()=>{let s;return function(n){let t="{domain}/tag/tag.bundle.js?v={version}",e,i={loadBundle(_){let I=_.source,M=_.data;if(c(M)){let T=()=>{let H=r(t,M);m(H,()=>I.postMessage("csBundleLoaded",_.origin))};e=M.token,v(i.loadBundle),l(_.origin)&&T()}}};function r(_,I){return csString.prototype.replace.call(csString.prototype.replace.call(csString.prototype.replace.call(_,"{version}",I.version),"{token}",I.token),"{domain}",I.domain)}function o(){return e}n.getToken=o;function c(_){return _&&_.type==="csBundleInjection"&&l(_.domain)&&f(_.version)&&h(_.token)}n.isAuthorizedIncomingMessage=c,n.hjDomainRegex=/^https?:\/\/[a-zA-Z0-9\.\-]+\.hotjar\.com$/;function l(_){return/^https?:\/\/[a-zA-Z0-9\.\-]+\.(content-square\.fr|contentsquare\.com|csq\.io)$/.test(_)||n.hjDomainRegex.test(_)}n.isAuthorizedDomain=l;function h(_){return/^[a-zA-Z0-9]+$/.test(_)}n.isAuthorizedToken=h;function f(_){return/^[a-zA-Z0-9\.]+$/.test(_)}n.isAuthorizedTagVersion=f;function u(){let _=window.opener||window.parent;return window!==_&&window.addEventListener}n.isActivable=u;function m(_,I){let M=document.createElement("script");M.type="text/javascript",M.async=!0,M.src=_,M.onload=I,M.charset="utf-8",document.head.appendChild(M)}n.addScript=m;function y(_){let I=document.createElement("link");I.rel="stylesheet",I.href=_,document.head.appendChild(I)}n.addStyle=y;function S(_){return`${_}?cb=${new csDate().getTime()}`}n.addCacheBusting=S;function O(){D(i.loadBundle)}n.waitForBundleInjection=O;function D(_){window.addEventListener("message",_,!1)}n.listen=D;function v(_){window.removeEventListener("message",_,!1)}n.removeListener=v}(s||(s={})),s})(),al="_hp_ved",$b=18e5,zb="/js/ved.js",Gb="/css/ved.css",qb="/js/ved.css",Wb=(()=>{let s;return function(n){n.StatusUpdate="status"}(s||(s={})),s})(),Yb=(()=>{let s;return function(n){n.ReceivedInitMessage="received_init_message"}(s||(s={})),s})();var qr=(()=>{let s;return function(n){let t=!1,e;function i(m){return e+m}function r(){let m=[i(Gb),i(qb)];csArray.prototype.forEach.call(m,y=>{Cs.addStyle(y)})}function o(m){let y=new csRegExp("(^|;)[ ]*"+m+"=([^;]*)"),S=y.exec(document.cookie);return S?decodeURIComponent(S[2]):null}function c(m,y,S){let O=encodeURIComponent(m)+"="+encodeURIComponent(y),D=new csDate;D.setTime(D.getTime()+S);let v=O+"; expires="+D.toUTCString()+"; path=/";document.cookie=v}function l(){c(al,"on",$b)}function h(){return o(al)==="on"}n.isVLCookieEnabled=h;function f(m){window.heapV=Object.assign({},window.heap,{source:m==null?void 0:m.source,uri:e,loadArgs:m==null?void 0:m.data.args,identify:()=>{},track:()=>{}})}n.initializeHeapV=f;function u(m,y){var S;if(e=m,y){let O={type:Wb.StatusUpdate,value:Yb.ReceivedInitMessage},D={targetOrigin:y==null?void 0:y.origin};(S=y==null?void 0:y.source)===null||S===void 0||S.postMessage(O,D)}t||(t=!0,l(),f(y),window.heapV&&(Cs.addScript(i(zb)),r()))}n.init=u}(s||(s={})),s})(),Xb=(()=>{let s;return function(n){let t=window.opener||window.parent,e="tag",i="https://app.contentsquare.com",r=[/^https:\/\/app\.contentsquare\.com$/,/^https:\/\/dev-app\.contentsquare\.com$/,/^https:\/\/staging-app\.contentsquare\.com$/,/^https:\/\/.*\.test\.contentsquare\.com$/,/^https:\/\/app\.[a-z0-9-]+\.csiab\.[a-z0-9-]+\.csq\.io$/,Cs.hjDomainRegex],o,c,l,h={initHeapVisualLabeler(T){var H;T.origin===l&&((H=T.data)===null||H===void 0?void 0:H.message)==="init"&&T.source&&(qr.init(l,T),_(h.initHeapVisualLabeler))},ping(T){typeof T.data=="string"&&T.data==="ping"&&m(T.origin)&&(c=T.origin,o=Cs.hjDomainRegex.test(T.origin)?i:T.origin,_(h.ping),v(h.insertMessageScript),y(Cs.addCacheBusting("utils.js")))},insertMessageScript:I(T=>{typeof T.data=="string"&&T.data!=="ping"&&(_(h.insertMessageScript),y(T.data))})};function f(){return Cs.getToken()}n.getToken=f;function u(){return window!==t&&window.addEventListener}n.isActivable=u;function m(T){return csArray.prototype.some.call(r,H=>H.test(T))}n.isAuthorizedDomain=m;function y(T,H){let it=document.createElement("script");it.type="text/javascript",it.async=!0;let lt=o==null?void 0:csString.prototype.replace.call(o,/^https?:/,"");it.src=`${lt}/${e}/${T}`,it.onload=H,it.charset="utf-8",document.getElementsByTagName("head")[0].appendChild(it),S(T)}function S(T){csString.prototype.includes.call(T,"&mode=")&&sessionStorage.setItem("_hjRetakerMode",csString.prototype.split.call(T,"&mode=")[1])}function O(){v(h.ping),Cs.waitForBundleInjection()}n.waitForConnection=O;function D(T){l=T,v(h.initHeapVisualLabeler),qr.isVLCookieEnabled()&&qr.init(l)}n.waitForHeapVisualLabeler=D;function v(T){window.addEventListener("message",T,!1)}n.listen=v;function _(T){window.removeEventListener("message",T,!1)}n.removeListener=_;function I(T){return function(H){H.origin===c&&T(H)}}n.secureListener=I;function M(T){c&&t.postMessage(T,c)}n.post=M}(s||(s={})),s})();var In=window.CSFrameCommunication||Xb,Kb=(()=>{class s extends Ho{constructor(t){super(),this.I=t}emitBeforeNaturalPageView(t){for(let e of this.listeners)e.onBeforeNaturalPageView&&e.onBeforeNaturalPageView(t)}emitAfterNaturalPageView(t){for(let e of this.listeners)e.onAfterNaturalPageView&&e.onAfterNaturalPageView(t)}emitInitTracking(){for(let t of this.listeners)t.onInitTracking&&t.onInitTracking()}emitStartTracking(t){for(let e of this.listeners)e.onStartTracking&&this.I.schedule(()=>e.onStartTracking(t))}emitStartNoTrackingMode(){for(let t of this.listeners)t.onStartNoTrackingMode&&this.I.schedule(()=>t.onStartNoTrackingMode())}emitArtificialPageViewEnd(t=!1){for(let e of this.listeners)if(e.onArtificialPageViewEnd)try{e.onArtificialPageViewEnd(t)}catch(i){B.error(i)}}emitBeforeArtificialPageView(t,e){for(let i of this.listeners)i.onBeforeArtificialPageView&&i.onBeforeArtificialPageView(t,e)}emitAfterArtificialPageView(t=!1){for(let e of this.listeners)e.onAfterArtificialPageView&&e.onAfterArtificialPageView(t)}emitBeforeSessionRenewal(){for(let t of this.listeners)t.onBeforeSessionRenewal&&t.onBeforeSessionRenewal()}emitAfterSessionRenewal(){for(let t of this.listeners)t.onAfterSessionRenewal&&t.onAfterSessionRenewal()}emitOptout(){for(let t of this.listeners)t.onOptout&&t.onOptout()}emitReplayUnanonymizationConsentGranted(){for(let t of this.listeners)t.onReplayUnanonymizationConsentGranted&&t.onReplayUnanonymizationConsentGranted()}emitReplayUnanonymizationConsentWithdrawn(){for(let t of this.listeners)t.onReplayUnanonymizationConsentWithdrawn&&t.onReplayUnanonymizationConsentWithdrawn()}emitAfterReplayRecordingConsentGranted(){for(let t of this.listeners)t.onAfterReplayRecordingConsentGranted&&t.onAfterReplayRecordingConsentGranted()}emitAfterReplayRecordingConsentWithdrawn(){for(let t of this.listeners)t.onAfterReplayRecordingConsentWithdrawn&&t.onAfterReplayRecordingConsentWithdrawn()}emitCollectStateChange(t,e){for(let i of this.listeners)i.onCollectStateChange&&i.onCollectStateChange(t,e)}emitInitialDomStart(){for(let t of this.listeners)t.onInitialDomStart&&t.onInitialDomStart()}emitInitialDomDone(t){for(let e of this.listeners)e.onInitialDomDone&&e.onInitialDomDone(t)}emitRecordingContextChange(){for(let t of this.listeners)t.onRecordingContextChange&&t.onRecordingContextChange()}emitSensitiveStatusChange(){var t;for(let e of this.listeners)(t=e.onSensitiveStatusChange)===null||t===void 0||t.call(e)}emitBeforeVisitorRenewal(){for(let t of this.listeners)t.onBeforeVisitorRenewal&&t.onBeforeVisitorRenewal()}emitAfterVisitorCleared(){for(let t of this.listeners)t.onAfterVisitorCleared&&t.onAfterVisitorCleared()}emitAfterVisitorRenewal(){for(let t of this.listeners)t.onAfterVisitorRenewal&&t.onAfterVisitorRenewal()}emitSessionCreated(){for(let t of this.listeners)t.onSessionCreated&&t.onSessionCreated()}emitSessionRemoved(){for(let t of this.listeners)t.onSessionRemoved&&t.onSessionRemoved()}emitSessionRefreshed(){for(let t of this.listeners)t.onSessionRefreshed&&t.onSessionRefreshed()}}return j([Nt("emitStartTracking")],s.prototype,"emitStartTracking",null),s})();var Jb=(()=>{let s;return function(n){function t(){return typeof window.CSJavascriptBridge=="object"&&typeof window.CSJavascriptBridge.optIn=="function"&&typeof window.CSJavascriptBridge.optOut=="function"&&typeof window.CSJavascriptBridge.sendEvent=="function"&&typeof window.CSJavascriptBridge.sendDynamicVar=="function"&&typeof window.CSJavascriptBridge.sendTransaction=="function"}n.isCSJavascriptBridgeDefined=t;function e(){if(typeof window.CSJavascriptBridge.getVersion=="function")try{let v=window.CSJavascriptBridge.getVersion();if(mt(v))return v}catch{B.warn("an error occurred when calling getVersion")}return null}n.getBridgeVersion=e;function i(){typeof window.CSJavascriptBridge.onWebviewTrackingReady=="function"&&window.CSJavascriptBridge.onWebviewTrackingReady()}n.notifyIsReadyForTracking=i;function r(v,_){window.CSJavascriptBridge.identify&&window.CSJavascriptBridge.identify(v,csJSON.stringify(_))}n.identify=r;function o(){window.CSJavascriptBridge.resetIdentity&&window.CSJavascriptBridge.resetIdentity()}n.resetIdentity=o;function c(v){window.CSJavascriptBridge.addUserProperties&&window.CSJavascriptBridge.addUserProperties(csJSON.stringify(v))}n.addUserProperties=c;function l(v){window.CSJavascriptBridge.sendEvent(csJSON.stringify(v))}n.sendAnalysisEvent=l;function h(v){if(window.CSJavascriptBridge.sendSREvent)for(let _ of v.events)window.CSJavascriptBridge.sendSREvent(csJSON.stringify(_))}n.sendSREvent=h;function f(v){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendLog&&window.CSJavascriptBridge.sendLog(csJSON.stringify(v))}n.sendLog=f;function u(){window.CSJavascriptBridge.optIn()}n.sendOptIn=u;function m(){window.CSJavascriptBridge.optOut()}n.sendOptOut=m;function y(v,_){window.CSJavascriptBridge.sendDynamicVar(v,_)}n.sendDynamicVariable=y;function S(v,_,I){window.CSJavascriptBridge.sendTransaction(v,_,I)}n.sendTransaction=S;function O(v,_){if(window.CSJavascriptBridge.sendAssets){let I=csJSON.stringify(v);window.CSJavascriptBridge.sendAssets(I,_||null)}else window.CSJavascriptBridge.sendSRAssets&&window.CSJavascriptBridge.sendSRAssets(csArray.prototype.map.call(v,I=>I.assetId))}n.sendAssets=O;function D(v){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendNativeSREvent&&window.CSJavascriptBridge.sendNativeSREvent(csJSON.stringify(v))}n.sendNativeSREvent=D}(s||(s={})),s})();var Qb=(()=>{class s{setItem(t,e){window.sessionStorage.setItem(t,e)}getItem(t){return window.sessionStorage.getItem(t)}removeItem(t){window.sessionStorage.removeItem(t)}}return s})(),Zb=(()=>{class s{constructor(t,e,i){this.E=t,this.At=e,this.bs=i}start(){var t,e,i,r,o;if(window.CSQ_TAGS=csArray.prototype.concat.call(window.CSQ_TAGS||[],this.E.projectId),window.UXAnalytics)return;window.UXAnalytics={};let c=new Qb,l=new Th(!!(!((t=this.E.taskSchedulerOptions)===null||t===void 0)&&t.enabled),(e=this.E.taskSchedulerOptions)===null||e===void 0?void 0:e.maxProcessingTime,(i=this.E.taskSchedulerOptions)===null||i===void 0?void 0:i.waitDuration),h=new Ep(this.At,this.E);h.init();let f=new vp(this.E,h);if(this.At.isTopWindowTracker()&&f.canTrack()){if(!((r=window.CSProtectnativeFunctionsLogs)===null||r===void 0)&&r.Warning&&B.warn(`protectNativeFunctions failed: ${window.CSProtectnativeFunctionsLogs.Warning}`),!((o=window.CSProtectnativeFunctionsLogs)===null||o===void 0)&&o.Critical){B.error(`protectNativeFunctions failed: ${window.CSProtectnativeFunctionsLogs.Critical}`);return}mp();let m=new Kb(l),y=new Fb(this.E,h,this.bs,l,m,c);this.E.isQuotaEnabled()?y.initWithQuota():y.init()}let u=csString.prototype.indexOf.call(window.location.href,"csDebug=1")>-1;window.UXAnalytics={Sensitive:{isNodeSensitive(m){return k.isMaskedElement(m)||k.isMaskedElementChild(m)},isAttributeSensitive(m,y){return k.isMaskedAttribute(m,y)},getSensitiveAttributes(m){return Hi(m.attributes,y=>k.isMaskedAttribute(m,y.name))}},Console:{warn(m){u&&console.warn("cs.tracking.warning",m)},error(m){u&&console.error("cs.tracking.error",m)}},Version:Rl},window.CSFrameCommunication||(window.CSFrameCommunication=In,In.isActivable()&&In.waitForConnection(),this.E.isCsCrosswritingHeap()&&In.waitForHeapVisualLabeler(this.E.getHeapWebAppUri()))}}return j([Nt("main.start"),N("main.start")],s.prototype,"start",null),s})(),tT=(()=>{class s{constructor(){}send(t,e,i=pt.warn){let r={message:t,errorCode:e,level:i};Jb.sendLog(r)}}return s})();var eT=(()=>{class s{constructor(t,e,i){this.X=t,this.M=e,this.QP=i,this.vt=[],this.ZP=Vo().v}flush(){this.vt.length!==0&&(this.X.send({m:csArray.prototype.map.call(this.vt,t=>({n:t.name,p:t.parameter,v:t.value})),p:this.M.anonymizePII(window.location.pathname),pid:this.QP,v:this.ZP}),this.vt=[])}push(t){csArray.prototype.push.call(this.vt,...t),this.flush()}}return s.DEBOUNCE_INTERVAL=5e3,j([wd(s.DEBOUNCE_INTERVAL)],s.prototype,"flush",null),s})();function sT(s,n){let t=s.validationRate/10,e=Ms.boolean(t);if((s.environment==="staging"||!1||e)&&!n.isInWebViewContext())try{let o=Uh.create(n.isTopWindowTracker()),l=new Vh(o).create(s.getMetricsUri()),h=new ks,f=new eT(l,h,s.projectId);F.setService(f)}catch(o){B.warn(`Error initializing metrics: ${o.message}`)}}function iT(){var s;Od();let n=new jf(window.CS_CONF);window._uxa=window._uxa||[],n.processOptionOverrides(window._uxa);let t=new Hf(window,n);t.init();let e=new up;if(md(B),dp(),B.computeIsActive(n.validationRate),t.isTopWindowTracker()){let o=new op(n,e);B.setStrategy(o)}else if(t.isInWebViewContext()){let r=new tT;B.setStrategy(r)}!((s=n==null?void 0:n.experimental)===null||s===void 0)&&s.disableMutationObserverProtection&&window.csMutationObserver&&(window.csMutationObserver=Ls(window,"MutationObserver")),Sf(),sT(n,t),new Zb(n,t,e).start()}window.CSCurrentScript=document.currentScript;csSetTimeout(()=>{try{fp(iT)}catch{}});})();

// signature-6e00b0cd2453efea6829e79267206c341441d63912a9e2d9c440dc0e104bb1df